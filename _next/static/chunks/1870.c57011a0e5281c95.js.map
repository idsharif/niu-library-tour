{"version":3,"file":"static/chunks/1870.c57011a0e5281c95.js","mappings":"uMACAA,EAAqBC,EAAAD,cAAoB,CAElC,SAAAE,EAAAC,CAAA,EACP,OAAAA,GAAAH,EAAAG,IAAAA,EAAAC,IAAA,GAA0DH,EAAAI,QAAc,CAQjE,SAAAC,EAAAC,CAAA,CAAAC,CAAA,EACP,OANA,EAMAD,GAHsBN,EAAAK,YAAkB,CAGxCC,EAHwC,mBAGxCC,EAHwCA,EAAAD,EAAAC,KAAA,MAGxCA,CAHyG,EAGzGD,CAJA,gFCRO,IAAAE,EAAA,WACP,QAAAC,EAAAC,UAAAC,MAAA,CAAAC,EAAA,MAAAH,GAAAI,EAAA,EAAsEA,EAAAJ,EAAaI,IACnFD,CAAA,CAAAC,EAAA,CAAAH,SAAA,CAAAG,EAAA,CAEA,OAAAD,CACA,EACOE,EAAA,WACP,QAAAC,EAAAL,UAAAC,MAAA,CAAAC,EAAA,MAAAG,GAAAC,EAAA,EAAyEA,EAAAD,EAAeC,IACxFJ,CAAA,CAAAI,EAAA,CAAAN,SAAA,CAAAM,EAAA,CAEA,OAAAJ,CACA,+JCVAK,EAAyB,SAAAC,CAAA,CAAAC,CAAA,EACzB,IAAAC,EAAA,GACA,QAAAC,KAAAH,EAAAI,OAAAC,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAP,EAAAG,IAAAF,EAAAA,EAAAO,OAAA,CAAAL,IAAAD,CAAAA,CAAA,CAAAC,EAAA,CAAAH,CAAA,CAAAG,EAAA,EACA,GAAAH,IAAA,EAAAA,GAAA,mBAAAI,OAAAK,qBAAA,SAAAC,EAAA,EAAAP,EAAAC,OAAAK,qBAAA,CAAAT,GAA4HU,EAAAP,EAAAV,MAAA,CAAciB,IAC1I,EAAAT,EAAAO,OAAA,CAAAL,CAAA,CAAAO,EAAA,GAAAN,OAAAC,SAAA,CAAAM,oBAAA,CAAAJ,IAAA,CAAAP,EAAAG,CAAA,CAAAO,EAAA,GAAAR,CAAAA,CAAA,CAAAC,CAAA,CAAAO,EAAA,EAAAV,CAAA,CAAAG,CAAA,CAAAO,EAAA,EACA,CACA,OAAAR,CACA,EAKOU,EAA2CC,EAAAC,aAAmB,OAC9DC,EAAA,SAAAC,CAAA,CAAAC,CAAA,EACP,IAAAC,EAA2BL,EAAAM,UAAgB,CAAAP,GAC3CQ,EAA8BP,EAAAQ,OAAa,YAE3C,IAAAH,EAAA,SACA,IAFAI,EAEAC,EAAAL,EAAAK,gBAAA,CACAC,EAAAN,EAAAM,WAAA,CACAC,EAAAP,EAAAO,UAAA,CACAC,EAAAH,aAAAA,EAAA,iBACA,OAAWI,IAAUL,CAAAA,EAAA,GAAoB,GAAAM,EAAAC,CAAA,EAAeP,EAAA,GAAAQ,MAAA,CAAAd,EAAA,YAAAc,MAAA,CAAAJ,EAAA,YAAiF,GAAAE,EAAAC,CAAA,EAAeP,EAAA,GAAAQ,MAAA,CAAAd,EAAA,YAAAc,MAAA,CAAAJ,EAAA,cAAAF,GAA8F,GAAAI,EAAAC,CAAA,EAAeP,EAAA,GAAAQ,MAAA,CAAAd,EAAA,YAAAc,MAAA,CAAAJ,EAAA,aAAAD,GAA4F,GAAAG,EAAAC,CAAA,EAAeP,EAAA,GAAAQ,MAAA,CAAAd,EAAA,YAAAc,MAAA,CAAAJ,EAAA,YAAAT,QAAAA,GAAAK,CAAA,EAChX,EAAG,CAAAN,EAAAC,EAAAC,EAAA,EACH,OACAa,YAAAb,MAAAA,EAAA,OAAAA,EAAAa,WAAA,CACAR,iBAAAL,MAAAA,EAAA,OAAAA,EAAAK,gBAAA,CACAH,sBAAAA,CACA,CACA,EACOY,EAAA,SAAAC,CAAA,EACP,IAAAC,EAAAD,EAAAC,QAAA,CACA,OAAsBrB,EAAAsB,aAAmB,CAAAvB,EAAAwB,QAAA,EACzCC,MAAA,MACGH,EACH,EACAI,EAAA,SAAAC,CAAA,EACA,IAAAL,EAAAK,EAAAL,QAAA,CACAM,EAAAzC,EAAAwC,EAAA,cACA,OAAsB1B,EAAAsB,aAAmB,CAAAvB,EAAAwB,QAAA,EACzCC,MAAAG,CACA,EAAGN,EACH,CAsCAO,CAAAA,EAAA,GArCA,SAAApD,CAAA,EAEA,IADAqD,EACAC,EAA0B9B,EAAAM,UAAgB,CAACyB,EAAAC,EAAa,EACxDC,EAAAH,EAAAG,YAAA,CACAC,EAAAJ,EAAA1B,SAAA,CACA+B,EAAA3D,EAAA4D,IAAA,CACAA,EAAAD,KAAA,IAAAA,EAAA,SAAAA,CAAA,CACA/B,EAAA5B,EAAA4B,SAAA,CACAiC,EAAA7D,EAAA6D,KAAA,CACAC,EAAA9D,EAAA2B,SAAA,CACAoC,EAAA/D,EAAA+D,SAAA,CACAlB,EAAA7C,EAAA6C,QAAA,CACAmB,EAAAtD,EAAAV,EAAA,iEACA2B,EAAA8B,EAAA,gBAAAK,GACAG,EAAY3B,IAAUX,EAAA0B,CAAAA,EAAA,GAAgC,GAAAd,EAAAC,CAAA,EAAea,EAAA,GAAAZ,MAAA,CAAAd,EAAA,QAAA+B,QAAAA,GAAyE,GAAAnB,EAAAC,CAAA,EAAea,EAAA,GAAAZ,MAAA,CAAAd,EAAA,UAAAkC,GAAuD,GAAAtB,EAAAC,CAAA,EAAea,EAAA,GAAAZ,MAAA,CAAAd,EAAA,aAAAC,aAAAA,GAAAyB,CAAA,EAAAU,GACnOlC,EAA2BL,EAAAM,UAAgB,CAAAP,GAC3C2C,EAAmB,GAAAC,EAAA3B,CAAA,EAAOK,GAC1BuB,EAAc5C,EAAAQ,OAAa,YAC3B,OAAAkC,EAAAG,GAAA,UAAA1E,CAAA,CAAA0B,CAAA,EACA,IAAAiD,EAAA3E,GAAAA,EAAA2E,GAAA,KAAA7B,MAAA,CAAAd,EAAA,UAAAc,MAAA,CAAApB,GACA,OAA0BG,EAAAsB,aAAmB,CAAAG,EAAA,CAC7CqB,IAAAA,EACA5B,YAAAkB,EACA1B,iBAAAN,EACAO,YAAAd,IAAAA,GAAA,EAAAQ,GAAAA,CAAAA,MAAAA,EAAA,OAAAA,EAAAM,WAAA,GACAC,WAAAf,IAAA6C,EAAA9D,MAAA,MAAAyB,GAAAA,CAAAA,MAAAA,EAAA,OAAAA,EAAAO,UAAA,EACA,EAAOzC,EACP,EACA,EAAG,CAAAiE,EAAAM,EAAArC,EAAA,SAEH,IAAAqC,EAAA9D,MAAA,CACA,KAEsBoB,EAAAsB,aAAmB,OAAQ,GAAAyB,EAAA/B,CAAA,EAAQ,CACzDuB,UAAAE,CACA,EAAGD,GAAAI,EAHH,w6DCrEO,IAAMI,EAAoCC,EAAAA,EAAAA,CAAAA,GAAAA,CAAAA,UAAU,oGASrDC,EAAAA,EAAaA,CA6BXA,EAAAA,EAAaA,CAUbC,EAAAA,EAAaA,ECtCRC,EAA6BC,CAAAA,EAAAA,EAAAA,IAAAA,EACxC,SAAAC,CAAA,CAAkC,KAA/BC,EAAAA,EAAAA,KAAAA,CAAOC,EAAAA,EAAAA,UAAAA,CAC0BC,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,QAAAA,EAAS,IAAK,GAAzCC,EAA2BD,CAAAA,CAAAA,EAAAA,CAAhBE,EAAgBF,CAAAA,CAAAA,EAAAA,CAC3BG,EAAWC,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAqB,aAArBA,CAAAA,EAAAA,CACZC,EAAmCC,CAAAA,EAAAA,EAAAA,CAAAA,IAAjCD,4BAAAA,CAEFE,EAAUxD,CAAAA,EAAAA,EAAAA,OAAAA,EACd,eACE+C,EACAA,EACAA,EAFAA,MAAAA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,IAAY,GAAZA,CAAAA,EAAAA,EAAOU,KAAK,GAAZV,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAcW,WAAF,GACZX,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,IAAY,GAAZA,CAAAA,EAAAA,EAAOU,KAAK,GAAZV,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAcY,SAAF,GACZZ,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,IAAY,GAAZA,CAAAA,EAAAA,EAAOU,KAAK,GAAZV,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAca,GAAF,GACd,CAACb,EAAM,EAGHc,EAAOC,CAAAA,EAAAA,EAAAA,WAAAA,EAAY,GAAAC,EAAAvD,CAAA,YAAY,iEACtB,SAAM8C,EAA6BN,kBAC5CgB,EADSC,IAAA,GACJC,GAAG,EAAEf,EAAa,UAC7B,GAAG,CAACG,EAA8BN,EAAW,EAE7C,MACE,GAAAmB,EAAAC,IAAA,EAAC5B,EAAiCA,WAChC,GAAA2B,EAAAE,GAAA,EAACC,EAAAA,CAAWA,CAAAA,CACVd,QAASA,GAAW,GACpBT,MAAOA,GAASwB,KAAAA,EAChBC,SAAS,gBACTC,MAAM,mBACNC,eAAgB,CACdC,OAAQ,OACRC,SAAU,WACVC,MAAO,OACPC,IAAK,EACLC,KAAM,CACR,IAEF,GAAAZ,EAAAE,GAAA,EAACW,MAAAA,CAAIjD,UAAU,mBACb,GAAAoC,EAAAC,IAAA,EAACY,MAAAA,CAAIjD,UAAU,iBACb,GAAAoC,EAAAE,GAAA,EAACW,MAAAA,CAAIjD,UAAU,OACf,GAAAoC,EAAAE,GAAA,EAACW,MAAAA,CAAIjD,UAAU,gBACb,GAAAoC,EAAAE,GAAA,EAAChF,IAAAA,CAAE4F,cAAW,GAAClD,UAAU,kBAE3B,GAAAoC,EAAAC,IAAA,EAACY,MAAAA,CAAIjD,UAAU,oBACZ,CAACmB,GACA,GAAAiB,EAAAE,GAAA,EAACa,KAAAA,UAAG,8DAIN,GAAAf,EAAAE,GAAA,EAACW,MAAAA,CAAIjD,UAAU,iBACZmB,EACG,oCACC,oIAC4B,GAElC,CAACA,GACA,GAAAiB,EAAAE,GAAA,EAACW,MAAAA,CAAIjD,UAAU,kBACb,GAAAoC,EAAAE,GAAA,EAACc,EAAAA,CAAMA,CAAAA,CACL/B,QAASA,EACTgC,SAAUhC,EACVxF,KAAK,UACLyH,QAASxB,WACV,gCAUjB,GAGFyB,EAAe1C,6LCzEFW,EAAkB,UAAM,CACnC,YAAMgC,EAAWC,CAAAA,EAAAA,EAAAA,EAAAA,IACXC,EAAQC,CAAAA,EAAAA,EAAAA,EAAAA,EAAYC,EAAAA,EAAWA,EAC/BC,EAA2BF,CAAAA,EAAAA,EAAAA,EAAAA,EAAYG,EAAAA,EAA8BA,EACrEC,EAAWJ,CAAAA,EAAAA,EAAAA,EAAAA,EAAYK,EAAAA,EAAcA,EACrCC,EAAcN,CAAAA,EAAAA,EAAAA,EAAAA,EAAYO,EAAAA,EAAiBA,EAC3CC,EAAqCR,CAAAA,EAAAA,EAAAA,EAAAA,EACzCS,EAAAA,EAAwCA,EAGpCC,EAAmCC,CAAAA,EAAAA,EAAAA,MAAAA,EAAyB,EAAE,EAE7DC,EAAkBjD,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAqB,eAArBA,CAAAA,EAAAA,CAChBkD,EAA2BlD,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAClC,0BADkCA,CAAAA,EAAAA,CAG3BmD,EAAqCnD,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAC5C,oCAD4CA,CAAAA,EAAAA,CAGrCoD,EAAcpD,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAqB,aAArBA,CAAAA,EAAAA,CAEjBqD,EAAgC1G,CAAAA,EAAAA,EAAAA,OAAAA,EACpC,eACE4F,EAAAA,EAAAA,EAAAA,MAAAA,CAAAA,OAAAA,CAAAA,EAAAA,IAEIe,GAFJf,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EACIgB,MAAM,CAACC,SAAAA,CAAAA,CAAAA,OAAQ,CAACA,EAAKC,MAAM,KAD/BlB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAEIe,KAAAA,EAAAA,GAFJf,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAGImB,IAAAA,CAAK,SAACC,CAAAA,CAAGC,CAAAA,CAAAA,QAAMD,EAAEE,UAAU,CAACC,aAAa,CAACF,EAAEC,UAAU,MAH1DtB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAIIvD,GAAAA,CAAI,SAACwE,CAAAA,CAAMO,CAAAA,CAAAA,KAIKP,EAEdjB,EAAAA,EAAAA,EANoB,SAAAyB,EAAA7G,CAAA,KAAA8G,EAAA9G,CAAA,KACnBqG,GAAAA,CACHO,MAAOA,EAAQ,EACfpB,YAAAA,EACAuB,eAAgBV,CAAAA,IAAS,GAATA,CAAAA,EAAAA,EAAKW,IAAI,GAATX,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAWY,EAAE,IAAK3B,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAU2B,EAAE,EAC9C5G,SACE+E,CAAAA,IAOIe,GAPJf,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EACIgB,MAAM,CAACc,SAAAA,CAAAA,CAAAA,QAAMA,EAAGZ,MAAM,GAAKD,EAAKY,EAAE,KADtC7B,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAEIvD,GAAAA,CAAIqF,SAAAA,CAAAA,CAAAA,KAGYA,EAHL,SAAAL,EAAA7G,CAAA,KAAA8G,EAAA9G,CAAA,KACRkH,GAAAA,CACH1B,YAAAA,EACAuB,eAAgBG,CAAAA,IAAO,GAAPA,CAAAA,EAAAA,EAAGF,IAAI,GAAPE,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAASD,EAAE,IAAK3B,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAU2B,EAAE,QALhD7B,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAOIe,KAAAA,EAAAA,GAPJf,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAQImB,IAAAA,CAAK,SAACC,CAAAA,CAAGC,CAAAA,CAAAA,QAAMA,EAAEC,UAAU,CAACC,aAAa,CAACH,EAAEE,UAAU,MAAM,EAAE,OAC/D,EAAE,EACb,CAACpB,MAAAA,EAAAA,KAAAA,EAAAA,EAAU2B,EAAE,CAAEzB,EAAaJ,EAAyB,EAGjD+B,EAAwC3H,CAAAA,EAAAA,EAAAA,OAAAA,EAC5C,kBAAM0G,EAA8BE,MAAM,CAACC,SAAAA,CAAAA,CAAAA,OAAQ,CAAC,CAACA,EAAKe,UAAU,IACpE,CAAClB,EAA8B,EAG3BmB,EAAsC7H,CAAAA,EAAAA,EAAAA,OAAAA,EAC1C,kBAAM0G,EAA8BE,MAAM,CAACC,SAAAA,CAAAA,CAAAA,OAAQ,CAACA,EAAKe,UAAU,IACnE,CAAClB,EAA8B,EAGjCoB,CAAAA,EAAAA,EAAAA,SAAAA,EAAU,UAAM,CACd1B,EAAiC2B,OAAO,CAAGrB,CAC7C,EAAG,CAACA,EAA8B,EAElC,IAAMpD,EAA+BQ,CAAAA,EAAAA,EAAAA,WAAAA,KACnC,GAAAkE,EAAAxH,CAAA,WAAOwC,CAAAA,CAAuB,iEAC5ByD,EAAW,qBAEQ,gCAAMwB,EAAAA,CAAAA,CAAAA,KAAa,CAClC,4CACA,CAAEjF,WAAAA,CAAW,EACb,CACEkF,QAAS,CACPC,cAAe,UAAgB1H,MAAA,CAANgF,EAC3B,CACF,WAEF,SATiB2C,EAAAnE,IAAA,GAATD,IAAAA,gBAWRyC,EAAW,2BAEf,YAhBOzD,CAAAA,CAAAA,kCAiBP,CAACyC,EAAOgB,EAAW,EAGf4B,EAAuBvE,CAAAA,EAAAA,EAAAA,WAAAA,KAC3B,GAAAkE,EAAAxH,CAAA,WACE8H,CAAAA,CAEG,KADHC,EAIUvE,EAOJwE,EAEIC,8EAbVF,EAAAA,EAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,CAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAqCjC,CAAAA,CAErCG,EAAW,qBAEQ,gCAAMwB,EAAAA,CAAAA,CAAAA,KAAa,CAAC,wBAAyBK,EAAS,CACrEJ,QAAS,CACPC,cAAe,UAAgB1H,MAAA,CAANgF,EAC3B,CACF,kBAJQzB,EAASoE,EAAAnE,IAAA,GAATD,IAAAA,CAKRuB,EAASmD,EAAAA,EAAAA,CAAAA,kBAA0B,CAAC1E,EAAKA,IAAI,GAGzCA,EAAKA,IAAI,CAAC8C,MAAM,EACZ2B,EACJrC,EAAiC2B,OAAO,CAACnB,MAAM,CAC7CC,SAAAA,CAAAA,CAAAA,QAAQA,EAAKY,EAAE,GAAKzD,EAAKA,IAAI,CAAC8C,MAAM,EACrC,CAAC,EAAE,CACN0B,EAAU,GAAAnB,EAAA7G,CAAA,KAAA8G,EAAA9G,CAAA,KACLiI,GAAAA,CACH5H,SAAU,CACR,GAAAwG,EAAA7G,CAAA,KAAA8G,EAAA9G,CAAA,KAAKwD,EAAKA,IAAI,GAAEgC,YAAAA,EAAauB,eAAgB,KAE9C,CAHS9G,MAAA,CAER,GAAAkI,EAAAnI,CAAA,EAAIiI,EAAgB5H,QAAQ,EAAI,EAAE,KAGlC0H,GAAgBA,EAAeK,qBAAqB,CAACJ,KAQzDA,CANAA,EAAU,GAAAnB,EAAA7G,CAAA,KAAA8G,EAAA9G,CAAA,KACLwD,EAAKA,IAAI,GACZgC,YAAAA,EACAuB,eAAgB,GAChBH,MAAOhB,EAAiC2B,OAAO,CAAC3J,MAAM,CAAG,KAEnDyC,QAAQ,CAAG,EAAE,CACjB0H,GAAgBA,EAAeM,iBAAiB,CAACL,IAEvDhC,EAAkC,wBAElCC,EAAW,2BAEf,YAxCE6B,CAAAA,CAAAA,kCAyCF,CACE7C,EACAF,EACAkB,EACAT,EACAM,EACAE,EACD,EAGGsC,EAAuBhF,CAAAA,EAAAA,EAAAA,WAAAA,KAC3B,GAAAkE,EAAAxH,CAAA,WACE8H,CAAAA,CAEG,KADHC,EAIUvE,EAOJwE,EAkBIC,8EA7BVF,EAAAA,EAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,CAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAqCjC,CAAAA,CAErCG,EAAW,qBAEQ,gCAAMwB,EAAAA,CAAAA,CAAAA,IAAY,CAAC,wBAAyBK,EAAS,CACpEJ,QAAS,CACPC,cAAe,UAAgB1H,MAAA,CAANgF,EAC3B,CACF,kBAJQzB,EAASoE,EAAAnE,IAAA,GAATD,IAAAA,CAKRuB,EAASmD,EAAAA,EAAAA,CAAAA,kBAA0B,CAAC1E,EAAKA,IAAI,GAGzCA,EAAKA,IAAI,CAAC8C,MAAM,CAMlB0B,CADAA,EAHEpC,EAAiC2B,OAAO,CAACnB,MAAM,CAC7CC,SAAAA,CAAAA,CAAAA,QAAQA,EAAKY,EAAE,GAAKzD,EAAKA,IAAI,CAAC8C,MAAM,EACrC,CAAC,EAAE,EAEEjG,QAAQ,CAAG2H,EAAQ3H,QAAQ,CAACwB,GAAG,CAACwE,SAAAA,CAAAA,CAAAA,QACtCA,EAAKY,EAAE,GAAKzD,EAAKA,IAAI,CAACyD,EAAE,CACpB,GAAAJ,EAAA7G,CAAA,KAAA8G,EAAA9G,CAAA,KACKwD,EAAKA,IAAI,GACZnD,SAAU,EAAE,CACZmF,YAAAA,EACAuB,eAAgB,KAElBV,CAAI,IAGJ4B,EACJrC,EAAiC2B,OAAO,CAACnB,MAAM,CAC7CC,SAAAA,CAAAA,CAAAA,QAAQA,EAAKY,EAAE,GAAKzD,EAAKA,IAAI,CAACyD,EAAE,EACjC,CAAC,EAAE,CACNe,EAAU,GAAAnB,EAAA7G,CAAA,KAAA8G,EAAA9G,CAAA,KACLiI,EACAzE,EAAKA,IAAI,GACZgC,YAAAA,EACAuB,eAAgB,MAGhBgB,GAAgBA,EAAeK,qBAAqB,CAACJ,uBAEzD/B,EAAW,2BAEf,YA7CE6B,CAAAA,CAAAA,kCA8CF,CAAChC,EAAgBG,EAAYhB,EAAOF,EAAUS,EAAY,EAGtD+C,EAAuBjF,CAAAA,EAAAA,EAAAA,WAAAA,KAC3B,GAAAkE,EAAAxH,CAAA,WACE8H,CAAAA,CAGG,KAFHC,EACAS,EAeMR,8EAhBND,EAAAA,EAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,CAAAA,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,EAAAA,CAAqCjC,CAAAA,CACrC0C,EAAAA,EAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,CAAAA,CAAAA,EAAAA,EAAAA,CAAAA,CAAAA,EAAAA,CAEAvC,EAAW,qBAET,gCAAMwB,EAAAA,CAAAA,CAAAA,OAAe,CACnB,wBACA,CAAER,GAAIa,EAAQb,EAAE,EAChB,CACES,QAAS,CACPC,cAAe,UAAgB1H,MAAA,CAANgF,EAC3B,CACF,kBAPF2C,EAAAnE,IAAA,GASAsB,EAASmD,EAAAA,EAAAA,CAAAA,kBAA0B,CAACJ,IAGhCA,EAAQxB,MAAM,EAMhB0B,CADAA,EAHEpC,EAAiC2B,OAAO,CAACnB,MAAM,CAC7CC,SAAAA,CAAAA,CAAAA,QAAQA,EAAKY,EAAE,GAAKa,EAAQxB,MAAM,EACnC,CAAC,EAAE,EAEEjG,QAAQ,CAAG2H,EAAQ3H,QAAQ,CAAC+F,MAAM,CACxCC,SAAAA,CAAAA,CAAAA,QAAQA,EAAKY,EAAE,GAAKa,EAAQb,EAAE,GAE5Bc,GAAgBA,EAAeK,qBAAqB,CAACJ,IAChDD,GACTA,EAAeU,oBAAoB,CAACX,EAAQb,EAAE,EAE5CuB,GAAwBzC,EAAwB,IAAI,sBAExDE,EAAW,2BAEf,YAnCE6B,CAAAA,CAAAA,kCAoCF,CAAC7C,EAAOF,EAAUkB,EAAYH,EAAgBC,EAAwB,EAGxE,MAAOvG,CAAAA,EAAAA,EAAAA,OAAAA,EACL,iBAAO,CACLgG,YAAAA,EACAqC,qBAAAA,EACAS,qBAAAA,EACAC,qBAAAA,EACArC,8BAAAA,EACApD,6BAAAA,EACA4C,mCAAAA,EACA2B,oCAAAA,EACAF,sCAAAA,CACF,GACA,CACE3B,EACAqC,EACAS,EACAC,EACAzF,EACAoD,EACAR,EACA2B,EACAF,EACD,CAEL,uEC1Qe,SAAAuB,EAAAC,CAAA,CAAAC,CAAA,EACf,IAAAC,EAAc,GAAAC,EAAA9I,CAAA,EAAa,GAAG2I,GAM9B,OALAI,MAAAC,OAAA,CAAAJ,IACAA,EAAAK,OAAA,UAAAnH,CAAA,EACA,OAAA+G,CAAA,CAAA/G,EAAA,GAGA+G,CACA,yECT6F,SAAA1K,GAAA,CAAa,OAAAA,EAAAI,OAAA2K,MAAA,WAAA7K,CAAA,EAAoC,QAAAD,EAAA,EAAYA,EAAAT,UAAAC,MAAA,CAAmBQ,IAAA,CAAK,IAAA+K,EAAAxL,SAAA,CAAAS,EAAA,CAAmB,QAAAgL,KAAAD,EAAA5K,OAAAC,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAyK,EAAAC,IAAA/K,CAAAA,CAAA,CAAA+K,EAAA,CAAAD,CAAA,CAAAC,EAAA,EAAsE,OAAA/K,CAAA,GAASgL,KAAA,MAAA1L,UAAA,CAAwB,IAA8H6I,EAA6D8C,SAAAC,EAAA,CAAAA,EAAAC,IAAA,CAAoB,IAAA3K,EAAAN,OAAAkL,IAAA,CAAAD,GAAuBlL,EAAAkL,EAAAE,EAAA,KAAeC,EAAA,GAAW9K,EAAAoK,OAAA,CAAA5K,GAAA,CAAcsL,CAAA,CAAAtL,EAAA,KAAAuL,GAAA,GAAe,IAAAC,EAAA,CAAAxL,EAAAD,IAAAA,EAAAhB,IAAA,GAAAoJ,EAAApI,EAAA+K,CAAA,CAAA/K,EAAA+K,CAAA,CAAA9K,GAAAD,EAAAA,CAAA,CAAAmL,EAAAlL,EAAAD,EAAA,CAAA0L,EAAA,CAAAzL,EAAAD,IAAA,CAAsG,IAAA+K,EAAAA,GAAA,KAA0EC,EAA9D,OAAAjL,EAAA,GAAWgL,EAAA,CAAI,CAAA9K,EAAA,CAAA+K,CAAAA,EAAAD,CAAA,CAAA9K,EAAA,oBAAAD,EAAA2L,EAAAX,GAAAhL,CAAA,GAA+C,EAAS,GAAAsL,EAAAA,EAAA,CAAQtM,KAAAoJ,EAAA2C,EAAAA,CAAA,OAAW,CAAK7K,EAAA6K,EAAA7K,GAAO,IAAAF,EAAAE,CAAA,CAAAD,EAAA,CAAasL,CAAA,CAAAtL,EAAA,CAAA4K,OAAA,CAAA5K,GAAAA,EAAAD,GAAA,GAAuBqI,EAAA,CAAApI,EAAAD,IAAA,CAAWS,EAAAoK,OAAA,CAAAE,GAAA,CAAc,IAAAC,EAAAhL,CAAA,CAAA+K,EAAA,CAAa9K,CAAA,CAAA8K,EAAA,GAAAC,GAAAO,CAAA,CAAAR,EAAA,CAAAF,OAAA,CAAA5K,GAAAA,EAAA+K,GAAA,EAAgC,EAAG,OAAOY,uBAAA,KAA4B,IAAAZ,EAAAW,EAAA,CAAW,GAAA9M,EAAAgN,UAAA,EAACJ,EAAAvL,GAAM,GAAArB,EAAAqK,SAAA,EAAC,KAAM,GAAAoC,EAAA,wDAAkE,QAAAA,EAAAK,EAAAA,EAAA,CAAc3M,KAAAoJ,EAAApI,EAAAE,CAAA,GAAW,KAAOoL,EAAA,OAAQ,IAAK,IAAAvL,EAAQ,GAAAlB,EAAA4I,MAAA,EAACuD,EAAI3C,CAAAA,EAAAtI,EAAAoJ,OAAA,CAAA6B,GAAAjL,EAAAoJ,OAAA,CAAA6B,EAA2B,GAAAnM,EAAAqK,SAAA,EAAC,KAAMhJ,EAAA8K,CAAA,EAAI,CAAAA,EAAA,GAAMc,eAAA7L,GAAA,CAAgE,IAAA8K,EAAAhL,EAAA,CAAW,GAAAlB,EAAAwF,QAAA,EAACnE,CAAA,CAAAD,EAAA,EAAO,MAAO,GAAApB,EAAAqK,SAAA,EAAC,IAAAqC,CAAAA,CAAA,CAAAtL,EAAA,CAAA8L,GAAA,CAAAhM,GAAAA,EAAAG,CAAA,CAAAD,EAAA,OAA+BsL,CAAA,CAAAtL,EAAA,CAAA+L,MAAA,CAAAjM,EAAA,CAAe,GAAAE,EAAA,GAAA8K,EAAU,GAAAlM,EAAAqG,WAAA,EAAClF,GAAA0L,EAAAzL,EAAAD,GAAA,CAAAC,EAAA,IAAiBgM,eAAAhM,GAA+DC,CAAA,CAAAD,EAAA,CAAAiM,eAAAR,EAAAS,SAAA,IAAAjM,EAAAkM,SAAAnM,GAAA,CAAoD,GAAAqL,EAAAA,EAAA,CAAQtM,KAAAoJ,EAAApI,EAAAC,CAAA,OAAa,CAAK,IAAAD,EAAAE,EAAUmI,EAAArI,EAAAE,EAAAD,EAAA,GAAY0G,SAAA1G,GAAA,CAAc,GAAAqL,EAAAA,EAAArL,OAAU,CAAK,IAAAD,EAAAE,EAAUmI,EAAArI,EAAAE,EAAAiL,EAAAjL,EAAAD,GAAA,CAAgB,OAAAA,CAAA,IAAWmL,EAAAnL,GAAAkL,EAAA,CAAAlL,EAAAD,IAAAC,EAAAA,GAAAQ,EAAA,CAAAR,EAAAD,EAAAC,EAAA,QAAqCjB,KAAA,QAAY,CAAA+L,IAAAA,EAAAA,EAAAtK,GAAAR,EAAAD,GAAAmL,EAAAlL,EAAAD,EAAA,gFGK9hD,SAAAqM,EAAAC,CAAA,CAAA7L,CAAA,EACf,OAAS8L,SFNMD,CAAA,EACf,GAAA3B,MAAAC,OAAA,CAAA0B,GAAA,OAAAA,CAAA,EEKuBA,IAAS,GAAAE,EAAA5K,CAAA,EAAoB0K,EAAA7L,IAAY,GAAAgM,EAAA7K,CAAA,EAA0B0K,EAAA7L,IAAYiM,UDNvF,CACf,gKCMA","sources":["webpack://_N_E/./node_modules/antd/es/_util/reactNode.js","webpack://_N_E/./node_modules/antd/es/_util/type.js","webpack://_N_E/./node_modules/antd/es/space/Compact.js","webpack://_N_E/./containers/Home/components/Collaboration/RequestAccessCollaboration/styled.ts","webpack://_N_E/./containers/Home/components/Collaboration/RequestAccessCollaboration/index.tsx","webpack://_N_E/./containers/Home/hook/useCommentScene.tsx","webpack://_N_E/./node_modules/rc-util/es/omit.js","webpack://_N_E/./node_modules/react-hooks-global-state/dist/index.modern.js","webpack://_N_E/./node_modules/@swc/helpers/src/_array_with_holes.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_non_iterable_rest.mjs","webpack://_N_E/./node_modules/@swc/helpers/src/_sliced_to_array.mjs","webpack://_N_E/<anon>"],"sourcesContent":["import * as React from 'react';\nvar isValidElement = React.isValidElement;\nexport { isValidElement };\nexport function isFragment(child) {\n  return child && isValidElement(child) && child.type === React.Fragment;\n}\nexport function replaceElement(element, replacement, props) {\n  if (!isValidElement(element)) {\n    return replacement;\n  }\n  return /*#__PURE__*/React.cloneElement(element, typeof props === 'function' ? props(element.props || {}) : props);\n}\nexport function cloneElement(element, props) {\n  return replaceElement(element, element, props);\n}","// https://stackoverflow.com/questions/46176165/ways-to-get-string-literal-type-of-array-values-without-enum-overhead\nexport var tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return args;\n};\nexport var tupleNum = function tupleNum() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  return args;\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nexport var SpaceCompactItemContext = /*#__PURE__*/React.createContext(null);\nexport var useCompactItemContext = function useCompactItemContext(prefixCls, direction) {\n  var compactItemContext = React.useContext(SpaceCompactItemContext);\n  var compactItemClassnames = React.useMemo(function () {\n    var _classNames;\n    if (!compactItemContext) return '';\n    var compactDirection = compactItemContext.compactDirection,\n      isFirstItem = compactItemContext.isFirstItem,\n      isLastItem = compactItemContext.isLastItem;\n    var separator = compactDirection === 'vertical' ? '-vertical-' : '-';\n    return classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-compact\").concat(separator, \"item\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-compact\").concat(separator, \"first-item\"), isFirstItem), _defineProperty(_classNames, \"\".concat(prefixCls, \"-compact\").concat(separator, \"last-item\"), isLastItem), _defineProperty(_classNames, \"\".concat(prefixCls, \"-compact\").concat(separator, \"item-rtl\"), direction === 'rtl'), _classNames));\n  }, [prefixCls, direction, compactItemContext]);\n  return {\n    compactSize: compactItemContext === null || compactItemContext === void 0 ? void 0 : compactItemContext.compactSize,\n    compactDirection: compactItemContext === null || compactItemContext === void 0 ? void 0 : compactItemContext.compactDirection,\n    compactItemClassnames: compactItemClassnames\n  };\n};\nexport var NoCompactStyle = function NoCompactStyle(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(SpaceCompactItemContext.Provider, {\n    value: null\n  }, children);\n};\nvar CompactItem = function CompactItem(_a) {\n  var children = _a.children,\n    otherProps = __rest(_a, [\"children\"]);\n  return /*#__PURE__*/React.createElement(SpaceCompactItemContext.Provider, {\n    value: otherProps\n  }, children);\n};\nvar Compact = function Compact(props) {\n  var _classNames2;\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    directionConfig = _React$useContext.direction;\n  var _props$size = props.size,\n    size = _props$size === void 0 ? 'middle' : _props$size,\n    direction = props.direction,\n    block = props.block,\n    customizePrefixCls = props.prefixCls,\n    className = props.className,\n    children = props.children,\n    restProps = __rest(props, [\"size\", \"direction\", \"block\", \"prefixCls\", \"className\", \"children\"]);\n  var prefixCls = getPrefixCls('space-compact', customizePrefixCls);\n  var clx = classNames(prefixCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), directionConfig === 'rtl'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-block\"), block), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-vertical\"), direction === 'vertical'), _classNames2), className);\n  var compactItemContext = React.useContext(SpaceCompactItemContext);\n  var childNodes = toArray(children);\n  var nodes = React.useMemo(function () {\n    return childNodes.map(function (child, i) {\n      var key = child && child.key || \"\".concat(prefixCls, \"-item-\").concat(i);\n      return /*#__PURE__*/React.createElement(CompactItem, {\n        key: key,\n        compactSize: size,\n        compactDirection: direction,\n        isFirstItem: i === 0 && (!compactItemContext || (compactItemContext === null || compactItemContext === void 0 ? void 0 : compactItemContext.isFirstItem)),\n        isLastItem: i === childNodes.length - 1 && (!compactItemContext || (compactItemContext === null || compactItemContext === void 0 ? void 0 : compactItemContext.isLastItem))\n      }, child);\n    });\n  }, [size, childNodes, compactItemContext]);\n  // =========================== Render ===========================\n  if (childNodes.length === 0) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clx\n  }, restProps), nodes);\n};\nexport default Compact;","/**\n *\n * styled LoadingContainer\n *\n */\nimport styled from 'styled-components';\nimport { FlexColCenter, FlexRowCenter } from '@styles/global-styles';\n\nexport const RequestAccessCollaborationWrapper = styled.div`\n  color: #fff;\n  width: 100vw;\n  height: 100vh;\n  .overlay {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    ${FlexRowCenter};\n    position: absolute;\n    // backdrop-filter: blur(4px);\n    background: rgba(0, 0, 0, 0.25);\n    .form {\n      width: 440px;\n      padding: 48px 24px 24px;\n      max-width: 90%;\n      position: relative;\n      background: rgba(0, 0, 0, 0.2);\n      background-image: linear-gradient(\n        114deg,\n        rgb(255 255 255 / 1%),\n        rgb(255 255 255 / 12%) 43%,\n        transparent 43.1%,\n        transparent\n      );\n      border-radius: 16px;\n      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n      backdrop-filter: blur(10px);\n      border: 1px solid rgba(255, 255, 255, 0.46);\n    }\n    .icon {\n      position: absolute;\n      width: 56px;\n      height: 56px;\n      top: -28px;\n      left: 50%;\n      transform: translateX(-50%);\n      ${FlexRowCenter};\n      color: #fff;\n      background: var(--color-theme);\n      border-radius: 50%;\n      font-size: 1.5rem;\n      z-index: 2;\n    }\n    .content {\n      width: 100%;\n      z-index: 2;\n      ${FlexColCenter};\n      line-height: 180%;\n      text-align: center;\n      h2 {\n        color: #fff;\n      }\n      .title {\n        margin: 32px 0 12px;\n        font-weight: 500;\n        font-size: var(--fontSize-h5);\n      }\n      .action {\n        .ant-btn {\n          background: var(--color-theme);\n          color: #fff;\n          box-shadow: 0px 4px 12px rgb(0 0 0 / 0.2);\n          border-radius: 6px;\n          border: none;\n          padding: 8px 36px;\n          height: auto;\n        }\n      }\n    }\n  }\n`;\n","/**\n *\n * LoadingContainer\n *\n */\nimport { I_Scene } from '@containers/Home/types';\nimport React, { memo, useCallback, useMemo, useState } from 'react';\nimport KrpanoBasic from '@components/Krpano/KrpanoBasic';\nimport { Button } from 'antd';\nimport { useCommentScene } from '@containers/Home/hook/useCommentScene';\nimport { useCollaborationMode } from '@containers/Home/global/TourStats';\nimport { RequestAccessCollaborationWrapper } from './styled';\n\ninterface Props {\n  scene: I_Scene;\n  project_id: string;\n}\n\nexport const RequestAccessCollaboration = memo(\n  ({ scene, project_id }: Props) => {\n    const [isSuccess, setIsSuccess] = useState(false);\n    const [loading] = useCollaborationMode('loading');\n    const { onRequestAccessCollaboration } = useCommentScene();\n\n    const urlTour = useMemo(\n      () =>\n        scene?.media?.src_preview ||\n        scene?.media?.src_thumb ||\n        scene?.media?.src,\n      [scene],\n    );\n\n    const onOK = useCallback(async () => {\n      const data = await onRequestAccessCollaboration(project_id);\n      if (data.msg) setIsSuccess(true);\n    }, [onRequestAccessCollaboration, project_id]);\n\n    return (\n      <RequestAccessCollaborationWrapper>\n        <KrpanoBasic\n          urlTour={urlTour || ''}\n          scene={scene || undefined}\n          krpanoId=\"previewViewer\"\n          divId=\"previewContainer\"\n          styleContainer={{\n            height: '100%',\n            position: 'absolute',\n            width: '100%',\n            top: 0,\n            left: 0,\n          }}\n        />\n        <div className=\"overlay\">\n          <div className=\"form\">\n            <div className=\"bg\" />\n            <div className=\"icon\">\n              <i aria-hidden className=\"fas fa-lock\" />\n            </div>\n            <div className=\"content\">\n              {!isSuccess && (\n                <h2>\n                  You do not have sufficient permission to access this page\n                </h2>\n              )}\n              <div className=\"title\">\n                {isSuccess\n                  ? 'Send request access successfully!'\n                  : `Please contact this Virtual Tour's owner to ensure that collaboration is enabled\n                or you have been granted access!`}\n              </div>\n              {!isSuccess && (\n                <div className=\"action\">\n                  <Button\n                    loading={loading}\n                    disabled={loading}\n                    type=\"primary\"\n                    onClick={onOK}\n                  >\n                    Request Sharing\n                  </Button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </RequestAccessCollaborationWrapper>\n    );\n  },\n);\n\nexport default RequestAccessCollaboration;\n","/* eslint-disable prefer-destructuring */\nimport { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport { RequireSomeField } from '@type/customType';\nimport { BaseXHR } from '@utils/axios';\nimport { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useCollaborationMode } from '../global/TourStats';\nimport {\n  selectToken,\n  selectInfoUser,\n  selectIsOwnerTour,\n  selectListCommentSceneSelected,\n  selectIsAllowToAccessOnCollaborationMode,\n} from '../selectors';\nimport { actions } from '../slice';\nimport { I_CommentScene, I_PayloadCommentScene } from '../types';\n\nexport const useCommentScene = () => {\n  const dispatch = useDispatch();\n  const token = useSelector(selectToken);\n  const listCommentSceneSelected = useSelector(selectListCommentSceneSelected);\n  const infoUser = useSelector(selectInfoUser);\n  const isOwnerTour = useSelector(selectIsOwnerTour);\n  const isAllowToAccessOnCollaborationMode = useSelector(\n    selectIsAllowToAccessOnCollaborationMode,\n  );\n\n  const listCommentSceneGroupByParentRef = useRef<I_CommentScene[]>([]);\n\n  const [krpanoInstance] = useCollaborationMode('krpanoRef');\n  const [, setCommentSceneSelected] = useCollaborationMode(\n    'commentSceneSelected',\n  );\n  const [, setIsShowDialogCreateCommentScene] = useCollaborationMode(\n    'isShowDialogCreateCommentScene',\n  );\n  const [, setLoading] = useCollaborationMode('loading');\n\n  const listCommentSceneGroupByParent = useMemo(\n    () =>\n      listCommentSceneSelected\n        ?.filter(item => !item.parent)\n        ?.slice()\n        ?.sort((a, b) => a.created_at.localeCompare(b.created_at))\n        ?.map((item, index) => ({\n          ...item,\n          index: index + 1,\n          isOwnerTour,\n          isOwnerComment: item.user?.id === infoUser?.id,\n          children:\n            listCommentSceneSelected\n              ?.filter(el => el.parent === item.id)\n              ?.map(el => ({\n                ...el,\n                isOwnerTour,\n                isOwnerComment: el.user?.id === infoUser?.id,\n              }))\n              ?.slice()\n              ?.sort((a, b) => b.created_at.localeCompare(a.created_at)) || [],\n        })) || [],\n    [infoUser?.id, isOwnerTour, listCommentSceneSelected],\n  );\n\n  const listCommentSceneGroupByParentResolved = useMemo(\n    () => listCommentSceneGroupByParent.filter(item => !!item.isResolved),\n    [listCommentSceneGroupByParent],\n  );\n\n  const listCommentSceneGroupByParentActive = useMemo(\n    () => listCommentSceneGroupByParent.filter(item => !item.isResolved),\n    [listCommentSceneGroupByParent],\n  );\n\n  useEffect(() => {\n    listCommentSceneGroupByParentRef.current = listCommentSceneGroupByParent;\n  }, [listCommentSceneGroupByParent]);\n\n  const onRequestAccessCollaboration = useCallback(\n    async (project_id: string) => {\n      setLoading(true);\n      try {\n        const { data } = await BaseXHR.$post(\n          '/comment-scene/send-request-access-collab',\n          { project_id },\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          },\n        );\n        return data;\n      } finally {\n        setLoading(false);\n      }\n    },\n    [token, setLoading],\n  );\n\n  const onCreateCommentScene = useCallback(\n    async (\n      payload: Omit<I_PayloadCommentScene, 'id' | 'children'>,\n      instanceKrpano: Type_RefFuncKrpano = krpanoInstance,\n    ) => {\n      setLoading(true);\n      try {\n        const { data } = await BaseXHR.$post('/comment-scene/create', payload, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        dispatch(actions.createCommentScene(data.data));\n\n        let newData;\n        if (data.data.parent) {\n          const commentSelected =\n            listCommentSceneGroupByParentRef.current.filter(\n              item => item.id === data.data.parent,\n            )[0];\n          newData = {\n            ...commentSelected,\n            children: [\n              { ...data.data, isOwnerTour, isOwnerComment: true },\n              ...(commentSelected.children || []),\n            ],\n          };\n          if (instanceKrpano) instanceKrpano.onReplaceCommentScene(newData);\n        } else {\n          newData = {\n            ...data.data,\n            isOwnerTour,\n            isOwnerComment: true,\n            index: listCommentSceneGroupByParentRef.current.length + 1,\n          };\n          newData.children = [];\n          if (instanceKrpano) instanceKrpano.onAddCommentScene(newData);\n        }\n        setIsShowDialogCreateCommentScene(false);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [\n      token,\n      dispatch,\n      setLoading,\n      isOwnerTour,\n      krpanoInstance,\n      setIsShowDialogCreateCommentScene,\n    ],\n  );\n\n  const onUpdateCommentScene = useCallback(\n    async (\n      payload: RequireSomeField<I_PayloadCommentScene, 'id'>,\n      instanceKrpano: Type_RefFuncKrpano = krpanoInstance,\n    ) => {\n      setLoading(true);\n      try {\n        const { data } = await BaseXHR.$put('/comment-scene/update', payload, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        dispatch(actions.updateCommentScene(data.data));\n\n        let newData;\n        if (data.data.parent) {\n          const commentSelected =\n            listCommentSceneGroupByParentRef.current.filter(\n              item => item.id === data.data.parent,\n            )[0];\n          newData = commentSelected;\n          newData.children = newData.children.map(item =>\n            item.id === data.data.id\n              ? {\n                  ...data.data,\n                  children: [],\n                  isOwnerTour,\n                  isOwnerComment: true,\n                }\n              : item,\n          );\n        } else {\n          const commentSelected =\n            listCommentSceneGroupByParentRef.current.filter(\n              item => item.id === data.data.id,\n            )[0];\n          newData = {\n            ...commentSelected,\n            ...data.data,\n            isOwnerTour,\n            isOwnerComment: true,\n          };\n        }\n        if (instanceKrpano) instanceKrpano.onReplaceCommentScene(newData);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [krpanoInstance, setLoading, token, dispatch, isOwnerTour],\n  );\n\n  const onDeleteCommentScene = useCallback(\n    async (\n      payload: I_CommentScene,\n      instanceKrpano: Type_RefFuncKrpano = krpanoInstance,\n      isClosePopoverOnKrpano: boolean = false,\n    ) => {\n      setLoading(true);\n      try {\n        await BaseXHR.$delete(\n          '/comment-scene/delete',\n          { id: payload.id },\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          },\n        );\n        dispatch(actions.deleteCommentScene(payload));\n\n        let newData;\n        if (payload.parent) {\n          const commentSelected =\n            listCommentSceneGroupByParentRef.current.filter(\n              item => item.id === payload.parent,\n            )[0];\n          newData = commentSelected;\n          newData.children = newData.children.filter(\n            item => item.id !== payload.id,\n          );\n          if (instanceKrpano) instanceKrpano.onReplaceCommentScene(newData);\n        } else if (instanceKrpano)\n          instanceKrpano.onRemoveCommentScene(payload.id);\n\n        if (isClosePopoverOnKrpano) setCommentSceneSelected(null);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [token, dispatch, setLoading, krpanoInstance, setCommentSceneSelected],\n  );\n\n  return useMemo(\n    () => ({\n      isOwnerTour,\n      onCreateCommentScene,\n      onUpdateCommentScene,\n      onDeleteCommentScene,\n      listCommentSceneGroupByParent,\n      onRequestAccessCollaboration,\n      isAllowToAccessOnCollaborationMode,\n      listCommentSceneGroupByParentActive,\n      listCommentSceneGroupByParentResolved,\n    }),\n    [\n      isOwnerTour,\n      onCreateCommentScene,\n      onUpdateCommentScene,\n      onDeleteCommentScene,\n      onRequestAccessCollaboration,\n      listCommentSceneGroupByParent,\n      isAllowToAccessOnCollaborationMode,\n      listCommentSceneGroupByParentActive,\n      listCommentSceneGroupByParentResolved,\n    ],\n  );\n};\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nexport default function omit(obj, fields) {\n  var clone = _objectSpread({}, obj);\n  if (Array.isArray(fields)) {\n    fields.forEach(function (key) {\n      delete clone[key];\n    });\n  }\n  return clone;\n}","import{useReducer as t,useEffect as e,useRef as r,useState as o,useCallback as n}from\"react\";function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(this,arguments)}const c=(t,e)=>{if(!t.includes(e))throw new Error(`'${e}' not found. It must be provided in initialState as a property key.`)},a=\"production\"!==process.env.NODE_ENV?Symbol(\"UPDATE_STATE\"):Symbol(),l=(l,u)=>{const i=Object.keys(u);let p=u,d=null;const f={};i.forEach(t=>{f[t]=new Set});const E=(t,e)=>e.type===a?e.r?e.r(t):e.e:l(t,e),S=(t,e)=>{\"production\"!==process.env.NODE_ENV&&c(i,t);const r=r=>{return s({},r,{[t]:(o=r[t],n=e,\"function\"==typeof n?n(o):n)});var o,n};if(d)d({type:a,r});else{p=r(p);const e=p[t];f[t].forEach(t=>t(e))}},b=(t,e)=>{i.forEach(r=>{const o=e[r];t[r]!==o&&f[r].forEach(t=>t(o))})};return{useGlobalStateProvider:()=>{const[o,n]=t(E,p);e(()=>{if(d)throw new Error(\"Only one global state provider is allowed\");return d=n,n({type:a,e:p}),()=>{d=null}},[]);const s=r(o);b(s.current,o),s.current=o,e(()=>{p=o},[o])},useGlobalState:t=>{\"production\"!==process.env.NODE_ENV&&c(i,t);const[r,s]=o(p[t]);return e(()=>(f[t].add(s),s(p[t]),()=>{f[t].delete(s)}),[t]),[r,n(e=>S(t,e),[t])]},getGlobalState:t=>(\"production\"!==process.env.NODE_ENV&&c(i,t),p[t]),setGlobalState:S,getState:()=>p,setState:t=>{if(d)d({type:a,e:t});else{const e=p;p=t,b(e,p)}},dispatch:t=>{if(d)d(t);else{const e=p;p=l(p,t),b(e,p)}return t}}},u=t=>l((t,e)=>t,t),i=(t,e=t(void 0,{type:void 0}),r)=>r?r(i)(t,e):l(t,e),p=()=>{if(!window.__REDUX_DEVTOOLS_EXTENSION__)return t=>t;const{before:t,after:e}=(()=>{let t,e;return{before:r=>(o,n,c)=>{if(t=o,e=n,c)return c(r)(o,n);const a=r(o,n);return s({},a,{useGlobalState:t=>{const[e]=a.useGlobalState(t);return[e,()=>{throw new Error(\"Update is not allowed when using DevTools\")}]}})},after:r=>(o,n,c)=>{if(c)return c(r)(o,n);const a=r(t,e);let l=s({},o(n,{type:\"@@redux/INIT\"}),e);const u=[];return s({},a,{getState:()=>l,dispatch:t=>(l=o(l,t),a.setState(l.computedStates[l.currentStateIndex].state),u.forEach(t=>t()),t),subscribe:t=>(u.push(t),()=>{const e=u.indexOf(t);u.splice(e,1)})})}}})();return((...t)=>t.reduce((t,e)=>(...r)=>t(e(...r))))(t,window.__REDUX_DEVTOOLS_EXTENSION__(),e)};export{u as createGlobalState,i as createStore,p as reduxDevToolsExt};\n//# sourceMappingURL=index.modern.mjs.map\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import arrayWithHoles from './_array_with_holes.mjs';\nimport iterableToArrayLimit from './_iterable_to_array.mjs';\nimport nonIterableRest from './_non_iterable_rest.mjs';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array.mjs';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n"],"names":["isValidElement","react__WEBPACK_IMPORTED_MODULE_0__","isFragment","child","type","Fragment","cloneElement","element","props","tuple","_len","arguments","length","args","_key","tupleNum","_len2","_key2","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","SpaceCompactItemContext","react__WEBPACK_IMPORTED_MODULE_2__","createContext","useCompactItemContext","prefixCls","direction","compactItemContext","useContext","compactItemClassnames","useMemo","_classNames","compactDirection","isFirstItem","isLastItem","separator","classnames__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__","Z","concat","compactSize","NoCompactStyle","_ref","children","createElement","Provider","value","CompactItem","_a","otherProps","__webpack_exports__","_classNames2","_React$useContext","_config_provider__WEBPACK_IMPORTED_MODULE_4__","E_","getPrefixCls","directionConfig","_props$size","size","block","customizePrefixCls","className","restProps","clx","childNodes","rc_util_es_Children_toArray__WEBPACK_IMPORTED_MODULE_1__","nodes","map","key","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__","RequestAccessCollaborationWrapper","styled","FlexRowCenter","FlexColCenter","RequestAccessCollaboration","memo","param","scene","project_id","useState","isSuccess","setIsSuccess","loading","useCollaborationMode","onRequestAccessCollaboration","useCommentScene","urlTour","media","src_preview","src_thumb","src","onOK","useCallback","_async_to_generator","data","sent","msg","jsx_runtime","jsxs","jsx","KrpanoBasic","undefined","krpanoId","divId","styleContainer","height","position","width","top","left","div","aria-hidden","h2","Button","disabled","onClick","Collaboration_RequestAccessCollaboration","dispatch","useDispatch","token","useSelector","selectToken","listCommentSceneSelected","selectListCommentSceneSelected","infoUser","selectInfoUser","isOwnerTour","selectIsOwnerTour","isAllowToAccessOnCollaborationMode","selectIsAllowToAccessOnCollaborationMode","listCommentSceneGroupByParentRef","useRef","krpanoInstance","setCommentSceneSelected","setIsShowDialogCreateCommentScene","setLoading","listCommentSceneGroupByParent","slice","filter","item","parent","sort","a","b","created_at","localeCompare","index","_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_7__","_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_8__","isOwnerComment","user","id","el","listCommentSceneGroupByParentResolved","isResolved","listCommentSceneGroupByParentActive","useEffect","current","_swc_helpers_src_async_to_generator_mjs__WEBPACK_IMPORTED_MODULE_9__","BaseXHR","headers","Authorization","_state","onCreateCommentScene","payload","instanceKrpano","newData","commentSelected","actions","_swc_helpers_src_to_consumable_array_mjs__WEBPACK_IMPORTED_MODULE_11__","onReplaceCommentScene","onAddCommentScene","onUpdateCommentScene","onDeleteCommentScene","isClosePopoverOnKrpano","onRemoveCommentScene","omit","obj","fields","clone","_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__","Array","isArray","forEach","assign","r","o","apply","Symbol","l","u","keys","d","f","Set","E","S","n","useGlobalStateProvider","useReducer","useGlobalState","add","delete","getGlobalState","setGlobalState","getState","setState","_slicedToArray","arr","_arrayWithHoles","_iterable_to_array","_unsupported_iterable_to_array","_nonIterableRest"],"sourceRoot":""}