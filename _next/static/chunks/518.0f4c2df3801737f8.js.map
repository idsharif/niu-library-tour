{"version":3,"file":"static/chunks/518.0f4c2df3801737f8.js","mappings":"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","sources":["webpack://_N_E/./components/Hotspot/animation.ts","webpack://_N_E/./components/Hotspot/styled.tsx","webpack://_N_E/./components/LoadingContainer/styled.ts","webpack://_N_E/./components/LoadingContainer/index.tsx","webpack://_N_E/./containers/Home/components/Collaboration/CommentScene/CommentSceneIcon.tsx","webpack://_N_E/./components/Hotspot/HotspotMedia.tsx","webpack://_N_E/./components/Krpano/useInternalFunction.tsx","webpack://_N_E/./utils/fullscreen.ts","webpack://_N_E/./components/Krpano/KrpanoViewer.tsx","webpack://_N_E/./components/BeforeAfterSlider/styled.ts","webpack://_N_E/./components/BeforeAfterSlider/index.tsx","webpack://_N_E/./containers/Home/components/Tour.tsx","webpack://_N_E/./containers/Home/components/styled.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import { keyframes } from 'styled-components';\n\nexport const pulse = keyframes`\n  0% {\n    transform: scale(0.9);\n    box-shadow: 0 0 0 0 rgba(255 255 255 / .5);\n  }\n  70% {\n    transform: scale(1);\n    box-shadow: 0 0 0 50px rgba(255 255 255 / 0);\n  }\n  100% {\n    transform: scale(0.9);\n    box-shadow: 0 0 0 0 rgba(255 255 255 / 0);\n  }\n`;\n\nexport const bounce = height => keyframes`\n  from {\n    transform: translateY(0px);\n  }\n  to {\n    transform: translateY(${height});\n  }\n`;\n\nexport const dash = keyframes`\n  from {\n    stroke-dashoffset: 800;\n  }\n  to {\n    stroke-dashoffset: 0;\n  }\n`;\n\nexport const pulseCallout = keyframes`\n  0% {\n    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.5);\n  }\n  70%,\n  100% {\n    box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);\n  }\n`;\n","/* eslint-disable no-nested-ternary */\nimport { FlexRowCenter } from 'styles/global-styles';\nimport styled, { css } from 'styled-components';\nimport {\n  I_HotspotConfigGlobal,\n  I_HotspotConfigStyle,\n  I_MediaInteraction,\n} from '@containers/Home/types';\nimport {\n  COLOR_HOTSPOT_BG_DEFAULT,\n  COLOR_HOTSPOT_ICON_DEFAULT,\n} from '@containers/Home/constants';\nimport { bounce, pulse, pulseCallout, dash } from './animation';\n\nexport const ShapeIconWrapper = styled.div<\n  I_HotspotConfigGlobal & {\n    // icon_fontSize?: number;\n    // shape_fontSize?: number;\n    // shape_color?: string;\n    isRenderShape?: boolean;\n  }\n>`\n  ${FlexRowCenter};\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  ${props =>\n    !props.isRenderShape &&\n    css`\n      background-color: ${props.bgColor || 'var(--color-red)'};\n      border: 2px solid #ffffff;\n      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);\n    `}\n  &.star span.icon {\n    margin-top: 7%;\n  }\n  &.triangle span.icon {\n    margin-top: 10%;\n  }\n  &.yinyang span.icon {\n    display: none;\n  }\n  &.diamond span.icon {\n    margin-top: -8%;\n  }\n  svg {\n    width: 100%;\n    height: 100%;\n    overflow: visible;\n    filter: drop-shadow(0px 4px 6px rgba(0, 0, 0, 0.4));\n    path {\n      stroke: #fff;\n      stroke-width: 46px;\n      ${props =>\n        css`\n          fill: ${props.bgColor || 'var(--color-red)'};\n        `}\n    }\n  }\n  .icon {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    i {\n      color: ${props => props.iconColor || '#fff'} !important;\n    }\n  }\n`;\n\nexport const ImageIconWrapper = styled.img`\n  width: 100%;\n  height: auto;\n`;\n\nexport const LottieIconWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nexport const MarkerIconWrapper = styled.div<{ color?: string }>`\n  position: relative;\n  svg {\n    ${props =>\n      props.color &&\n      css`\n        fill: ${props.color};\n      `}\n  }\n  path {\n    ${props =>\n      props.color &&\n      css`\n        fill: ${props.color};\n      `}\n  }\n  img {\n    position: absolute;\n    border-radius: 50%;\n    height: auto;\n    width: 70%;\n    height: auto;\n    aspect-ratio: 1/1;\n    left: 0;\n    right: 0;\n    top: 10%;\n    margin: auto;\n  }\n  #id_marker1 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker2 {\n    img {\n      top: 9%;\n      border-radius: 10%;\n    }\n  }\n  #id_marker3 {\n    img {\n      top: 9.5%;\n    }\n  }\n  #id_marker4 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker5 {\n    img {\n      top: 11%;\n    }\n  }\n  #id_marker6 {\n    img {\n      top: 8%;\n    }\n  }\n  #id_marker7 {\n    img {\n      top: 9.5%;\n    }\n  }\n  #id_marker8 {\n    img {\n      top: 12%;\n    }\n  }\n  #id_marker9 {\n    img {\n      top: 12%;\n    }\n  }\n  #id_marker10 {\n    img {\n      top: 9%;\n    }\n  }\n  #id_marker11 {\n    img {\n      top: 10.5%;\n    }\n  }\n  #id_marker12 {\n    img {\n      top: 10%;\n    }\n  }\n  #id_marker13 {\n    img {\n      top: 10%;\n    }\n  }\n  #id_marker14 {\n    img {\n      top: 11.5%;\n    }\n  }\n  #id_marker15 {\n    img {\n      top: 7.5%;\n    }\n  }\n  #id_marker16 {\n    img {\n      border-radius: 10%;\n      top: 10%;\n      width: 64%;\n    }\n  }\n`;\n\nexport const DefaultIconWrapper = styled.div<I_HotspotConfigGlobal>`\n  background: ${props => props.bgColor || COLOR_HOTSPOT_BG_DEFAULT};\n  border: 2px solid #ffffff;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);\n  border-radius: 50%;\n  ${FlexRowCenter};\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  transition: var(--transition-smooth);\n  i {\n    font-size: 18px;\n    color: ${props => props.iconColor || COLOR_HOTSPOT_ICON_DEFAULT};\n  }\n  @media (hover: hover) and (pointer: fine) {\n    &:hover {\n      transform: scale(1.2);\n    }\n  }\n`;\n\nexport const HotspotWrapper = styled.div<{\n  isHidden: boolean;\n  type: I_HotspotConfigStyle['type'] | 'icon-shape';\n  size?: number;\n  rotate?: number;\n  opacity?: number;\n}>`\n  ${props =>\n    props.isHidden &&\n    css`\n      visibility: hidden;\n    `}\n  position: relative;\n  width: ${props =>\n    (props.type === 'image'\n      ? 24\n      : props.type === 'marker'\n      ? 20\n      : props.type === 'lottie'\n      ? 32\n      : props.type === 'icon-shape'\n      ? 14.7\n      : 10.7) * (props.size || 3)}px;\n  height: ${props =>\n    props.type === 'image' || props.type === 'marker' || props.type === 'lottie'\n      ? 'auto'\n      : props.type === 'icon-shape'\n      ? `${14.7 * (props.size || 3)}px`\n      : `${10.7 * (props.size || 3)}px`};\n  .content {\n    width: 100%;\n    height: 100%;\n    opacity: ${props => props.opacity};\n    transform: rotate(${props => props.rotate}deg);\n    ${ShapeIconWrapper}, ${DefaultIconWrapper} {\n      i {\n        font-size: ${props => 4.7 * (props.size || 3)}px;\n      }\n    }\n    animation-iteration-count: infinite;\n    animation-duration: var(--animate-duration) !important;\n    ${FlexRowCenter};\n    &.pulse-grow {\n      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.25);\n      animation: ${pulse} 1.5s infinite;\n      animation-duration: 1500ms !important;\n    }\n    &.raise {\n      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.25);\n      animation: ${props =>\n          bounce(\n            props.type === 'image' ? 'auto' : `${14 * (props.size || 3)}px`,\n          )}\n        500ms infinite alternate cubic-bezier(0.2, 0.65, 0.6, 1);\n      animation-duration: 2000ms !important;\n    }\n    border-radius: 50%;\n    position: relative;\n  }\n  .--title {\n    color: #fff;\n    top: -32px;\n    left: 50%;\n    // min-width: 100%;\n    font-weight: 600;\n    text-align: center;\n    position: absolute;\n    white-space: nowrap;\n    background: rgba(0, 0, 0, 0.35);\n    border-radius: 4px;\n    padding: 4px 6px;\n    z-index: 20;\n    transform: translate(-50%);\n    text-shadow: 0 1px 4px #000;\n    em {\n      color: #fff;\n      text-align: center;\n      font-style: initial;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n`;\n\nexport const HotspotMediaWrapper = styled.div<I_MediaInteraction>`\n  width: ${props => props.width} !important;\n  height: ${props => props.height} !important;\n  transform: ${props => props.transform}\n    rotate(${props => props.rotate || 0}deg);\n  background-color: ${props => props.backgroundColor};\n  opacity: ${props => props.opacity};\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 20;\n  transform-origin: 0 0;\n  .target {\n    width: 100%;\n    height: 100%;\n    object-fit: ${props => props.displayType};\n  }\n  i {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    z-index: 30;\n    color: #fff;\n    background: rgb(0 0 0 / 0.5);\n    width: 5rem;\n    height: 5rem;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 1.5rem;\n    transition: var(--transition-smooth);\n    transform: scale(0.5);\n    opacity: 0;\n    cursor: pointer;\n  }\n  @media (hover: hover) and (pointer: fine) {\n    &:hover {\n      i {\n        transform: scale(1);\n        opacity: 1;\n      }\n    }\n  }\n  @media (hover: none) {\n    i {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n`;\n\nexport const CalloutIconWrapper = styled.div<{ degrees?: number }>`\n  width: 50%;\n  height: 50%;\n  .calloutWrapper {\n    width: 100%;\n    height: 100%;\n    .point {\n      width: 100%;\n      height: 100%;\n      .--dot {\n        width: 100%;\n        height: 100%;\n        background: #fff;\n        border-radius: 50%;\n        animation: ${pulseCallout} ease-out 3s forwards infinite;\n      }\n    }\n    .--main {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%)\n        rotate(${props => props.degrees || 45}deg);\n      transform-origin: left bottom;\n    }\n    .line {\n      width: 0;\n      height: 2px;\n      background-color: #fff;\n      top: 50%;\n      transform: translateY(-50%);\n      position: absolute;\n      left: 50%;\n      transition: var(--transition-smooth);\n    }\n    .--content {\n      position: absolute;\n      left: 120px;\n      top: 50%;\n      &.--type-text {\n        height: 2px;\n        transform-origin: bottom left;\n        transform: translateY(-50%)\n          rotate(${props => -(props.degrees || 45)}deg);\n        .--img {\n          display: none;\n        }\n        .--line {\n          width: 0;\n          // width: 100%;\n          height: 2px;\n          margin-left: -1px;\n          background-color: #fff;\n          transition: var(--transition-smooth);\n          svg {\n            display: none;\n          }\n        }\n        .--text {\n          width: 0;\n          transition: var(--transition-smooth);\n          overflow: hidden;\n          pointer-events: none;\n          transform: translateY(calc(-100% + 20px));\n          &:after {\n            content: '';\n            width: 2px;\n            height: 0;\n            background: #fff;\n            display: block;\n            transition: var(--transition-smooth);\n            position: absolute;\n            top: 50%;\n            transform: translateY(-50%);\n          }\n        }\n        .--inner {\n          width: max-content;\n          pointer-events: auto;\n          position: relative;\n          max-width: 280px;\n          @media (max-width: 575px) {\n            max-width: 200px;\n          }\n        }\n        .--mainTitle {\n          background: var(--color-primary);\n          color: var(--color-text);\n          display: block;\n          padding: 4px 12px;\n          width: max-content;\n          // margin-bottom: 6px;\n          font-size: 0.9rem;\n          font-weight: 700;\n          line-height: 20px;\n          max-width: 100%;\n          width: 100%;\n        }\n        article {\n          color: #fff;\n          font-weight: 500;\n          text-shadow: 0 1px 4px #000;\n          max-width: 100%;\n          background: rgba(0, 0, 0, 0.35);\n          padding: 10px;\n        }\n      }\n      &.--type-img {\n        transform: translate(-20px, -50%)\n          rotate(${props => -(props.degrees || 45)}deg);\n        width: 160px;\n        height: 160px;\n        .--line {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          width: calc(100% + 10px);\n          height: calc(100% + 10px);\n          z-index: -1;\n          svg {\n            display: block;\n            width: 100%;\n            height: 100%;\n            @media (max-width: 575px) {\n              circle {\n                stroke-width: 4px;\n                r: 60px;\n              }\n            }\n          }\n          #path {\n            stroke-dasharray: 800;\n            opacity: 0;\n          }\n        }\n        .--text {\n          display: none;\n        }\n        .--img {\n          width: 0;\n          height: 0;\n          overflow: hidden;\n          border-radius: 50%;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          margin: auto;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          transition: var(--transition-smooth);\n        }\n        .--inner {\n          width: max-content;\n          height: max-content;\n          pointer-events: auto;\n          position: relative;\n        }\n      }\n\n      .--img {\n        .--inner {\n          img {\n            width: 160px;\n            height: 160px;\n            border-radius: 50%;\n            object-fit: cover;\n            @media (max-width: 575px) {\n              width: 120px;\n              height: 120px;\n            }\n          }\n        }\n      }\n    }\n    &.active {\n      width: 120px;\n      height: 120px;\n      .line {\n        width: 120px;\n      }\n    }\n    &.show {\n      .line {\n        width: 120px;\n      }\n      .--content {\n        &.--type-text {\n          .--line {\n            /* width: 100%; */\n            /* transition-delay: 0.8s; */\n          }\n          .--text {\n            width: 100%;\n            transition-delay: 0.8s;\n            &:after {\n              height: 100%;\n              transition-delay: 0.8s;\n            }\n          }\n        }\n        &.--type-img {\n          .--img {\n            width: 100%;\n            height: 100%;\n            opacity: 1;\n            transition-delay: 0.8s;\n            img {\n            }\n          }\n          #path {\n            opacity: 1;\n            animation: ${dash} 2s ease-out forwards;\n            animation-delay: 0.5s;\n            transition-delay: 0.5s;\n          }\n        }\n      }\n    }\n  }\n`;\n","/**\n *\n * styled LoadingContainer\n *\n */\nimport styled from 'styled-components';\n\nexport const LoadingContainerWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  .ant-spin {\n    color: #d1005c;\n    &-container {\n      width: 100%;\n      height: 100%;\n    }\n    &-nested-loading {\n      width: 100%;\n      height: 100%;\n      > div > .ant-spin {\n        width: 100%;\n        height: 100%;\n        max-height: 100%;\n      }\n    }\n  }\n`;\n","/**\n *\n * LoadingContainer\n *\n */\nimport React, { memo } from 'react';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { Spin } from 'antd';\nimport { LoadingContainerWrapper } from './styled';\n\ninterface Props {\n  loading?: boolean;\n  description?: string;\n  children?: React.ReactNode;\n}\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nexport const LoadingContainer = memo(\n  ({ loading = false, description = '', children }: Props) => {\n    return (\n      <LoadingContainerWrapper>\n        <Spin indicator={antIcon} tip={description} spinning={loading}>\n          {children}\n        </Spin>\n      </LoadingContainerWrapper>\n    );\n  },\n);\n\nexport default LoadingContainer;\n","import React, {\n  forwardRef,\n  Ref,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useState,\n} from 'react';\nimport { I_CommentScene } from 'containers/Home/types';\nimport { Popover } from 'antd';\nimport dynamic from 'next/dynamic';\nimport { useCollaborationMode } from '@containers/Home/global/TourStats';\nimport LoadingContainer from '@components/LoadingContainer';\nimport { CommentSceneIconWrapper } from './styled';\n\nconst PopoverCommentScene = dynamic(() => import('./CommentScenePopover'));\nconst SvgContainer = dynamic(() => import('@components/SvgContainer'));\n\ninterface Props {\n  commentScene: I_CommentScene;\n  onCreateCommentScene: (data, krpanoInstance) => void;\n  onUpdateCommentScene: (data, krpanoInstance) => void;\n  onDeleteCommentScene: (data, krpanoInstace, isClosePopoverOnKrpano) => void;\n}\n\nexport type TypeRefCommentSceneIcon = {\n  onClose: () => void;\n};\n\nconst CommentSceneIcon = forwardRef(\n  (\n    {\n      commentScene,\n      onCreateCommentScene,\n      onUpdateCommentScene,\n      onDeleteCommentScene,\n    }: Props,\n    ref: Ref<TypeRefCommentSceneIcon>,\n  ) => {\n    const [isShow, setIsShow] = useState(false);\n    const [krpanoInstance] = useCollaborationMode('krpanoRef');\n    const [commentSceneSelected, setCommentSelected] = useCollaborationMode(\n      'commentSceneSelected',\n    );\n    const [loading] = useCollaborationMode('loading');\n\n    useEffect(\n      () => () => {\n        setIsShow(false);\n      },\n      [],\n    );\n\n    useEffect(() => {\n      if (commentSceneSelected) {\n        setIsShow(commentSceneSelected.id === commentScene.id);\n      } else setIsShow(false);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [commentSceneSelected]);\n\n    const onClosePopover = useCallback(() => {\n      setCommentSelected(null);\n    }, [setCommentSelected]);\n\n    const _onCreateCommentScene = useCallback(\n      data => onCreateCommentScene(data, krpanoInstance),\n      [krpanoInstance, onCreateCommentScene],\n    );\n\n    const _onUpdateCommentScene = useCallback(\n      data => onUpdateCommentScene(data, krpanoInstance),\n      [krpanoInstance, onUpdateCommentScene],\n    );\n\n    const _onDeleteCommentScene = useCallback(\n      (data, isClosePopover = false) =>\n        onDeleteCommentScene(data, krpanoInstance, isClosePopover),\n      [krpanoInstance, onDeleteCommentScene],\n    );\n\n    useImperativeHandle(ref, () => ({\n      onClose() {\n        setIsShow(false);\n        onClosePopover();\n      },\n    }));\n\n    return (\n      <Popover\n        open={isShow}\n        content={\n          <LoadingContainer loading={loading}>\n            <PopoverCommentScene\n              onClose={onClosePopover}\n              commentSceneSelected={commentScene}\n              onCreateCommentScene={_onCreateCommentScene}\n              onUpdateCommentScene={_onUpdateCommentScene}\n              onDeleteCommentScene={_onDeleteCommentScene}\n            />\n          </LoadingContainer>\n        }\n        placement=\"bottomLeft\"\n        destroyTooltipOnHide\n        trigger=\"click\"\n        zIndex={99}\n      >\n        <CommentSceneIconWrapper\n          // onClick={onClick}\n          className={commentScene.isResolved ? 'resolved' : ''}\n        >\n          <SvgContainer\n            src={`${process.env.NEXT_PUBLIC_ASSETS_URL}/core/comment.svg`}\n            name=\"4\"\n          />\n          <span className=\"--icon\">{commentScene?.index || 0}</span>\n        </CommentSceneIconWrapper>\n      </Popover>\n    );\n  },\n);\n\nexport default CommentSceneIcon;\n","/* eslint-disable no-nested-ternary */\nimport { I_Hotspot, I_Post } from '@containers/Home/types';\nimport dynamic from 'next/dynamic';\nimport React, {\n  forwardRef,\n  Ref,\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { HotspotMediaWrapper } from './styled';\n\nconst DialogPostWithoutUseRedux = dynamic(\n  () => import('@components/DialogPost/DialogPostWithoutUseRedux'),\n);\n\ninterface Props {\n  hotspot: I_Hotspot;\n  listPost?: I_Post[];\n  isSoundOn?: boolean;\n  onClickHotspot: ({ hotspot }) => void;\n}\n\nexport type TypeRefHotspotMedia = {\n  onToggleMute: (isMute: boolean) => void;\n};\n\nconst HotspotMedia = forwardRef(\n  (\n    { hotspot, listPost, isSoundOn, onClickHotspot }: Props,\n    ref: Ref<TypeRefHotspotMedia>,\n  ) => {\n    const videoRef = useRef<HTMLVideoElement | null>(null!);\n    const [isVideoPlaying, setIsVideoPlaying] = useState(false);\n    const [visibleDialogPost, setVisibleDialogPost] = useState(false);\n\n    const postId = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-image'\n          ? hotspot?.config?.media?.post_id\n          : '',\n      [hotspot],\n    );\n    const type = useMemo(\n      () => hotspot?.config?.media?.type || 'media-video',\n      [hotspot],\n    );\n    const isVideoLoop = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.loop || false\n          : false,\n      [hotspot],\n    );\n    const isVideoAutoplay = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.autoPlay || false\n          : false,\n      [hotspot],\n    );\n    const videoVolume = useMemo(\n      () =>\n        hotspot?.config?.media?.type === 'media-video'\n          ? hotspot?.config?.media?.volume || 0\n          : 0,\n      [hotspot],\n    );\n    const actionClick = useMemo(\n      () => hotspot?.config?.media?.action,\n      [hotspot],\n    );\n    const width = useMemo(\n      () => hotspot?.config?.media?.width || '250px',\n      [hotspot],\n    );\n    const height = useMemo(\n      () => hotspot?.config?.media?.height || '200px',\n      [hotspot],\n    );\n    const transform = useMemo(\n      () => hotspot?.config?.media?.transform || '',\n      [hotspot],\n    );\n    const rotate = useMemo(\n      () => hotspot?.config?.media?.rotate || 0,\n      [hotspot],\n    );\n    const backgroundColor = useMemo(\n      () => hotspot?.config?.media?.backgroundColor || '#00000000',\n      [hotspot],\n    );\n    const opacity = useMemo(\n      () => hotspot?.config?.media?.opacity || 1,\n      [hotspot],\n    );\n    const displayType = useMemo(\n      () => hotspot?.config?.media?.displayType || 'none',\n      [hotspot],\n    );\n    const content_post = useMemo(\n      () => hotspot?.config?.media?.content || '',\n      [hotspot],\n    );\n\n    useEffect(() => {\n      if (type === 'media-video' && videoRef.current)\n        if (isVideoAutoplay)\n          try {\n            videoRef.current.muted = true;\n            videoRef.current.autoplay = true;\n            setIsVideoPlaying(true);\n          } catch (err) {\n            console.log(err);\n          }\n        else videoRef.current.pause();\n    }, [isVideoAutoplay, type]);\n\n    useEffect(() => {\n      if (type === 'media-video' && videoRef.current) {\n        videoRef.current.volume = isSoundOn ? videoVolume / 100 : 0;\n        videoRef.current.muted = !isSoundOn || videoVolume === 0;\n      }\n    }, [videoVolume, isSoundOn, type]);\n\n    const onOpenDialogPost = useCallback(() => setVisibleDialogPost(true), []);\n    const onCloseDialogPost = useCallback(\n      () => setVisibleDialogPost(false),\n      [],\n    );\n\n    const onClick = useCallback(() => {\n      switch (type) {\n        case 'media-video':\n          switch (actionClick) {\n            case 'play/pause':\n              setIsVideoPlaying(videoRef.current?.paused);\n              if (videoRef.current?.paused) {\n                videoRef.current.play();\n              } else videoRef.current.pause();\n              break;\n            default:\n              onClickHotspot({ hotspot });\n              break;\n          }\n          break;\n        case 'media-image':\n          switch (actionClick) {\n            case 'open-post':\n              onOpenDialogPost();\n              break;\n            default:\n              onClickHotspot({ hotspot });\n              break;\n          }\n          break;\n        default:\n          break;\n      }\n    }, [actionClick, hotspot, onClickHotspot, onOpenDialogPost, type]);\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        onToggleMute: isMute => {\n          if (videoRef.current) {\n            videoRef.current.muted = isMute;\n            videoRef.current.volume = !isMute ? videoVolume / 100 : 0;\n          }\n        },\n      }),\n      [videoVolume],\n    );\n\n    return (\n      <>\n        <HotspotMediaWrapper\n          width={width}\n          height={height}\n          opacity={opacity}\n          rotate={rotate}\n          transform={transform}\n          displayType={displayType}\n          backgroundColor={backgroundColor}\n        >\n          {type === 'media-video' ? (\n            <>\n              {actionClick && (\n                <i\n                  className={`fas fa-${\n                    actionClick === 'zoom'\n                      ? 'search-plus'\n                      : actionClick === 'play/pause'\n                      ? isVideoPlaying\n                        ? 'pause'\n                        : 'play'\n                      : ''\n                  }`}\n                  onClick={onClick}\n                  onTouchStart={onClick}\n                />\n              )}\n              <video\n                ref={videoRef}\n                loop={isVideoLoop}\n                autoPlay={true}\n                className=\"target\"\n                playsInline\n                muted={true}\n                preload=\"metadata\"\n              >\n                {hotspot?.config?.media?.type === 'media-video' &&\n                  hotspot?.config?.media?.mediaIOS?.src && (\n                    <source\n                      src={\n                        hotspot?.config?.media?.type === 'media-video'\n                          ? hotspot?.config?.media?.mediaIOS?.src + '#t=0.001'\n                          : ''\n                      }\n                      type='video/mp4; codecs=\"hvc1\"'\n                    />\n                  )}\n                <source\n                  src={hotspot?.config?.media?.media?.src || '' + '#t=0.001'}\n                  type={'video/mp4'}\n                />\n              </video>\n            </>\n          ) : type === 'media-image' ? (\n            <>\n              {actionClick && (\n                <i\n                  aria-hidden\n                  className={`fas fa-${\n                    actionClick === 'zoom'\n                      ? 'search-plus'\n                      : actionClick === 'open-post'\n                      ? 'info-circle'\n                      : ''\n                  }`}\n                  onClick={onClick}\n                  onTouchStart={onClick}\n                />\n              )}\n              <img\n                src={hotspot?.config?.media?.media?.src}\n                className=\"target\"\n                alt=\"\"\n              />\n            </>\n          ) : type === 'media-text' ? (\n            <div\n              className=\"target\"\n              // eslint-disable-next-line react/no-danger\n              dangerouslySetInnerHTML={{ __html: content_post || '' }}\n              onClick={onClick}\n              onTouchStart={onClick}\n            />\n          ) : (\n            <div />\n          )}\n        </HotspotMediaWrapper>\n\n        {visibleDialogPost && (\n          <DialogPostWithoutUseRedux\n            idPost={postId}\n            listPost={listPost}\n            visible={visibleDialogPost}\n            onCancel={onCloseDialogPost}\n          />\n        )}\n      </>\n    );\n  },\n);\n\nexport default HotspotMedia;\n","/* eslint-disable no-nested-ternary */\nimport {\n  CONFIG_POLYGON_HOTSPOT_DEFAULT,\n  DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT,\n  DEFAULT_CONFIG_SCENE_PLUGIN,\n} from '@containers/Home/constants';\nimport {\n  useHLookatKrpano,\n  useVLookatKrpano,\n  useZoomKrpano,\n} from '@containers/Home/global/TourStats';\nimport {\n  I_CommentScene,\n  I_Hotspot,\n  I_NadirConfig,\n  I_PolygonHotspotConfigGlobal,\n  I_Scene,\n  I_SettingControlMode,\n} from '@containers/Home/types';\nimport { separateColorAndTransparency } from '@utils/helper';\n// import Image from '@assets/img/Rectangle.png';\nimport { useCallback, useMemo } from 'react';\n\ninterface Props {\n  scene: I_Scene;\n  krpanoId: string;\n}\n\nexport const useInternalFunction = ({ scene, krpanoId }: Props) => {\n  const _window = window as any;\n  const [, setZoomKrpano] = useZoomKrpano('zoom');\n  const [, setHLookatKrpano] = useHLookatKrpano('hlookat');\n  const [, setVLookatKrpano] = useVLookatKrpano('vlookat');\n\n  const sceneChilds = useMemo(\n    () =>\n      (\n        (scene?.mode === 'staging'\n          ? scene?.staging\n          : scene?.mode === 'day2dust'\n          ? scene?.day2dust\n          : []) || []\n      ).map(item => ({\n        ...item,\n        xml: item?.media?.krpano_xml || '',\n        urlTour:\n          item?.media?.src_preview ||\n          item?.media?.src_thumb ||\n          item?.media?.src,\n      })),\n    [scene],\n  );\n\n  const onTriggerChangeView = useCallback(() => {\n    _window[krpanoId].call(\n      `mod(cur_hlookat,${_window[krpanoId].get('view.hlookat')},360)`,\n    );\n    _window[krpanoId].call(\n      `mod(cur_Vlookat,${_window[krpanoId].get('view.vlookat')},360)`,\n    );\n\n    setHLookatKrpano(+_window[krpanoId].get('cur_hlookat'));\n    setVLookatKrpano(+_window[krpanoId].get('cur_Vlookat'));\n    _window[krpanoId].call('update_hotspot_visiblity()');\n  }, [_window, krpanoId, setHLookatKrpano, setVLookatKrpano]);\n\n  const onTriggerChangeZoom = useCallback(() => {\n    setZoomKrpano(+_window[krpanoId].get('view.fov'));\n  }, [_window, krpanoId, setZoomKrpano]);\n\n  const onTriggerLoadCompleted = useCallback(\n    (\n      isTurnOffFollowMode: boolean,\n      controlMode: I_SettingControlMode['mode'] = 'drag',\n    ) => {\n      _window[krpanoId].set('view.limitview', 'range');\n\n      setHLookatKrpano(\n        scene?.config?.default_view?.x !== undefined\n          ? scene?.config?.default_view?.x\n          : _window[krpanoId].get('view.hlookat'),\n      );\n      setVLookatKrpano(\n        scene?.config?.default_view?.y !== undefined\n          ? scene?.config?.default_view?.y\n          : _window[krpanoId].get('view.vlookat'),\n      );\n      setZoomKrpano(\n        scene?.config?.default_view?.zoom_lv !== undefined\n          ? scene?.config?.default_view?.zoom_lv\n          : _window[krpanoId].get('view.fov'),\n      );\n\n      _window[krpanoId].set('showerrors', false);\n\n      if (!isTurnOffFollowMode) _window[krpanoId].call(`followmouse_enable()`);\n      else _window[krpanoId].call(`followmouse_disable()`);\n      if (controlMode && controlMode !== 'drag') {\n        _window[krpanoId].set('control.mouse', controlMode);\n        _window[krpanoId].set('control.touch', controlMode);\n      }\n    },\n    [\n      scene,\n      _window,\n      krpanoId,\n      setZoomKrpano,\n      setHLookatKrpano,\n      setVLookatKrpano,\n    ],\n  );\n\n  const onApplyConfigPluginKrpanoForScene = useCallback(() => {\n    Object.entries(DEFAULT_CONFIG_SCENE_PLUGIN).forEach(\n      ([keyParent, valueParent]) => {\n        Object.entries(valueParent).forEach(([keyChild, valueChild]) => {\n          const value =\n            scene &&\n            scene?.configPlugin &&\n            scene?.configPlugin[keyParent] &&\n            scene?.configPlugin[keyParent][keyChild]\n              ? scene?.configPlugin[keyParent][keyChild]\n              : valueChild;\n          _window[krpanoId].set(`plugin[${keyParent}].${keyChild}`, value);\n        });\n      },\n    );\n  }, [_window, krpanoId, scene]);\n\n  /**\n   * ! SET DEFAULT VIEW, LIMIT VIEW, LIMIT ZOOM\n   */\n  const onRenderXmlKrpano = useCallback(() => {\n    const transition =\n      scene?.config?.typeTransition === '3d'\n        ? 'OPENBLEND(0.5, 0.0, 0.75, 0.05, linear)'\n        : scene?.config?.typeTransition;\n\n    let view = '<view ';\n\n    const fovDefault = scene?.config?.default_view?.zoom_lv || 90;\n\n    if (!scene?.config?.isLittlePlanet) {\n      if (scene?.config?.default_view?.x !== undefined)\n        view += ` hlookat=\"${scene?.config?.default_view?.x}\"`;\n      if (scene?.config?.default_view?.y !== undefined)\n        view += ` vlookat=\"${scene?.config?.default_view?.y}\"`;\n      if (scene?.config?.default_view?.zoom_lv !== undefined)\n        view += ` fov=\"${\n          scene?.config?.typeTransition === '3d' ? fovDefault + 30 : fovDefault\n        }\"`;\n    }\n\n    view += ` fovmin=\"${\n      scene?.config?.zoom_limit?.min !== undefined\n        ? scene.config.zoom_limit.min\n        : 60.0\n    }\"`;\n    view += ` fovmax=\"\n          ${\n            scene?.config?.zoom_limit?.max !== undefined\n              ? scene.config.zoom_limit.max\n              : 150.0\n          }\"`;\n    view += ' limitview=\"range\"';\n    view += ` hlookatmin=\"${\n      scene?.config?.limit_view?.left !== undefined\n        ? scene?.config?.limit_view.left\n        : -180\n    }\"`;\n    view += ` hlookatmax=\"${\n      scene?.config?.limit_view?.right !== undefined\n        ? scene?.config?.limit_view.right\n        : 180\n    }\"`;\n    view += ` vlookatmin=\"${\n      scene?.config?.limit_view?.bottom !== undefined\n        ? scene?.config?.limit_view.bottom\n        : 90\n    }\"`;\n    view += ` vlookatmax=\"${\n      scene?.config?.limit_view?.top !== undefined\n        ? scene?.config?.limit_view.top\n        : -90\n    }\"`;\n    view += ' />';\n\n    view += `${\n      scene.configPlugin?.lensflare?.enabled &&\n      scene.configPlugin?.lensflare?.ath &&\n      scene.configPlugin?.lensflare?.atv\n        ? `<include url=\"%$mypath%/core/skin/lensflare.xml\" />\n      <lensflare_settings editor=\"false\" ath=\"${\n        scene.configPlugin?.lensflare?.ath !== undefined\n          ? scene.configPlugin?.lensflare?.ath\n          : DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.ath\n      }\" atv=\"${\n            scene.configPlugin?.lensflare?.atv !== undefined\n              ? scene.configPlugin?.lensflare?.atv\n              : DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.atv\n          }\" sun=\"${\n            scene.configPlugin?.lensflare?.sun !== undefined\n              ? scene.configPlugin?.lensflare?.sun\n              : DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.sun\n          }\" glare=\"${\n            scene.configPlugin?.lensflare?.glare !== undefined\n              ? scene.configPlugin?.lensflare?.glare\n              : DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.glare\n          }\" r_ring=\"${\n            scene.configPlugin?.lensflare?.r_ring !== undefined\n              ? scene.configPlugin?.lensflare?.r_ring\n              : DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.r_ring\n          }\" exposure=\"true\" exposure_bias=\"${\n            scene.configPlugin?.lensflare?.exposure_bias !== undefined\n              ? scene.configPlugin?.lensflare?.exposure_bias\n              : DEFAULT_CONFIG_SCENE_PLUGIN.lensflare?.exposure_bias\n          }\"/>\n      <plugin name=\"pp_light\" devices=\"html5\" keep=\"false\"\n        url=\"%$mypath%/core/plugins/pp_light.js\"\n        enabled=\"true\"\n        exposure=\"0.0\"\n        lights=\"0.0\"\n        shadows=\"0.0\"\n        filterrange=\"60.0\"\n        masking=\"1.0\"\n        quality=\"7\"\n        order=\"\"\n        phase=\"2\"\n      />`\n        : ''\n    }`;\n    return { view, transition, fovDefault };\n  }, [scene]);\n\n  /**\n   * @param {hotspot}: info hotspot\n   * @method {trigger sound play (hotspot instructor / hotspot sound)}\n   * @method {add hotspot}\n   */\n\n  const onTriggerSoundHotspot = useCallback(\n    (hotspot: I_Hotspot, isAllowTriggerSound: boolean) => {\n      if (_window[krpanoId] && isAllowTriggerSound) {\n        const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n          hotspot.polygon ? 'ispolygon' : 'unpolygon'\n        }`;\n        if (hotspot.type === 'sound') {\n          const xml = `sound1click(${name}, ${\n            hotspot?.config?.sound?.file?.src || hotspot?.config?.sound?.url\n          }, ${hotspot?.config?.sound?.action || 'pause'}, ${\n            hotspot.config?.sound?.volume\n              ? (hotspot.config.sound.volume / 100).toFixed(1)\n              : 0.4\n          }, ${\n            hotspot?.config?.sound?.reach\n              ? hotspot.config.sound.reach.toFixed(1)\n              : 240\n          }, ${hotspot?.config?.sound?.auto_play || false}, ${\n            hotspot?.config?.sound?.loop || false\n          })`;\n          _window[krpanoId].call(xml);\n        } else if (hotspot.type === 'instructor') {\n          _window[krpanoId].call(`hotspot[${name}].togglepause()`);\n          _window[krpanoId].set(\n            `hotspot['${name}'].muted`,\n            !isAllowTriggerSound,\n          );\n        }\n      }\n    },\n    [_window, krpanoId],\n  );\n\n  const onAddHotspotNadirKrpano = useCallback(\n    (nadirConfig: I_NadirConfig) => {\n      const krpano = _window[krpanoId];\n\n      const name = 'nadirlogo';\n      krpano.set(`hotspot['${name}'].ath`, +0);\n      krpano.set(`hotspot['${name}'].atv`, +90);\n      krpano.set(`hotspot['${name}'].zoom`, false);\n      krpano.set(`hotspot['${name}'].rotate`, 0);\n      krpano.set(`hotspot['${name}'].scale`, nadirConfig?.scale || 1);\n      krpano.set(`hotspot['${name}'].rotatewithview`, 'true');\n      krpano.set(`hotspot['${name}'].distorted`, true);\n      krpano.set(`hotspot['${name}'].url`, nadirConfig?.src || '');\n      krpano.set(\n        `hotspot['${name}'].visible`,\n        !!(nadirConfig?.isEnabled && nadirConfig?.src),\n      );\n      if (nadirConfig?.link)\n        krpano.set(`hotspot['${name}'].onclick`, () => {\n          window.open(nadirConfig?.link, '_blank');\n        });\n\n      if (nadirConfig?.isEnabled && nadirConfig?.src)\n        krpano.call(`addhotspot('${name}')`);\n    },\n    [_window, krpanoId],\n  );\n\n  const onApplyConfigLittlePlanetKrpano = useCallback(() => {\n    _window[krpanoId].set('view.fov', 150);\n    _window[krpanoId].set('view.fovmin', 1);\n    _window[krpanoId].set('view.fovmax', 179);\n    _window[krpanoId].set('view.hlookatmin', -180);\n    _window[krpanoId].set('view.hlookatmax', 180);\n    _window[krpanoId].set('view.vlookatmin', -90);\n    _window[krpanoId].set('view.vlookatmax', 90);\n    _window[krpanoId].set('view.vlookat', 60);\n    _window[krpanoId].set('view.hlookat', -60);\n    _window[krpanoId].set('view.stereographic', true);\n    _window[krpanoId].set('view.fisheye', 1.0);\n    _window[krpanoId].set('display.flash10', 'off');\n    _window[krpanoId].set('display.detail', 24);\n    _window[krpanoId].set('view.fovtype', 'VFOV');\n    _window[krpanoId].set('view.limitview', 'lookat');\n\n    setTimeout(() => {\n      if (scene?.config?.isLittlePlanet) {\n        _window[krpanoId].call(\n          `normalview(${scene?.config?.default_view?.x || 0}, ${\n            scene?.config?.default_view?.y || 0\n          }, ${scene?.config?.default_view?.zoom_lv || 90}, ${\n            scene?.config?.timeTransitionLittlePlanet\n          })`,\n        );\n        setTimeout(() => {\n          _window[krpanoId].set(\n            'view.fovmin',\n            scene?.config?.zoom_limit?.min !== undefined\n              ? scene.config.zoom_limit.min\n              : 60.0,\n          );\n          _window[krpanoId].set(\n            'view.fovmax',\n            scene?.config?.zoom_limit?.max !== undefined\n              ? scene.config.zoom_limit.max\n              : 150.0,\n          );\n          _window[krpanoId].set(\n            'view.hlookatmin',\n            scene?.config?.limit_view?.left !== undefined\n              ? scene?.config?.limit_view.left\n              : -180,\n          );\n          _window[krpanoId].set(\n            'view.hlookatmax',\n            scene?.config?.limit_view?.right !== undefined\n              ? scene?.config?.limit_view.right\n              : 180,\n          );\n          _window[krpanoId].set(\n            'view.vlookatmin',\n            scene?.config?.limit_view?.bottom !== undefined\n              ? scene?.config?.limit_view.bottom\n              : 90,\n          );\n          _window[krpanoId].set(\n            'view.vlookatmax',\n            scene?.config?.limit_view?.top !== undefined\n              ? scene?.config?.limit_view.top\n              : -90,\n          );\n        }, scene?.config?.timeTransitionLittlePlanet * 1000 + 100);\n      }\n    }, 200);\n  }, [_window, krpanoId, scene]);\n\n  const onAddHotspotVRKrpanoUtils = useCallback(\n    (hotspot: I_Hotspot) => {\n      const krpano = _window[krpanoId];\n      const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n        hotspot.polygon ? 'ispolygon' : 'unpolygon'\n      }-vrmode`;\n      krpano.set(`hotspot['${name}'].name`, name);\n      krpano.set(\n        `hotspot['${name}'].url`,\n        hotspot.type === 'point'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/point.png`\n          : hotspot.type === 'image'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/image.png`\n          : hotspot.type === 'sound'\n          ? `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/sound.png`\n          : `${process.env.NEXT_PUBLIC_ASSETS_URL}/static/video.png`,\n      );\n      krpano.set(`hotspot['${name}'].renderer`, 'webgl');\n      krpano.set(`hotspot['${name}'].width`, '32');\n      krpano.set(`hotspot['${name}'].height`, '32');\n      krpano.set(`hotspot['${name}'].imagewidth`, '24');\n      krpano.set(`hotspot['${name}'].imageheight`, '24');\n      krpano.set(`hotspot['${name}'].depth`, '1000');\n      krpano.set(`hotspot['${name}'].distorted`, true);\n      krpano.set(`hotspot['${name}'].scale`, 1);\n      krpano.set(`hotspot['${name}'].flying`, 0.1);\n      krpano.set(`hotspot['${name}'].edge`, 'center');\n      krpano.set(`hotspot['${name}'].ath`, +hotspot.ath);\n      krpano.set(`hotspot['${name}'].atv`, +hotspot.atv);\n      krpano.set(\n        `hotspot['${name}'].onover`,\n        'tween(scale,1.5,easeOutExpo,0.2);',\n      );\n      krpano.set(`hotspot['${name}'].onout`, 'tween(scale,1,easeOutExpo,0.2);');\n      krpano.set(`hotspot['${name}'].visible`, false);\n      krpano.set(`hotspot['${name}'].enabled`, false);\n      krpano.set(`hotspot['${name}'].align`, 'center');\n\n      return { krpano, name };\n    },\n    [_window, krpanoId],\n  );\n\n  const onAddHotspotKrpanoUtils = useCallback(\n    (hotspot: I_Hotspot, keepHotspotPositionWhenZooming = false) => {\n      const krpano = _window[krpanoId];\n      const name = `hotspot-${hotspot.id}-${krpanoId}-type${hotspot.type}-${\n        hotspot.polygon ? 'ispolygon' : 'unpolygon'\n      }`;\n      krpano.set(`hotspot['${name}'].styleType`, hotspot.config?.style?.type);\n      krpano.set(`hotspot['${name}'].name`, name);\n      krpano.set(`hotspot['${name}'].zoom`, !!keepHotspotPositionWhenZooming);\n      krpano.set(`hotspot['${name}'].capture`, false);\n      krpano.set(`hotspot['${name}'].onover`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4003);\n      });\n      krpano.set(`hotspot['${name}'].onout`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4002);\n      });\n\n      function onConfigHotspotPolygon(\n        polygonHotspotConfigGlobal: I_PolygonHotspotConfigGlobal,\n      ) {\n        krpano.set(`hotspot['${name}'].renderer`, 'webgl');\n        const config = hotspot.polygon_config;\n        const fillColor = separateColorAndTransparency(\n          config.properties?.fillColor ||\n            polygonHotspotConfigGlobal?.fillColor ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.fillColor,\n        );\n        const fillColorHover = separateColorAndTransparency(\n          config.properties?.fillColorHover ||\n            polygonHotspotConfigGlobal?.fillColorHover ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.fillColorHover,\n        );\n        const borderColor = separateColorAndTransparency(\n          config.properties?.borderColor ||\n            polygonHotspotConfigGlobal?.borderColor ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.borderColor,\n        );\n        const borderColorHover = separateColorAndTransparency(\n          config.properties?.borderColorHover ||\n            polygonHotspotConfigGlobal?.borderColorHover ||\n            CONFIG_POLYGON_HOTSPOT_DEFAULT.borderColorHover,\n        );\n        krpano.set(\n          `hotspot[${name}].fillcolor`,\n          fillColor.color.replace('#', '0x'),\n        );\n        krpano.set(\n          `hotspot[${name}].bordercolor`,\n          borderColor.color.replace('#', '0x'),\n        );\n        krpano.set(\n          `hotspot[${name}].borderwidth`,\n          config.properties?.borderWidth || 3,\n        );\n        krpano.set(`hotspot[${name}].fillalpha`, fillColor.alpha);\n        krpano.set(`hotspot[${name}].borderalpha`, borderColor.alpha);\n\n        krpano.set(`hotspot[${name}].tooltip`, hotspot.title);\n        krpano.set(`hotspot[${name}].zorder`, 1);\n\n        krpano.set(`hotspot[${name}].onhover`, () => {\n          krpano.call(\n            `tween(hotspot[${name}].fillcolor, ${fillColorHover.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].fillalpha, ${fillColorHover.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `tween(hotspot[${name}].bordercolor, ${borderColorHover.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].borderalpha, ${\n              borderColorHover.alpha\n            }, 0.2);`,\n          );\n        });\n        krpano.set(`hotspot[${name}].onout`, () => {\n          krpano.call(\n            `tween(hotspot[${name}].fillcolor, ${fillColor.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].fillalpha, ${fillColor.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `tween(hotspot[${name}].bordercolor, ${borderColor.color.replace(\n              '#',\n              '0x',\n            )}, 0.2);\n              tween(hotspot[${name}].borderalpha, ${borderColor.alpha}, 0.2);`,\n          );\n          krpano.call(\n            `copy(layer[tooltip].html, );tween(layer[tooltip].alpha, 0.0, 0.25, default, set(layer[tooltip].visible,false), copy(layer[tooltip].x,mouse.stagex); copy(layer[tooltip].y,mouse.stagey); );`,\n          );\n        });\n\n        krpano.call(`hotspot[${name}].loadstyle(poly_hotspot_text)`);\n\n        for (let i = 0; i < config.points.length; i += 1) {\n          const coordinate = config.points[i];\n          krpano.set(`hotspot[${name}].point[${i}].ath`, coordinate.ath);\n          krpano.set(`hotspot[${name}].point[${i}].atv`, coordinate.atv);\n        }\n      }\n\n      function onConfigHotspotMedia() {\n        krpano.set(`hotspot['${name}'].distorted`, 'true');\n        krpano.set(`hotspot['${name}'].rx`, '0');\n        krpano.set(`hotspot['${name}'].ry`, '0');\n        krpano.set(`hotspot['${name}'].rz`, '0');\n        krpano.set(`hotspot['${name}'].cursor`, 'unset');\n        krpano.set(`hotspot['${name}'].capture`, false);\n\n        krpano.set(`hotspot['${name}'].usecontentsize`, 'true');\n      }\n\n      function onConfigHotspotInstructor(isAllowTriggerSound: boolean) {\n        krpano.set(\n          `hotspot['${name}'].url`,\n          '%$mypath%/core/plugins/videoplayer.js',\n        );\n        krpano.set(\n          `hotspot['${name}'].videourl`,\n          hotspot.config?.instructor?.media?.src,\n        );\n        krpano.set(`hotspot['${name}'].renderer`, '');\n        krpano.set(`hotspot['${name}'].distorted`, true);\n        krpano.set(`hotspot['${name}'].zoom`, false);\n        krpano.set(`hotspot['${name}'].autoresume`, true);\n        krpano.set(`hotspot['${name}'].muted`, !isAllowTriggerSound);\n        if (!isAllowTriggerSound)\n          krpano.set(`hotspot['${name}'].pausedonstart`, true);\n        else\n          krpano.set(\n            `hotspot['${name}'].pausedonstart`,\n            hotspot.config?.instructor?.paused_on_start !== undefined\n              ? hotspot.config?.instructor?.paused_on_start\n              : DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.paused_on_start,\n          );\n        krpano.set(\n          `hotspot['${name}'].loop`,\n          hotspot.config?.instructor?.loop !== undefined\n            ? hotspot.config?.instructor?.loop\n            : DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.loop,\n        );\n        krpano.set(\n          `hotspot['${name}'].directionalsound`,\n          hotspot.config?.instructor?.sound_360 !== undefined\n            ? hotspot.config?.instructor?.sound_360\n            : DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.sound_360,\n        );\n        krpano.set(\n          `hotspot['${name}'].volume`,\n          hotspot.config?.instructor?.volume !== undefined\n            ? hotspot.config?.instructor?.volume\n            : DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.volume,\n        );\n        const maskColor = separateColorAndTransparency(\n          hotspot.config?.instructor?.mask !== undefined\n            ? hotspot.config?.instructor?.mask\n            : DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.mask,\n        );\n        krpano.set(\n          `hotspot[${name}].chromakey`,\n          `${maskColor.color.replace('#', '0x')}|${\n            hotspot.config?.instructor?.smoothing !== undefined\n              ? hotspot.config?.instructor?.smoothing\n              : DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.smoothing\n          }|${\n            hotspot.config?.instructor?.threshold !== undefined\n              ? hotspot.config?.instructor?.threshold\n              : DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.threshold\n          }`,\n        );\n        const width =\n          hotspot.config?.instructor?.width !== undefined\n            ? hotspot.config?.instructor?.width\n            : DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.width;\n        krpano.set(`hotspot['${name}'].width`, width);\n        const height =\n          hotspot.config?.instructor?.height !== undefined\n            ? hotspot.config?.instructor?.height\n            : DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT.height;\n        krpano.set(`hotspot['${name}'].height`, height);\n      }\n\n      return {\n        name,\n        krpano,\n        onConfigHotspotMedia,\n        onConfigHotspotPolygon,\n        onConfigHotspotInstructor,\n      };\n    },\n    [krpanoId, _window],\n  );\n\n  const onAddCommentSceneIconUtils = useCallback(\n    (\n      commentScene: Partial<I_CommentScene>,\n      isCommentSceneTemporary = false,\n    ) => {\n      const krpano = _window[krpanoId];\n      const name = `commentscene-${commentScene.id}-${krpanoId}${\n        isCommentSceneTemporary ? '-temporary' : ''\n      }`;\n      krpano.set(`hotspot['${name}'].name`, name);\n      krpano.set(`hotspot['${name}'].capture`, false);\n      krpano.set(`hotspot['${name}'].zoom`, true);\n      krpano.set(`hotspot['${name}'].onover`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4003);\n      });\n      krpano.set(`hotspot['${name}'].onout`, () => {\n        krpano.set(`hotspot['${name}'].zorder`, 4002);\n      });\n      krpano.set(`hotspot['${name}'].ath`, +commentScene.ath);\n      krpano.set(`hotspot['${name}'].atv`, +commentScene.atv);\n      krpano.set(\n        `hotspot['${name}'].url`,\n        `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUCB1jYAACAAAFAAGNu5vzAAAAAElFTkSuQmCC`,\n      );\n      krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n      return { krpano, name };\n    },\n    [_window, krpanoId],\n  );\n\n  return useMemo(\n    () => ({\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onApplyConfigLittlePlanetKrpano,\n      onApplyConfigPluginKrpanoForScene,\n    }),\n    [\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onApplyConfigLittlePlanetKrpano,\n      onApplyConfigPluginKrpanoForScene,\n    ],\n  );\n};\n","import { openMessageWithIcon } from './helper';\n\ninterface DocumentWithFullscreen extends HTMLDocument {\n  mozFullScreenElement?: Element;\n  msFullscreenElement?: Element;\n  webkitFullscreenElement?: Element;\n  msExitFullscreen?: () => void;\n  mozCancelFullScreen?: () => void;\n  webkitExitFullscreen?: () => void;\n}\n\nexport function isSupportFullScreen(): boolean {\n  const body = document.body as DocumentElementWithFullscreen;\n  if (\n    body.requestFullscreen ||\n    body.msRequestFullscreen ||\n    body.webkitRequestFullscreen ||\n    body.mozRequestFullScreen\n  )\n    return true;\n  return false;\n}\n\nexport function isFullScreen(): boolean {\n  const doc = document as DocumentWithFullscreen;\n  return !!(\n    doc.fullscreenElement ||\n    doc.mozFullScreenElement ||\n    doc.webkitFullscreenElement ||\n    doc.msFullscreenElement\n  );\n}\n\ninterface DocumentElementWithFullscreen extends HTMLElement {\n  msRequestFullscreen?: () => void;\n  mozRequestFullScreen?: () => void;\n  webkitRequestFullscreen?: () => void;\n}\n\nexport function requestFullScreen(element: DocumentElementWithFullscreen) {\n  console.log(\n    ' ~ file: fullscreen.ts:27 ~ requestFullScreen ~ element:',\n    element,\n  );\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else {\n    openMessageWithIcon(\n      'error',\n      'Your browser does not support fullscreen mode',\n    );\n  }\n}\n\nexport function exitFullScreen(doc: DocumentWithFullscreen) {\n  if (doc.exitFullscreen) {\n    doc.exitFullscreen();\n  } else if (doc.msExitFullscreen) {\n    doc.msExitFullscreen();\n  } else if (doc.webkitExitFullscreen) {\n    doc.webkitExitFullscreen();\n  } else if (doc.mozCancelFullScreen) {\n    doc.mozCancelFullScreen();\n  }\n}\n\nexport function toogleFullScreen(): void {\n  if (!isFullScreen()) {\n    requestFullScreen(document.body);\n  } else {\n    exitFullScreen(document);\n  }\n}\n","/* eslint-disable global-require */\nimport { I_CommentScene, I_Hotspot, I_Scene } from '@containers/Home/types';\nimport { debounce, generateRandomID, isServer } from '@utils/helper';\nimport { renderToString } from 'react-dom/server';\nimport { Root, createRoot } from 'react-dom/client';\nimport React, {\n  forwardRef,\n  useCallback,\n  useEffect,\n  useState,\n  memo,\n  useImperativeHandle,\n  useRef,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport dynamic from 'next/dynamic';\nimport {\n  selectConfigControlModeProject,\n  selectHotspotConfigGlobal,\n  selectIsFirstScene,\n  selectListPostUsedOnTour,\n  selectPolygonConfigGlobal,\n} from '@containers/Home/selectors';\nimport {\n  useCollaborationMode,\n  useTourEventState,\n} from '@containers/Home/global/TourStats';\nimport { useCommentScene } from '@containers/Home/hook/useCommentScene';\nimport CommentSceneIcon, {\n  TypeRefCommentSceneIcon,\n} from '@containers/Home/components/Collaboration/CommentScene/CommentSceneIcon';\nimport HotspotMedia, {\n  TypeRefHotspotMedia,\n} from '@components/Hotspot/HotspotMedia';\nimport KRPANO from './KrpanoTemplate';\nimport { IPropKrpano, Type_RefFuncKrpano } from './types';\nimport { useInternalFunction } from './useInternalFunction';\nimport { toogleFullScreen } from '@utils/fullscreen';\n\nconst Hotspot = dynamic(() => import('@components/Hotspot'));\nconst _window = isServer ? undefined : (window as any);\n\nconst KrpanoViewer = forwardRef(\n  (\n    {\n      scene,\n      listScene,\n      urlTour,\n      divId = 'container',\n      krpanoId = 'krpanoContainer',\n      onClickHotspot,\n      onChangeAutoChangeScene,\n      isLoaded,\n      setIsLoaded,\n      nadirConfig,\n      children,\n      styleContainer = { height: '100%' },\n      isTurnOffFollowMode = false,\n      onChangeScene,\n    }: IPropKrpano,\n    ref: React.Ref<Type_RefFuncKrpano>,\n  ) => {\n    const isLoadedRef = useRef(false);\n    const isAllowTriggerSoundRef = useRef(false);\n    const containerRef = useRef<HTMLDivElement>(null!);\n    // NOTE: store to control close/unmount popover when change scene/commentScene\n    const listCommentSceneIconRef = useRef<\n      Map<string, TypeRefCommentSceneIcon>\n    >(new Map([]));\n    const listCommentSceneIconRootRef = useRef<Map<string, Root>>(new Map([]));\n    // NOTE: store to control volume (mute/unmute) on hotspot media video\n    const listHotspotMediaVideoRef = useRef<Map<string, TypeRefHotspotMedia>>(\n      new Map([]),\n    );\n\n    const isFirstScene = useSelector(selectIsFirstScene);\n    const listPost = useSelector(selectListPostUsedOnTour);\n    const hotspotConfigGlobal = useSelector(selectHotspotConfigGlobal);\n    const polygonHotspotConfigGlobal = useSelector(selectPolygonConfigGlobal);\n    const configControlModeProject = useSelector(\n      selectConfigControlModeProject,\n    );\n\n    const [krpanoView, setKrpanoView] = useState<any>();\n    const [isAllowTriggerSound, setIsAllowTriggerSound] = useState(false);\n\n    const [tourEventStats] = useTourEventState('state');\n\n    const { onCreateCommentScene, onUpdateCommentScene, onDeleteCommentScene } =\n      useCommentScene();\n    const [, setIsShowDialogCreateCommentScene] = useCollaborationMode(\n      'isShowDialogCreateCommentScene',\n    );\n    const [, setCommentSceneTemporary] = useCollaborationMode(\n      'commentSceneTemporary',\n    );\n    const [, setCommentSelected] = useCollaborationMode('commentSceneSelected');\n\n    const {\n      sceneChilds,\n      onRenderXmlKrpano,\n      onTriggerChangeView,\n      onTriggerChangeZoom,\n      onTriggerSoundHotspot,\n      onTriggerLoadCompleted,\n      onAddHotspotNadirKrpano,\n      onAddHotspotKrpanoUtils,\n      onAddHotspotVRKrpanoUtils,\n      onAddCommentSceneIconUtils,\n      onApplyConfigLittlePlanetKrpano,\n      onApplyConfigPluginKrpanoForScene,\n    } = useInternalFunction({\n      scene,\n      krpanoId,\n    });\n\n    // NOTE: use ref to store state because function used in event onclick hotspot (state won't update on event's function)\n    useEffect(() => {\n      isAllowTriggerSoundRef.current = isAllowTriggerSound;\n    }, [isAllowTriggerSound]);\n\n    // NOTE: reset state when scene change => only trigger sound when isAllowTriggerSound = true\n    useEffect(\n      () => () => {\n        setIsAllowTriggerSound(false);\n        listCommentSceneIconRef.current = new Map([]);\n        listHotspotMediaVideoRef.current = new Map([]);\n      },\n      [scene?.id],\n    );\n\n    /**\n     * SECTION: LOAD_SCENE_TO_KRPANO\n     * @param {scene}: current scene selected\n     * @param {sceneXml}: default by null, use krpano_xml on media if exist.\n     */\n\n    const loadSceneToView = useCallback(\n      (myscene: I_Scene) => {\n        if (myscene && myscene.media && krpanoView) {\n          const { transition, view, fovDefault } = onRenderXmlKrpano();\n          krpanoView.loadScene(\n            urlTour,\n            null,\n            myscene.media.krpano_xml || null,\n            transition,\n            view,\n            myscene.mode || '',\n            sceneChilds,\n            myscene.configStaging || {},\n            fovDefault,\n          );\n        }\n      },\n      [krpanoView, onRenderXmlKrpano, urlTour, sceneChilds],\n    );\n\n    /**\n     * !SECTION: END_LOAD_SCENE_TO_KRPANO\n     */\n\n    const onAddHotspotVRKrpano = useCallback(\n      async (hotspot: I_Hotspot) => {\n        const { krpano, name } = onAddHotspotVRKrpanoUtils(hotspot);\n        krpano.set(`hotspot['${name}'].onclick`, () => {\n          if (hotspot.type === 'point') onClickHotspot({ hotspot });\n          else if (hotspot.type === 'sound')\n            onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n          else if (hotspot.type === 'image')\n            krpano.call(\n              `open_galleries(\"${name}\", \"${hotspot.config.image.galleries\n                .map(item => item.src)\n                .join(',')}\")`,\n            );\n          else if (hotspot.type === 'video')\n            krpano.call(`open_video(\"${name}\", \"${hotspot.config.video.url}\")`);\n        });\n        krpano.call(`addhotspot('${name}')`);\n        return new Promise(resolve => resolve(true));\n      },\n      [onAddHotspotVRKrpanoUtils, onClickHotspot, onTriggerSoundHotspot],\n    );\n\n    const onAddHotspotKrpano = useCallback(\n      async (hotspot: I_Hotspot, isReloadHotspot = false) => {\n        const {\n          name,\n          krpano,\n          onConfigHotspotMedia,\n          onConfigHotspotPolygon,\n          onConfigHotspotInstructor,\n        } = onAddHotspotKrpanoUtils(\n          hotspot,\n          !!hotspotConfigGlobal?.keepHotspotPositionWhenZooming,\n        );\n\n        async function renderHotspot() {\n          const hs = krpano.get(`hotspot[${name}]`);\n          const contentString = (\n            <div\n              id={name}\n              className={`inline-flex ${\n                hotspotConfigGlobal?.lockHotspot ? 'absolute-center' : ''\n              }`}\n            />\n          );\n          hs.sprite.innerHTML = renderToString(contentString).toString();\n          const node = document.getElementById(name);\n          if (node) {\n            const root = createRoot(node);\n            root.render(\n              hotspot.type === 'media' ? (\n                <HotspotMedia\n                  ref={r => {\n                    if (\n                      r &&\n                      hotspot.config?.media?.type === 'media-video' &&\n                      !listHotspotMediaVideoRef.current.get(hotspot.id)\n                    )\n                      listHotspotMediaVideoRef.current.set(hotspot.id, r);\n                  }}\n                  onClickHotspot={onClickHotspot}\n                  isSoundOn={isAllowTriggerSoundRef.current}\n                  hotspot={hotspot}\n                  listPost={listPost}\n                />\n              ) : (\n                <Hotspot\n                  onClick={() => {\n                    if (hotspot.config?.sound !== undefined)\n                      onTriggerSoundHotspot(\n                        hotspot,\n                        isAllowTriggerSoundRef.current,\n                      );\n                    else if (\n                      hotspot.type === 'point' &&\n                      hotspot.config?.point?.isTransition &&\n                      hotspot.config?.point?.typeTransition === '3d'\n                    ) {\n                      krpano.call(`transition_click(${name})`);\n                      setTimeout(() => {\n                        // if (hotspot.config?.sound !== undefined)\n                        //   onTriggerSoundHotspot(\n                        //     hotspot,\n                        //     isAllowTriggerSoundRef.current,\n                        //   );\n                        // else\n                        onClickHotspot({ hotspot });\n                      }, 100);\n                    } else onClickHotspot({ hotspot });\n                  }}\n                  isHidden={\n                    hotspot.type === 'sound' && !hotspot.config?.sound?.action\n                  }\n                  isHideTitleGlobal={!!hotspotConfigGlobal?.hideTitle}\n                  isHidePreviewGlobal={!!hotspotConfigGlobal?.hidePreview}\n                  isHideTitleOnTopGlobal={\n                    !!hotspotConfigGlobal?.hideTitleOnTopHotspot\n                  }\n                  bgColorDefault={hotspotConfigGlobal?.bgColor}\n                  iconColorDefault={hotspotConfigGlobal?.iconColor}\n                  hotspot={hotspot}\n                  listScene={listScene}\n                  listPost={listPost}\n                  onChangePopover={visible => onChangeAutoChangeScene(!visible)}\n                />\n              ),\n            );\n          }\n        }\n\n        if (hotspot.polygon && hotspot.polygon_config) {\n          onConfigHotspotPolygon(polygonHotspotConfigGlobal);\n          krpano.set(`hotspot['${name}'].onclick`, () => {\n            if (krpano.get('webvr.isenabled')) {\n              if (hotspot.type === 'point') onClickHotspot({ hotspot });\n              else if (hotspot.type === 'image')\n                krpano.call(\n                  `open_galleries(\"${name}\", \"${hotspot.config.image.galleries.map(\n                    item => item.src,\n                  )}\")`,\n                );\n              else if (hotspot.type === 'video')\n                krpano.call(\n                  `open_video(\"${name}\", \"${hotspot.config.video.url}\")`,\n                );\n            } else {\n              onClickHotspot({ hotspot });\n            }\n          });\n        } else if (!hotspot.polygon) {\n          krpano.set(`hotspot['${name}'].ath`, +hotspot.ath);\n          krpano.set(`hotspot['${name}'].atv`, +hotspot.atv);\n          if (hotspot.type === 'chevron') {\n            krpano.set(`hotspot['${name}'].style`, 'skin_hotspotstyle');\n            krpano.set(`hotspot['${name}'].onclick`, () => {\n              if (\n                hotspot.config?.chevron?.isTransition &&\n                hotspot.config?.chevron?.typeTransition === '3d'\n              ) {\n                krpano.call(`transition_click(${name})`);\n                setTimeout(() => {\n                  onClickHotspot({ hotspot });\n                }, 100);\n              } else onClickHotspot({ hotspot });\n            });\n          }\n          if (hotspot.type === 'media') onConfigHotspotMedia();\n          if (\n            hotspot.type === 'instructor' &&\n            hotspot.config?.instructor?.media?.src\n          ) {\n            onConfigHotspotInstructor(isAllowTriggerSoundRef.current);\n            krpano.set(`hotspot['${name}'].onclick`, () => {\n              onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n            });\n          } else {\n            krpano.set(\n              `hotspot['${name}'].url`,\n              `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUCB1jYAACAAAFAAGNu5vzAAAAAElFTkSuQmCC`,\n            );\n            krpano.set(`hotspot['${name}'].renderer`, 'css3d');\n          }\n\n          await krpano.set(`hotspot['${name}'].onloaded`, async () => {\n            if (hotspot.type !== 'chevron' && hotspot.type !== 'instructor') {\n              renderHotspot();\n            }\n          });\n          if (\n            hotspot.type === 'point' ||\n            (hotspot.type === 'video' &&\n              hotspot.config.video.url.endsWith('.mp4')) ||\n            (hotspot.type === 'sound' && hotspot.config.sound.action) ||\n            hotspot.type === 'image'\n          ) {\n            await onAddHotspotVRKrpano(hotspot);\n          }\n        }\n\n        if (!isReloadHotspot) krpano.call(`addhotspot('${name}')`);\n        else renderHotspot();\n        return new Promise(resolve => resolve(true));\n      },\n      [\n        listPost,\n        listScene,\n        onClickHotspot,\n        hotspotConfigGlobal,\n        onAddHotspotVRKrpano,\n        onTriggerSoundHotspot,\n        onChangeAutoChangeScene,\n        onAddHotspotKrpanoUtils,\n        polygonHotspotConfigGlobal,\n      ],\n    );\n\n    /**\n     * SECTION: COMMENT_SCENE (COLLABORATION MODE)\n     */\n\n    const renderHTMLCommentSceneIcon = useCallback(\n      async (krpano, name, commentScene: I_CommentScene) => {\n        const hs = krpano.get(`hotspot[${name}]`);\n        if (commentScene.isOwnerTour)\n          krpano.set(`hotspot['${name}'].onDragend`, () => {\n            const newData = {\n              ath: krpano.get(`hotspot['${name}'].ath`),\n              atv: krpano.get(`hotspot['${name}'].atv`),\n            };\n            if (\n              Math.abs(Math.abs(commentScene.ath) - Math.abs(newData.ath)) <\n                0.0001 &&\n              Math.abs(Math.abs(commentScene.atv) - Math.abs(newData.atv)) <\n                0.0001\n            ) {\n              console.log('not trigger event');\n            } else\n              onUpdateCommentScene({\n                ...commentScene,\n                ...newData,\n                message: undefined,\n                isResolved: undefined,\n                scene_id: commentScene.scene,\n              });\n          });\n        krpano.set(`hotspot['${name}'].onclick`, () => {\n          setCommentSelected(commentScene);\n        });\n        let node = document.getElementById(name);\n        if (node) {\n          // NOTE: close all popover active on screen\n          // NOTE: unmount old component when replace (fixed bug: 2 popover show same time)\n          if (\n            listCommentSceneIconRef.current.size &&\n            listCommentSceneIconRef.current.get(commentScene.id)\n          )\n            listCommentSceneIconRef.current.get(commentScene.id).onClose();\n\n          if (listCommentSceneIconRootRef.current.size) {\n            const root = listCommentSceneIconRootRef.current.get(\n              `${commentScene.id}_root`,\n            );\n            if (root) await root.unmount();\n          }\n        }\n        const contentString = <div id={name} className=\"inline-flex\" />;\n        hs.sprite.innerHTML = renderToString(contentString).toString();\n        node = document.getElementById(name);\n        if (node) {\n          const root = createRoot(node);\n          listCommentSceneIconRootRef.current.set(\n            `${commentScene.id}_root`,\n            root,\n          );\n          root.render(\n            <CommentSceneIcon\n              ref={r => {\n                if (r) listCommentSceneIconRef.current.set(commentScene.id, r);\n              }}\n              commentScene={commentScene}\n              onCreateCommentScene={onCreateCommentScene}\n              onUpdateCommentScene={onUpdateCommentScene}\n              onDeleteCommentScene={onDeleteCommentScene}\n            />,\n          );\n        }\n      },\n      [\n        setCommentSelected,\n        onCreateCommentScene,\n        onDeleteCommentScene,\n        onUpdateCommentScene,\n      ],\n    );\n\n    const onAddCommentSceneKrpano = useCallback(\n      (commentScene: I_CommentScene, isReloadHTML = false) => {\n        const { krpano, name } = onAddCommentSceneIconUtils(commentScene);\n        if (commentScene.isOwnerTour)\n          krpano.set(`hotspot['${name}'].ondown`, 'draghotspot()');\n        krpano.set(`hotspot['${name}'].onloaded`, () => {\n          renderHTMLCommentSceneIcon(krpano, name, commentScene);\n        });\n        if (!isReloadHTML) krpano.call(`addhotspot('${name}')`);\n        else renderHTMLCommentSceneIcon(krpano, name, commentScene);\n      },\n      [renderHTMLCommentSceneIcon, onAddCommentSceneIconUtils],\n    );\n\n    const onRemoveCommentSceneKrpano = useCallback(\n      id =>\n        _window[krpanoId].call(\n          `removehotspot('commentscene-${id}-${krpanoId}')`,\n        ),\n      [krpanoId],\n    );\n\n    const onReplaceCommentSceneKrpano = useCallback(\n      (commentScene: I_CommentScene) =>\n        onAddCommentSceneKrpano(commentScene, true),\n      [onAddCommentSceneKrpano],\n    );\n\n    /**\n     * !SECTION: END_COMMENT_SCENE (COLLABORATION MODE)\n     */\n\n    /**\n     * SECTION: LISTEN EVENT\n     * @event {load complete}\n     * @event {on change view}\n     * @event {on change zoom}\n     * @event {on load new scene vr}\n     */\n    const onChangeView = debounce(() => onTriggerChangeView(), 150);\n\n    const onChangeZoom = debounce(() => onTriggerChangeZoom(), 150);\n\n    const onLoadNewSceneVR = useCallback(() => {\n      const sceneId = _window[krpanoId].get('sceneId');\n      if (sceneId) onChangeScene(sceneId);\n    }, [krpanoId, onChangeScene]);\n\n    const onLoadComplete = useCallback(async () => {\n      if (scene && !isLoadedRef.current) {\n        onApplyConfigPluginKrpanoForScene();\n\n        if (scene?.config?.isLittlePlanet && isFirstScene)\n          onApplyConfigLittlePlanetKrpano();\n\n        onTriggerLoadCompleted(\n          isTurnOffFollowMode,\n          configControlModeProject.mode || 'drag',\n        );\n\n        onAddHotspotNadirKrpano(nadirConfig);\n\n        if (scene?.hotspots)\n          for (let i = 0; i < scene.hotspots.length; i++) {\n            await onAddHotspotKrpano(scene.hotspots[i]);\n          }\n\n        // NOTE: init garrows plugin\n        _window[krpanoId].call('hide_hotspots_no_vr()');\n        _window[krpanoId].call('garrows_init()');\n        isLoadedRef.current = true;\n        setIsLoaded(true);\n      }\n    }, [\n      scene,\n      krpanoId,\n      nadirConfig,\n      setIsLoaded,\n      isFirstScene,\n      onAddHotspotKrpano,\n      isTurnOffFollowMode,\n      onTriggerLoadCompleted,\n      configControlModeProject,\n      onAddHotspotNadirKrpano,\n      onApplyConfigLittlePlanetKrpano,\n      onApplyConfigPluginKrpanoForScene,\n    ]);\n\n    const onTriggerCreateCommentSceneKrpano = useCallback(() => {\n      const x = _window[krpanoId].get('mouse.clickx');\n      const y = _window[krpanoId].get('mouse.clicky');\n      const location = _window[krpanoId].screentosphere(x, y);\n      const commentSceneTemporary = {\n        id: generateRandomID(),\n        ath: location.x,\n        atv: location.y,\n        message: '',\n        scene: scene.id,\n        scene_id: scene.id,\n      };\n      setCommentSceneTemporary(commentSceneTemporary);\n      setIsShowDialogCreateCommentScene(true);\n    }, [\n      scene,\n      krpanoId,\n      setCommentSceneTemporary,\n      setIsShowDialogCreateCommentScene,\n    ]);\n\n    /**\n     * !SECTION: END_LISTEN_EVENT\n     */\n\n    /**\n     * SECTION: CROSS_FUNCTION\n     */\n    useImperativeHandle(\n      ref,\n      () => ({\n        getContainer() {\n          return containerRef.current;\n        },\n        // ! VIEW KRPANO\n        viewPlanet() {\n          _window[krpanoId].call('cm_littleplanet_view');\n        },\n        viewNormal() {\n          _window[krpanoId].call('cm_normal_view');\n        },\n        viewMirrorBall() {\n          _window[krpanoId].call('mirror_ball_view');\n        },\n        viewFullscreen() {\n          toogleFullScreen();\n          // if (isSupportFullScreen())\n          //   _window[krpanoId].call(\n          //     `tween(layer[fullscreen_exitbutton].alpha, ${\n          //       isFullScreen() ? 0 : 1\n          //     })`,\n          //   );\n        },\n        viewWebvr() {\n          _window[krpanoId].call('webvr.enterVR()');\n        },\n        toggleGyro() {\n          _window[krpanoId].call('toggleGyroscope()');\n        },\n        startAutoRotate({ speed = 10, wait_time = 20 }) {\n          _window[krpanoId].call(`startrotation(${speed}, ${wait_time})`);\n        },\n        stopAutoRotate() {\n          _window[krpanoId].call('stoprotation');\n        },\n        toLeft() {\n          _window[krpanoId].call('set(hlookat_moveforce,-0.75)');\n        },\n        toRight() {\n          _window[krpanoId].call('set(hlookat_moveforce,+0.75)');\n        },\n        stopToHorizontal() {\n          _window[krpanoId].call('set(hlookat_moveforce,0)');\n        },\n        toUp() {\n          _window[krpanoId].call('set(vlookat_moveforce,-0.75)');\n        },\n        toDown() {\n          _window[krpanoId].call('set(vlookat_moveforce,+0.75)');\n        },\n        stopToVertical() {\n          _window[krpanoId].call('set(vlookat_moveforce,0)');\n        },\n        removeAllChevronHotspot(hotspots: I_Hotspot[]) {\n          hotspots\n            .filter(item => item.type === 'chevron')\n            .forEach(item => {\n              const name = `hotspot-${item.id}-${krpanoId}-type${item.type}-${\n                item.polygon ? 'ispolygon' : 'unpolygon'\n              }`;\n              _window[krpanoId].call(`removenavigationelements(${name})`);\n            });\n        },\n        triggerSound() {\n          setIsAllowTriggerSound(true);\n        },\n        destroySound() {\n          if (_window[krpanoId]) _window[krpanoId].call(`destroy_sound()`);\n        },\n        muteAllSound(detailScene: I_Scene) {\n          detailScene?.hotspots?.forEach(hotspot => {\n            const name = `hotspot-${hotspot.id}-${krpanoId}-type${\n              hotspot.type\n            }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}`;\n            if (hotspot.type === 'sound' && hotspot.config?.sound)\n              _window[krpanoId].call(`toggle_mute_sound(${`${name}`}, true)`);\n            else if (\n              hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media\n            )\n              _window[krpanoId].set(`hotspot[${name}].muted`, true);\n            else if (\n              hotspot.type === 'media' &&\n              hotspot.config?.media?.type === 'media-video' &&\n              hotspot?.config?.media?.media?.src\n            )\n              listHotspotMediaVideoRef.current\n                .get(hotspot.id)\n                .onToggleMute(true);\n          });\n        },\n        unmuteAllSound(detailScene: I_Scene) {\n          detailScene?.hotspots?.forEach(hotspot => {\n            const name = `hotspot-${hotspot.id}-${krpanoId}-type${\n              hotspot.type\n            }-${hotspot.polygon ? 'ispolygon' : 'unpolygon'}`;\n            if (hotspot.type === 'sound' && hotspot.config?.sound)\n              _window[krpanoId].call(`toggle_mute_sound(${`${name}`}, false)`);\n            else if (\n              hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media\n            )\n              _window[krpanoId].set(`hotspot[${name}].muted`, false);\n            else if (\n              hotspot.type === 'media' &&\n              hotspot.config?.media?.type === 'media-video' &&\n              hotspot?.config?.media?.media?.src\n            )\n              listHotspotMediaVideoRef.current\n                .get(hotspot.id)\n                .onToggleMute(false);\n          });\n        },\n        get(key: string) {\n          _window[krpanoId].get(key);\n        },\n        set(key: string, value: string) {\n          _window[krpanoId].set(key, value);\n        },\n        call(xml: string) {\n          _window[krpanoId].call(xml);\n        },\n        onAddCommentScene(commentScene: I_CommentScene) {\n          onAddCommentSceneKrpano(commentScene);\n        },\n        onRemoveCommentScene(id: string) {\n          onRemoveCommentSceneKrpano(id);\n        },\n        onReplaceCommentScene(commentScene: I_CommentScene) {\n          onReplaceCommentSceneKrpano(commentScene);\n        },\n        focusOnCommentScene(commentScene, func) {\n          const call = `lookat(${commentScene.ath}, ${\n            commentScene.atv\n          }, null, null, true, true, ${func()})`;\n          _window[krpanoId].call(call);\n        },\n        loadXml(xml: string) {\n          _window[krpanoId].call(`load_menu_vr(${xml})`);\n        },\n      }),\n      [\n        krpanoId,\n        onAddCommentSceneKrpano,\n        onRemoveCommentSceneKrpano,\n        onReplaceCommentSceneKrpano,\n      ],\n    );\n\n    /**\n     * SECTION: INIT_KRPANO\n     */\n    useEffect(() => {\n      if (!krpanoView && krpanoId) setKrpanoView(KRPANO(krpanoId));\n    }, [krpanoView, krpanoId]);\n\n    useEffect(() => {\n      if (krpanoView)\n        krpanoView.init(\n          divId,\n          `${process.env.NEXT_PUBLIC_ASSETS_URL}/core/tour.xml`,\n          {\n            mypath: process.env.NEXT_PUBLIC_ASSETS_URL,\n          },\n        );\n    }, [krpanoView, divId]);\n\n    useEffect(() => {\n      if (\n        krpanoView &&\n        urlTour &&\n        tourEventStats.isVisiblePopupIntro !== undefined\n      ) {\n        setIsLoaded(false);\n        isLoadedRef.current = false;\n        if (scene && !tourEventStats.isVisiblePopupIntro)\n          loadSceneToView(scene);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [scene?.id, krpanoView, tourEventStats.isVisiblePopupIntro]);\n\n    useEffect(() => {\n      if (_window[krpanoId] && krpanoView) {\n        _window[krpanoId].addEventListener('onloadcomplete', onLoadComplete);\n        _window[krpanoId].addEventListener('onviewchange', onChangeView);\n        _window[krpanoId].addEventListener('onmousewheel', onChangeZoom);\n        _window[krpanoId].addEventListener('onnewpanovr', onLoadNewSceneVR);\n        _window[krpanoId].addEventListener(\n          'ondoubleclick',\n          onTriggerCreateCommentSceneKrpano,\n        );\n      }\n      return () => {\n        if (_window[krpanoId]) {\n          _window[krpanoId].removeEventListener(\n            'onloadcomplete',\n            onLoadComplete,\n          );\n          _window[krpanoId].removeEventListener('onviewchange', onChangeView);\n          _window[krpanoId].removeEventListener('onmousewheel', onChangeZoom);\n          _window[krpanoId].removeEventListener(\n            'ondoubleclick',\n            onTriggerCreateCommentSceneKrpano,\n          );\n          _window[krpanoId].removeEventListener(\n            'onnewpanovr',\n            onLoadNewSceneVR,\n          );\n          setIsAllowTriggerSound(false);\n        }\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [krpanoView, scene]);\n\n    /**\n     * NOTE: trigger play_sound_at_hotspot (only when hotspot loaded)\n     */\n    useEffect(() => {\n      if (isLoaded && isAllowTriggerSound)\n        scene?.hotspots?.forEach(hotspot => {\n          if (\n            (hotspot.type === 'sound' &&\n              hotspot.config?.sound !== undefined &&\n              hotspot.config?.sound?.auto_play) ||\n            (hotspot.type === 'instructor' &&\n              hotspot.config?.instructor?.media &&\n              !hotspot.config?.instructor?.paused_on_start)\n          ) {\n            onTriggerSoundHotspot(hotspot, isAllowTriggerSoundRef.current);\n          } else if (\n            hotspot.type === 'media' &&\n            hotspot.config?.media?.type === 'media-video' &&\n            hotspot?.config?.media?.volume &&\n            listHotspotMediaVideoRef.current.get(hotspot.id)\n          )\n            listHotspotMediaVideoRef.current\n              .get(hotspot.id)\n              .onToggleMute(false);\n        });\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isLoaded, isAllowTriggerSound]);\n\n    return (\n      <div\n        id={divId}\n        ref={containerRef}\n        style={{\n          ...{\n            width: '100%',\n            height: '250px',\n          },\n          ...styleContainer,\n        }}\n      >\n        {children}\n      </div>\n    );\n  },\n);\n\nexport default memo(KrpanoViewer);\n","import styled from 'styled-components';\n\nexport const BeforeAfterSliderWrapper = styled.div`\n  width: 100%;\n  position: relative;\n  height: 100%;\n  z-index: 1;\n\n  .--pane {\n    top: 0;\n    position: absolute;\n    height: 100%;\n    width: 100%;\n  }\n  img {\n    user-select: none;\n  }\n  .--first-photo-container,\n  .--second-photo-container {\n    background: transparent;\n    > img {\n      width: 100%;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n    }\n  }\n  .--delimiter {\n    position: absolute;\n    height: 100%;\n    background: #fff;\n    width: 5px;\n    top: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .--delimiter-icon {\n    width: 25px;\n    height: 25px;\n    border-radius: 50%;\n    background: #fff;\n    cursor: col-resize;\n  }\n\n  .--size-fix-img {\n    width: 100%;\n    opacity: 0;\n  }\n`;\n","import KrpanoBasic from '@components/Krpano/KrpanoBasic';\nimport { I_NadirConfig, I_Scene } from '@containers/Home/types';\nimport React, {\n  MouseEventHandler,\n  TouchEventHandler,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { BeforeAfterSliderWrapper } from './styled';\n\n// eslint-disable-next-line no-shadow\nenum MODE_CURSOR {\n  MOVE = 'move',\n  DEFAULT = 'default',\n}\n\nexport function isIntersectionObserverSupport() {\n  if (typeof window === 'undefined') return false;\n  return Boolean(window.IntersectionObserver);\n}\n\nexport interface Image {\n  id?: string | number;\n  imageUrl: string;\n}\n\ninterface Props {\n  scenes?: (I_Scene & { urlTour: string })[];\n  classNames?: string;\n  onVisible?: () => void;\n  delimiterColor?: string;\n  withResizeFeel?: boolean;\n  firstPane: React.ReactNode;\n  nadirConfig?: I_NadirConfig;\n  mode: 'split' | 'slide' | '';\n}\n\nfunction useInit(\n  updateContainerWidth: () => void,\n  onMouseUpHandler: () => void,\n) {\n  useEffect(() => {\n    updateContainerWidth();\n    document.addEventListener('click', onMouseUpHandler);\n    return () => {\n      document.removeEventListener('click', onMouseUpHandler);\n    };\n  }, [onMouseUpHandler, updateContainerWidth]);\n}\n\nfunction useResizeFeel(callback: () => void, withResizeFeel?: boolean) {\n  useEffect(() => {\n    if (withResizeFeel) {\n      window.addEventListener('resize', callback);\n    }\n\n    return () => {\n      window.removeEventListener('resize', callback);\n    };\n  }, [callback, withResizeFeel]);\n}\n\nexport default function BeforeAfterSlider({\n  scenes = [],\n  firstPane,\n  onVisible,\n  classNames,\n  nadirConfig,\n  delimiterColor,\n  withResizeFeel = true,\n  mode = 'slide',\n}: Props) {\n  const refContainer = useRef<HTMLDivElement>(null);\n  const stateTemporary = useRef(null);\n  const [containerWidth, setContainerWidth] = useState<number | null>(null);\n  const [panesPosition, setPanesPosition] = useState<\n    | {\n        width: number;\n        left: number;\n      }[]\n    | undefined\n  >(undefined);\n  const [sliderMode, setSliderMode] = useState<MODE_CURSOR>(\n    MODE_CURSOR.DEFAULT,\n  );\n  const [containerPosition, setContainerPosition] = useState({\n    top: 0,\n    left: 0,\n  });\n\n  const firstPanePosition = useMemo(\n    () =>\n      mode === 'split'\n        ? {\n            width: 100 - panesPosition?.reduce((a, b) => a + b.width, 0),\n            left: panesPosition?.reduce((a, b) => a + b.width, 0),\n          }\n        : {\n            width: '100%',\n            left: '0',\n          },\n    [mode, panesPosition],\n  );\n\n  /**\n   * Observer start\n   */\n  const observerVisiblePersent = 0.95;\n  const observerOptions = {\n    threshold: [0.0, observerVisiblePersent],\n  };\n  const observerCallback = (entries: IntersectionObserverEntry[]) => {\n    if (!observer || !onVisible) return;\n    entries.forEach(entry => {\n      if (entry.intersectionRatio > observerVisiblePersent) {\n        observer.disconnect();\n        onVisible();\n      }\n    });\n  };\n  const [observer] = useState(\n    onVisible && isIntersectionObserverSupport()\n      ? new IntersectionObserver(observerCallback, observerOptions)\n      : null,\n  );\n\n  useEffect(() => {\n    if (observer) observer.observe(refContainer.current as HTMLDivElement);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [observer]);\n\n  /**\n   * Observer end\n   */\n\n  useEffect(() => {\n    if (!containerWidth) return;\n    const positions = [];\n    const widthAverage = Number(100 / (scenes.length + 1));\n    for (let index = 0; index < scenes.length; index += 1) {\n      if (index === 0) positions.push({ width: widthAverage, left: 0 });\n      else {\n        const left = widthAverage * index;\n        positions.push({ width: widthAverage, left });\n      }\n    }\n    setPanesPosition(positions);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [containerWidth, scenes]);\n\n  const updateContainerWidth = () => {\n    if (!refContainer.current) return;\n    const width = refContainer.current.offsetWidth;\n    setContainerWidth(width);\n  };\n\n  const onMouseUpHandler = () => {\n    setSliderMode(MODE_CURSOR.DEFAULT);\n  };\n\n  useInit(updateContainerWidth, onMouseUpHandler);\n\n  const delimiterIconStyles = {\n    backgroundColor: delimiterColor,\n  };\n  const delimiterPositionStyle = {\n    backgroundColor: delimiterColor,\n    right: 0,\n  };\n\n  const updateContainerPosition = () => {\n    if (!refContainer.current) return;\n    const containerCoords = refContainer.current.getBoundingClientRect();\n\n    setContainerPosition({\n      top: containerCoords.top + (window as any).pageYOffset,\n      left: containerCoords.left + (window as any).pageXOffset,\n    });\n  };\n\n  const onMouseDownHandler = item => {\n    updateContainerPosition();\n    setSliderMode(MODE_CURSOR.MOVE);\n    if (!stateTemporary.current) stateTemporary.current = [];\n    stateTemporary.current.itemActive = item;\n  };\n\n  const onMouseMoveHandler: MouseEventHandler<HTMLDivElement> = e => {\n    e.preventDefault();\n    onMoveHandler(e);\n  };\n\n  const onTouchMoveHandler: TouchEventHandler<HTMLDivElement> = e => {\n    onMoveHandler(e.touches[0]);\n  };\n\n  const onMoveHandler = (e: React.Touch | React.MouseEvent) => {\n    if (sliderMode === MODE_CURSOR.MOVE) {\n      if (!containerWidth) return;\n      const X = e.pageX - containerPosition.left;\n      const newPosition = (X / containerWidth) * 100;\n      if (stateTemporary.current.itemActive === panesPosition.length - 1)\n        setPanesPosition(prev =>\n          prev.map((item, idx) => {\n            if (idx === stateTemporary.current.itemActive) {\n              const newItem = {\n                width:\n                  newPosition -\n                  (panesPosition\n                    .map(el => el.width || 0)\n                    .reduce((a, b) => a + b, 0) -\n                    item.width),\n                left: item.left,\n              };\n              if (newItem.width > 5) return newItem;\n            }\n            return item;\n          }),\n        );\n      else\n        setPanesPosition(prev =>\n          prev.map((item, idx) => {\n            if (idx === stateTemporary.current.itemActive) {\n              stateTemporary.current.totalWidthCurrentAndNextItem =\n                item.width + prev[idx + 1].width;\n              stateTemporary.current.totalWidthItemsLtCurrent = prev\n                .filter((_item, i) => i < stateTemporary.current.itemActive)\n                .map(el => el.width || 0)\n                .reduce((a, b) => a + b, 0);\n              stateTemporary.current.currentWidthOld = item.width;\n              stateTemporary.current.currentWidthNew =\n                stateTemporary.current.itemActive === 0\n                  ? newPosition\n                  : newPosition -\n                    stateTemporary.current.totalWidthItemsLtCurrent;\n              const newItem = {\n                width: stateTemporary.current.currentWidthNew,\n                left: item.left,\n              };\n              stateTemporary.current.isUpdateNextItem = false;\n              if (\n                newItem.width > 5 &&\n                newItem.width <\n                  stateTemporary.current.totalWidthCurrentAndNextItem - 5\n              ) {\n                stateTemporary.current.isUpdateNextItem = true;\n                return newItem;\n              }\n            }\n            if (idx === stateTemporary.current.itemActive + 1) {\n              const newWidth =\n                item.width +\n                stateTemporary.current.currentWidthOld -\n                stateTemporary.current.currentWidthNew;\n              const newItem = {\n                width: newWidth,\n                left:\n                  stateTemporary.current.totalWidthItemsLtCurrent +\n                  stateTemporary.current.currentWidthNew,\n              };\n              if (stateTemporary.current.isUpdateNextItem) return newItem;\n            }\n            return item;\n          }),\n        );\n    }\n  };\n\n  useResizeFeel(updateContainerWidth, withResizeFeel);\n\n  return (\n    <BeforeAfterSliderWrapper\n      ref={refContainer}\n      className={classNames}\n      onMouseMove={onMouseMoveHandler}\n      onTouchMove={onTouchMoveHandler}\n    >\n      {panesPosition && Boolean(containerWidth) && (\n        <>\n          <div\n            className=\"--pane --first-photo-container\"\n            style={{\n              width: `${firstPanePosition.width}%`,\n              left: `${firstPanePosition.left}%`,\n              zIndex: 0,\n            }}\n          >\n            {firstPane}\n          </div>\n          {scenes.map((item, index) => (\n            <div\n              key={item.id}\n              className=\"--pane --second-photo-container\"\n              style={{\n                width: `${panesPosition[index]?.width || 0}%`,\n                left: `${panesPosition[index]?.left || 0}%`,\n                zIndex: scenes.length - index,\n              }}\n            >\n              <div\n                style={{\n                  width: '100%',\n                  height: '100%',\n                  overflow: 'hidden',\n                  position: 'relative',\n                }}\n              >\n                <KrpanoBasic\n                  urlTour={item.urlTour || ''}\n                  scene={item || undefined}\n                  krpanoId={`krpanoView_${index}`}\n                  divId={`krpanoContainer_${index}`}\n                  styleContainer={{\n                    height: '100%',\n                    position: 'absolute',\n                    left:\n                      mode === 'slide'\n                        ? `calc(-1vw * ${panesPosition[index]?.left})`\n                        : '0',\n                    top: 0,\n                    width: mode === 'slide' ? '100vw' : '100%',\n                  }}\n                  nadirConfig={nadirConfig}\n                />\n              </div>\n              <div className=\"--delimiter\" style={delimiterPositionStyle}>\n                {mode === 'slide' && (\n                  <div>\n                    <div\n                      className=\"--delimiter-icon\"\n                      onMouseDown={onMouseDownHandler.bind(this, index)}\n                      onTouchStart={onMouseDownHandler.bind(this, index)}\n                      style={delimiterIconStyles}\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n        </>\n      )}\n    </BeforeAfterSliderWrapper>\n  );\n}\n","import dynamic from 'next/dynamic';\nimport React, {\n  memo,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport KrpanoViewer from '@components/Krpano/KrpanoViewer';\nimport { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport {\n  selectConfigFollowModeProject,\n  selectConfigNadir,\n  selectConfigSoundProject,\n  selectListScene,\n  selectPrevSceneSelected,\n  selectSceneSelected,\n  selectThemeConfigGlobal,\n} from '@containers/Home/selectors';\nimport { useKrpano } from '@containers/Home/hook/useKrpano';\nimport {\n  useTourEventState,\n  useCollaborationMode,\n} from '@containers/Home/global/TourStats';\nimport BeforeAfterSlider from '@components/BeforeAfterSlider';\nimport { TourWrapper } from './styled';\nimport { I_Scene } from '../types';\nimport { ID_KRPANO_CONTAINER } from '../constants';\n\nconst DialogPost = dynamic(() => import('@components/DialogPost'));\nconst Map = dynamic(() => import('@containers/Home/components/Map'));\nconst TourSound = dynamic(\n  () => import('@containers/Home/components/Tour.Sound'),\n);\nconst TourEvent = dynamic(\n  () => import('@containers/Home/components/Tour.Event'),\n);\nconst Floorplan = dynamic(\n  () => import('@containers/Home/components/Floorplan'),\n);\nconst MultipleStagingThumb = dynamic(\n  () => import('@containers/Home/components/MultipleStagingThumb'),\n);\n\nexport interface I_Tour {\n  onNextScene: () => void;\n  children?: React.ReactNode;\n  onChangeScene?: (scene: I_Scene) => void;\n}\n\nconst Tour = ({ onChangeScene, onNextScene, children }: I_Tour) => {\n  const listScene = useSelector(selectListScene);\n  const nadirConfig = useSelector(selectConfigNadir);\n  const themeConfig = useSelector(selectThemeConfigGlobal);\n  const sceneSelected = useSelector(selectSceneSelected);\n  const configSound = useSelector(selectConfigSoundProject);\n  const prevSceneSelected = useSelector(selectPrevSceneSelected);\n  const configFollowMode = useSelector(selectConfigFollowModeProject);\n\n  const isLoadedVRMenuRef = useRef(false);\n  const krpanoRef = useRef<Type_RefFuncKrpano>(null!);\n  const [krpanoRefState, setKrpanoRefState] = useState<Type_RefFuncKrpano>(\n    null!,\n  );\n\n  const urlTour = useMemo(\n    () =>\n      sceneSelected?.media?.src_preview ||\n      sceneSelected?.media?.src_thumb ||\n      sceneSelected?.media?.src,\n    [sceneSelected],\n  );\n\n  const isShowMultipleStagingThumb = useMemo(\n    () =>\n      sceneSelected?.mode === 'staging' &&\n      sceneSelected?.staging.length &&\n      sceneSelected?.staging.filter(item => item.media).length &&\n      !sceneSelected?.configStaging?.modeDisplay,\n    [sceneSelected],\n  );\n\n  const sceneChildsMultipleStaging = useMemo(\n    () =>\n      (\n        (sceneSelected?.mode === 'staging' &&\n        !!sceneSelected?.configStaging?.modeDisplay\n          ? sceneSelected?.staging\n          : []) || []\n      )\n        .filter(item => item.media)\n        .map(item => ({\n          ...item,\n          urlTour:\n            item?.media?.src_preview ||\n            item?.media?.src_thumb ||\n            item?.media?.src,\n          config: sceneSelected?.config,\n          configPlugin: sceneSelected?.configPlugin,\n        })),\n    [sceneSelected],\n  );\n\n  const [tourEventStats, setTourEventState] = useTourEventState('state');\n  const [, setKrpanoInstance] = useCollaborationMode('krpanoRef');\n\n  const {\n    isShowIconMap,\n    isShowIconFloorplan,\n    onCloseDialogPostProject,\n    //\n    onStartRotate,\n    onClickHotspot,\n    onStopHotspotSound,\n    onStartHotspotSound,\n    onChangeAutoChangeScene,\n    onRemoveAllChevronHotspot,\n    onToggleModeMultipleStaging,\n    onGenerateXMLMenuThumbnailOnVR,\n  } = useKrpano({ krpanoRef: krpanoRefState });\n\n  const onChangeSceneById = useCallback(\n    id => {\n      const nextscene = listScene.find(scene => scene.id === id);\n      if (nextscene) onChangeScene(nextscene);\n    },\n    [listScene, onChangeScene],\n  );\n\n  /**\n   * NOTE: destroy sound prevScene when change scene\n   */\n  useEffect(() => {\n    if (prevSceneSelected) {\n      onStopHotspotSound();\n      onRemoveAllChevronHotspot(prevSceneSelected.hotspots);\n      onToggleModeMultipleStaging(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [prevSceneSelected]);\n\n  /**\n   * NOTE: auto play sound when change scene (only when allow sound autoplay)\n   */\n  useEffect(() => {\n    if (configSound.on && sceneSelected) onStartHotspotSound();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sceneSelected, configSound]);\n\n  useEffect(() => {\n    if (\n      !isLoadedVRMenuRef.current &&\n      krpanoRefState &&\n      tourEventStats?.isLoaded\n    ) {\n      const xml = onGenerateXMLMenuThumbnailOnVR();\n      krpanoRefState.loadXml(xml);\n      krpanoRefState.call(\n        `hide_selected_scene_from_menu_vr(${sceneSelected?.id})`,\n      );\n      isLoadedVRMenuRef.current = true;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [tourEventStats?.isLoaded, krpanoRefState]);\n\n  useEffect(() => {\n    if (sceneSelected && isLoadedVRMenuRef.current)\n      krpanoRefState.call(\n        `hide_selected_scene_from_menu_vr(${sceneSelected.id})`,\n      );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sceneSelected]);\n\n  return (\n    <TourWrapper>\n      <BeforeAfterSlider\n        mode={sceneSelected?.configStaging?.modeDisplay}\n        scenes={\n          tourEventStats?.isActiveModeMultipleStaging\n            ? sceneChildsMultipleStaging\n            : []\n        }\n        nadirConfig={nadirConfig || undefined}\n        firstPane={\n          <KrpanoViewer\n            ref={node => {\n              if (!krpanoRef.current) {\n                krpanoRef.current = node;\n                setKrpanoRefState(krpanoRef.current);\n              }\n            }}\n            nadirConfig={nadirConfig || undefined}\n            isLoaded={tourEventStats?.isLoaded}\n            listScene={listScene}\n            urlTour={urlTour || ''}\n            setIsLoaded={isLoaded => {\n              setTourEventState(prev => ({ ...prev, isLoaded }));\n              if (isLoaded) setKrpanoInstance(krpanoRefState);\n              else if (!isLoaded) setKrpanoInstance(null);\n            }}\n            krpanoId={ID_KRPANO_CONTAINER}\n            onClickHotspot={onClickHotspot}\n            divId=\"krpanoContainerSnapshot\"\n            scene={sceneSelected || undefined}\n            styleContainer={{\n              height: '100%',\n              width:\n                sceneSelected?.configStaging?.modeDisplay === 'split'\n                  ? '100%'\n                  : '100vw',\n            }}\n            onChangeAutoChangeScene={onChangeAutoChangeScene}\n            isTurnOffFollowMode={\n              !!sceneChildsMultipleStaging.length || !configFollowMode.enable\n            }\n            onChangeScene={onChangeSceneById}\n          />\n        }\n      />\n\n      {krpanoRefState && (\n        <>\n          {React.Children.map(children, child => {\n            if (React.isValidElement(child)) {\n              return React.cloneElement(\n                child as React.ReactElement<{\n                  krpanoRef: Type_RefFuncKrpano;\n                }>,\n                {\n                  krpanoRef: krpanoRefState,\n                },\n              );\n            }\n            return child;\n          })}\n          <TourSound krpanoRef={krpanoRefState} />\n          <TourEvent\n            krpanoRef={krpanoRefState}\n            onNextScene={onNextScene}\n            onStartRotate={onStartRotate}\n            isLoaded={tourEventStats?.isLoaded}\n          />\n        </>\n      )}\n\n      {tourEventStats?.idPostProjectSelected && (\n        <DialogPost\n          onCancel={onCloseDialogPostProject}\n          isUseDefaultStyle={themeConfig?.selected === 'default'}\n          idPost={tourEventStats?.idPostProjectSelected}\n          visible={tourEventStats?.visibleDialogPostProject}\n        />\n      )}\n\n      {isShowIconMap && <Map onChangeScene={onChangeScene} />}\n      {isShowIconFloorplan && <Floorplan onChangeScene={onChangeScene} />}\n\n      {isShowMultipleStagingThumb && (\n        <MultipleStagingThumb\n          scenes={\n            sceneSelected?.staging?.map(item => ({\n              ...item,\n              config: sceneSelected?.config,\n            })) || []\n          }\n          callKrpano={krpanoRef.current?.call}\n        />\n      )}\n    </TourWrapper>\n  );\n};\n\nexport default memo(Tour);\n","import styled from 'styled-components';\n\nexport const TourSettingWrapper = styled.div``;\n\nexport const TourWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n`;\n"],"names":["pulse","keyframes","dash","pulseCallout","ShapeIconWrapper","styled","FlexRowCenter","props","isRenderShape","css","bgColor","iconColor","ImageIconWrapper","LottieIconWrapper","MarkerIconWrapper","color","DefaultIconWrapper","COLOR_HOTSPOT_BG_DEFAULT","COLOR_HOTSPOT_ICON_DEFAULT","HotspotWrapper","isHidden","type","size","concat","opacity","rotate","height","HotspotMediaWrapper","width","transform","backgroundColor","displayType","CalloutIconWrapper","degrees","LoadingContainerWrapper","antIcon","jsx_runtime","jsx","LoadingOutlined","style","fontSize","spin","LoadingContainer","memo","param","loading","_param_description","description","children","Spin","indicator","tip","spinning","_param_loading","components_LoadingContainer","MODE_CURSOR","PopoverCommentScene","dynamic","Promise","all","__webpack_require__","e","then","bind","SvgContainer","CommentSceneIcon","forwardRef","ref","commentScene","onCreateCommentScene","onUpdateCommentScene","onDeleteCommentScene","useState","isShow","setIsShow","krpanoInstance","useCollaborationMode","commentSceneSelected","setCommentSelected","useEffect","id","onClosePopover","useCallback","_onCreateCommentScene","data","_onUpdateCommentScene","_onDeleteCommentScene","isClosePopover","useImperativeHandle","onClose","Popover","open","content","placement","destroyTooltipOnHide","trigger","zIndex","jsxs","CommentSceneIconWrapper","className","isResolved","src","process","name","span","index","DialogPostWithoutUseRedux","HotspotMedia","hotspot","listPost","isSoundOn","onClickHotspot","videoRef","useRef","isVideoPlaying","setIsVideoPlaying","visibleDialogPost","setVisibleDialogPost","postId","useMemo","config","media","post_id","isVideoLoop","loop","isVideoAutoplay","autoPlay","videoVolume","volume","actionClick","action","content_post","current","muted","autoplay","err","pause","onOpenDialogPost","onCloseDialogPost","onClick","paused","play","onToggleMute","isMute","Fragment","i","onTouchStart","video","playsInline","preload","mediaIOS","source","aria-hidden","img","alt","div","dangerouslySetInnerHTML","__html","idPost","visible","onCancel","useInternalFunction","scene","krpanoId","_window","window","setZoomKrpano","useZoomKrpano","setHLookatKrpano","useHLookatKrpano","setVLookatKrpano","useVLookatKrpano","sceneChilds","mode","staging","day2dust","map","item","_object_spread_props","Z","_object_spread","xml","krpano_xml","urlTour","src_preview","src_thumb","onTriggerChangeView","call","get","onTriggerChangeZoom","onTriggerLoadCompleted","isTurnOffFollowMode","controlMode","set","default_view","x","undefined","y","zoom_lv","onApplyConfigPluginKrpanoForScene","Object","entries","DEFAULT_CONFIG_SCENE_PLUGIN","forEach","keyParent","valueParent","keyChild","valueChild","value","configPlugin","onRenderXmlKrpano","transition","typeTransition","view","fovDefault","isLittlePlanet","zoom_limit","min","max","limit_view","left","right","bottom","top","lensflare","enabled","ath","atv","sun","glare","r_ring","exposure_bias","onTriggerSoundHotspot","isAllowTriggerSound","polygon","sound","file","url","toFixed","reach","auto_play","onAddHotspotNadirKrpano","nadirConfig","krpano","scale","isEnabled","link","onApplyConfigLittlePlanetKrpano","setTimeout","timeTransitionLittlePlanet","onAddHotspotVRKrpanoUtils","onAddHotspotKrpanoUtils","keepHotspotPositionWhenZooming","onConfigHotspotMedia","onConfigHotspotPolygon","polygonHotspotConfigGlobal","polygon_config","fillColor","separateColorAndTransparency","properties","CONFIG_POLYGON_HOTSPOT_DEFAULT","fillColorHover","borderColor","borderColorHover","replace","borderWidth","alpha","title","points","length","coordinate","onConfigHotspotInstructor","instructor","paused_on_start","DEFAULT_CONFIG_INSTRUCTOR_HOTSPOT","sound_360","maskColor","mask","smoothing","threshold","onAddCommentSceneIconUtils","isCommentSceneTemporary","Hotspot","isServer","KrpanoViewer","listScene","divId","_param_divId","_param_krpanoId","onChangeAutoChangeScene","isLoaded","setIsLoaded","styleContainer","_param_isTurnOffFollowMode","onChangeScene","isLoadedRef","isAllowTriggerSoundRef","containerRef","listCommentSceneIconRef","Map","listCommentSceneIconRootRef","listHotspotMediaVideoRef","isFirstScene","useSelector","selectIsFirstScene","selectListPostUsedOnTour","hotspotConfigGlobal","selectHotspotConfigGlobal","selectPolygonConfigGlobal","configControlModeProject","selectConfigControlModeProject","krpanoView","setKrpanoView","setIsAllowTriggerSound","tourEventStats","useTourEventState","useCommentScene","setIsShowDialogCreateCommentScene","setCommentSceneTemporary","loadSceneToView","myscene","loadScene","configStaging","onAddHotspotVRKrpano","_async_to_generator","image","galleries","join","resolve","onAddHotspotKrpano","isReloadHotspot","renderHotspot","hs","contentString","node","lockHotspot","sprite","innerHTML","renderToString","toString","document","getElementById","root","createRoot","render","r","point","isTransition","isHideTitleGlobal","hideTitle","isHidePreviewGlobal","hidePreview","isHideTitleOnTopGlobal","hideTitleOnTopHotspot","bgColorDefault","iconColorDefault","onChangePopover","chevron","_state","sent","endsWith","renderHTMLCommentSceneIcon","isOwnerTour","newData","Math","abs","message","scene_id","unmount","onAddCommentSceneKrpano","isReloadHTML","onRemoveCommentSceneKrpano","onReplaceCommentSceneKrpano","onChangeView","debounce","onChangeZoom","onLoadNewSceneVR","sceneId","onLoadComplete","hotspots","onTriggerCreateCommentSceneKrpano","location","screentosphere","generateRandomID","getContainer","viewPlanet","viewNormal","viewMirrorBall","viewFullscreen","doc","element","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","webkitExitFullscreen","mozCancelFullScreen","body","requestFullscreen","msRequestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","openMessageWithIcon","viewWebvr","toggleGyro","startAutoRotate","speed","_param_wait_time","wait_time","_param_speed","stopAutoRotate","toLeft","toRight","stopToHorizontal","toUp","toDown","stopToVertical","removeAllChevronHotspot","filter","triggerSound","destroySound","muteAllSound","detailScene","unmuteAllSound","key","onAddCommentScene","onRemoveCommentScene","onReplaceCommentScene","focusOnCommentScene","func","loadXml","KRPANO","init","mypath","isVisiblePopupIntro","addEventListener","removeEventListener","_param_styleContainer","Krpano_KrpanoViewer","BeforeAfterSliderWrapper","BeforeAfterSlider","onMouseUpHandler","withResizeFeel","scenes","_param_scenes","firstPane","onVisible","classNames","delimiterColor","_param_mode","refContainer","stateTemporary","containerWidth","setContainerWidth","panesPosition","setPanesPosition","DEFAULT","sliderMode","setSliderMode","containerPosition","setContainerPosition","firstPanePosition","reduce","a","b","observer","Boolean","IntersectionObserver","entry","intersectionRatio","disconnect","observe","positions","widthAverage","Number","push","updateContainerWidth","offsetWidth","delimiterIconStyles","delimiterPositionStyle","updateContainerPosition","containerCoords","getBoundingClientRect","pageYOffset","pageXOffset","onMouseDownHandler","MOVE","itemActive","onMoveHandler","newPosition","X","pageX","prev","idx","newItem","el","totalWidthCurrentAndNextItem","totalWidthItemsLtCurrent","_item","currentWidthOld","currentWidthNew","isUpdateNextItem","_param_withResizeFeel","onMouseMove","preventDefault","onTouchMove","touches","overflow","position","KrpanoBasic","onMouseDown","_this","DialogPost","TourSound","TourEvent","Floorplan","MultipleStagingThumb","components_Tour","sceneSelected","krpanoRef","onNextScene","selectListScene","selectConfigNadir","themeConfig","selectThemeConfigGlobal","selectSceneSelected","configSound","selectConfigSoundProject","prevSceneSelected","selectPrevSceneSelected","configFollowMode","selectConfigFollowModeProject","isLoadedVRMenuRef","krpanoRefState","setKrpanoRefState","isShowMultipleStagingThumb","modeDisplay","sceneChildsMultipleStaging","setTourEventState","setKrpanoInstance","useKrpano","isShowIconMap","isShowIconFloorplan","onCloseDialogPostProject","onStartRotate","onStopHotspotSound","onStartHotspotSound","onRemoveAllChevronHotspot","onToggleModeMultipleStaging","onGenerateXMLMenuThumbnailOnVR","onChangeSceneById","nextscene","find","on","TourWrapper","isActiveModeMultipleStaging","ID_KRPANO_CONTAINER","enable","React","child","idPostProjectSelected","isUseDefaultStyle","selected","visibleDialogPostProject","callKrpano","TourSettingWrapper"],"sourceRoot":""}