{"version":3,"file":"static/chunks/6366.08c83375f3d703fa.js","mappings":"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","sources":["webpack://_N_E/./containers/Home/components/Collaboration/index.tsx","webpack://_N_E/./containers/Home/components/Collaboration/styled.tsx","webpack://_N_E/./containers/Home/global/TourStats.tsx","webpack://_N_E/./node_modules/react-hooks-global-state/dist/index.modern.js","webpack://_N_E/<anon>"],"sourcesContent":["import { useCollaborationMode } from '@containers/Home/global/TourStats';\nimport { useCommentScene } from '@containers/Home/hook/useCommentScene';\nimport useGeneralFunction from '@containers/Home/hook/useGeneralFunction';\nimport {\n  selectListScene,\n  selectSceneSelected,\n  selectTitleProject,\n} from '@containers/Home/selectors';\nimport { actions } from '@containers/Home/slice';\nimport dynamic from 'next/dynamic';\nimport { memo, useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CollaborationWrapper } from './styled';\n\nconst ListScene = dynamic(() => import('./ListScene'));\nconst ListComment = dynamic(() => import('./ListComment'));\nconst DialogCreateCommentScene = dynamic(\n  () => import('./CommentScene/DialogCreateCommentScene'),\n);\nconst LoadingContainer = dynamic(() => import('@components/LoadingContainer'));\n\nconst Collaboration = memo(() => {\n  const dispatch = useDispatch();\n  const [activeScreen, setActiveScreen] = useState('');\n  const { onNextScene } = useGeneralFunction();\n\n  const listScene = useSelector(selectListScene);\n  const titleProject = useSelector(selectTitleProject);\n  const sceneSelected = useSelector(selectSceneSelected);\n\n  const {\n    onCreateCommentScene,\n    onUpdateCommentScene,\n    onDeleteCommentScene,\n    listCommentSceneGroupByParent,\n    listCommentSceneGroupByParentActive,\n    listCommentSceneGroupByParentResolved,\n  } = useCommentScene();\n\n  const [isShowDialogCreateCommentScene, setIsShowDialogCreateCommentScene] =\n    useCollaborationMode('isShowDialogCreateCommentScene');\n  const [commentSceneTemporary] = useCollaborationMode('commentSceneTemporary');\n  const [krpanoInstance] = useCollaborationMode('krpanoRef');\n  const [, setCommentSceneSelected] = useCollaborationMode(\n    'commentSceneSelected',\n  );\n  const [loading] = useCollaborationMode('loading');\n\n  useEffect(() => {\n    if (krpanoInstance) {\n      listCommentSceneGroupByParent.forEach(item => {\n        krpanoInstance.onAddCommentScene(item);\n      });\n      krpanoInstance.call(`followmouse_disable();`);\n      krpanoInstance.set(\n        'cursors.standard',\n        `url(${process.env.NEXT_PUBLIC_ASSETS_URL}/core/comment.svg) 4 12, auto`,\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sceneSelected?.id, krpanoInstance]);\n\n  useEffect(\n    () => {\n      dispatch(\n        actions.setListCommentSceneSelected(sceneSelected?.commentScenes || []),\n      );\n      return () => {\n        dispatch(actions.setListCommentSceneSelected([]));\n        setCommentSceneSelected(null);\n      };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [sceneSelected?.id],\n  );\n\n  const onBackToMainScreen = useCallback(() => setActiveScreen(''), []);\n\n  const onNavigateToDetailScreen = useCallback(\n    scene => {\n      setActiveScreen('detail');\n      onNextScene(scene);\n    },\n    [onNextScene],\n  );\n\n  const onCloseDialogCreateCommentScene = useCallback(() => {\n    setIsShowDialogCreateCommentScene(false);\n  }, [setIsShowDialogCreateCommentScene]);\n\n  const _onMoveToCommentScene = useCallback(\n    commentScene => {\n      function donecall() {\n        setCommentSceneSelected(null);\n      }\n      krpanoInstance.focusOnCommentScene(commentScene, donecall);\n    },\n    [krpanoInstance, setCommentSceneSelected],\n  );\n\n  const _onSelectCommentScene = useCallback(\n    commentScene => {\n      function donecall() {\n        setCommentSceneSelected(commentScene);\n      }\n      krpanoInstance.focusOnCommentScene(commentScene, donecall);\n    },\n    [krpanoInstance, setCommentSceneSelected],\n  );\n\n  const _onUpdateCommentScene = useCallback(\n    data => onUpdateCommentScene(data),\n    [onUpdateCommentScene],\n  );\n\n  const _onDeleteCommentScene = useCallback(\n    data => onDeleteCommentScene(data),\n    [onDeleteCommentScene],\n  );\n\n  const _onCreateCommentScene = useCallback(\n    data => {\n      const newComment = { ...commentSceneTemporary, message: data };\n      onCreateCommentScene(newComment, krpanoInstance);\n    },\n    [krpanoInstance, onCreateCommentScene, commentSceneTemporary],\n  );\n\n  return (\n    <CollaborationWrapper>\n      <LoadingContainer loading={loading}>\n        {activeScreen === 'detail' ? (\n          <ListComment\n            listScene={listScene}\n            onNextScene={onNextScene}\n            titleProject={titleProject}\n            onBack={onBackToMainScreen}\n            sceneSelected={sceneSelected}\n            listCommentSceneGroupByParentActive={\n              listCommentSceneGroupByParentActive\n            }\n            listCommentSceneGroupByParentResolved={\n              listCommentSceneGroupByParentResolved\n            }\n            onMoveToCommentScene={_onMoveToCommentScene}\n            onSelectCommentScene={_onSelectCommentScene}\n            onUpdateCommentScene={_onUpdateCommentScene}\n            onDeleteCommentScene={_onDeleteCommentScene}\n          />\n        ) : (\n          <ListScene\n            listScene={listScene}\n            titleProject={titleProject}\n            sceneSelected={sceneSelected}\n            onNextScene={onNavigateToDetailScreen}\n          />\n        )}\n      </LoadingContainer>\n\n      <div className=\"--guide\">\n        <div className=\"--center\">\n          <i aria-hidden className=\"fas fa-info-circle\" />\n          <small>Double click into your scene to create comment</small>\n        </div>\n      </div>\n\n      {isShowDialogCreateCommentScene && (\n        <DialogCreateCommentScene\n          visible={isShowDialogCreateCommentScene}\n          onCancel={onCloseDialogCreateCommentScene}\n          onCreateCommentScene={_onCreateCommentScene}\n        />\n      )}\n    </CollaborationWrapper>\n  );\n});\n\nexport default Collaboration;\n","import { FlexRowStart } from '@styles/global-styles';\nimport styled from 'styled-components';\nimport { CommentSceneItemWrapper } from './CommentScene/styled';\n\nexport const CollaborationWrapper = styled.div`\n  width: 30%;\n  max-width: 360px;\n  height: 100%;\n  background: var(--color-dark);\n  padding: 12px;\n  position: relative;\n  .--guide {\n    padding: 8px 12px;\n    background: var(--color-dark);\n    color: #fff;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    max-width: 100%;\n    border-top: 1px solid rgba(255, 255, 255, 0.2);\n    line-height: initial;\n    .--center {\n      display: flex;\n      width: max-content;\n      i {\n        margin-right: 8px;\n      }\n    }\n  }\n`;\n\nexport const ListSceneWrapper = styled.div`\n  color: #fff;\n  height: 100%;\n  .--header {\n    .--title {\n      font-weight: 600;\n      .ant-typography {\n        color: #fff;\n        font-size: 15px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    }\n  }\n  .--search {\n    margin: 8px 0;\n  }\n  .--body {\n    height: calc(100% - 100px);\n    overflow: auto;\n    .--list {\n      height: 100%;\n      .--item {\n        display: flex;\n        align-items: center;\n        padding: 10px 0;\n        cursor: pointer;\n        position: relative;\n        background: var(--color-dark-2);\n        color: #fff;\n        margin-bottom: 6px;\n        border-radius: 8px;\n        padding: 8px 4px;\n        transition: all 0.15s ease-out;\n        @media (hover: hover) and (pointer: fine) {\n          &:hover {\n            background: var(--color-dark-3);\n          }\n        }\n        .--left {\n          width: 140px;\n          margin-left: 4px;\n          .--thumb {\n            border-radius: 6px;\n            width: 100%;\n            height: 54px;\n            overflow: hidden;\n            img {\n              object-fit: cover;\n              width: 100%;\n              height: 100%;\n            }\n          }\n          margin-right: 12px;\n        }\n        .--right {\n          width: 100%;\n          .--info {\n            .mainTxt {\n              font-weight: 600;\n              display: -webkit-box;\n              -webkit-line-clamp: 2;\n              -webkit-box-orient: vertical;\n              overflow: hidden;\n            }\n            .subTxt {\n              opacity: 0.5;\n            }\n          }\n        }\n        &.active {\n          background: #fff;\n          color: initial;\n          .--left {\n            .--thumb {\n              box-shadow: 0 0 0 4px var(--color-theme);\n            }\n          }\n        }\n        &:not(:last-child) {\n        }\n      }\n    }\n  }\n`;\n\nexport const ListCommentWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  color: #fff;\n  .--header {\n    width: 100%;\n    display: flex;\n    .--left {\n      padding-right: 8px;\n      i {\n        cursor: pointer;\n        width: 24px;\n        height: 24px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 50%;\n        background: var(--color-dark-2);\n      }\n    }\n    .--right {\n      width: calc(100% - 40px);\n      .--title {\n        width: 100%;\n        font-weight: 600;\n        .ant-typography {\n          color: #fff;\n          font-size: 15px;\n        }\n      }\n      .--select {\n        width: max-content;\n        max-width: 100%;\n        background: var(--color-dark-2);\n        padding: 0px 4px;\n        border-radius: 6px;\n        .ant-select {\n          width: auto;\n          max-width: 100%;\n          &-single {\n            &.ant-select-show-arrow .ant-select-selection-item {\n              padding-right: 32px;\n            }\n          }\n          &-selector {\n            padding: 0;\n          }\n          color: #fff;\n          &-arrow {\n            color: #fff;\n            margin-left: 4px;\n          }\n        }\n      }\n    }\n  }\n\n  .--body {\n    height: 100%;\n    .ant-tabs {\n      .ant-tabs-ink-bar {\n        background: var(--color-theme);\n      }\n      color: #fff;\n      &-nav {\n        &:before {\n          border-bottom: 1px solid rgba(255, 255, 255, 0.25);\n        }\n        &-wrap,\n        &-list {\n          width: 100%;\n        }\n      }\n      .ant-tabs-tab-active {\n        color: var(--color-theme);\n      }\n      &-tab {\n        width: 100%;\n        + .ant-tabs-tab {\n          margin: 0;\n        }\n        &-btn {\n          width: 100%;\n          text-align: center;\n          color: inherit;\n        }\n      }\n    }\n    .--list {\n      max-height: 100%;\n      overflow: auto;\n      .--item {\n        display: flex;\n        padding: 12px 0;\n        .stt {\n          width: 24px;\n          height: 24px;\n          background: var(--color-dark-2);\n          color: #fff;\n          border-radius: 50%;\n          margin: 8px 8px 0 0;\n          font-size: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex: 0 0 auto;\n        }\n        ${CommentSceneItemWrapper} {\n          .info {\n            cursor: pointer;\n            span {\n              margin-left: 8px;\n            }\n          }\n        }\n        .checkbox {\n          margin-left: 12px;\n          .ant-checkbox-inner {\n            background-color: unset;\n          }\n        }\n        &:not(:last-child) {\n          border-bottom: 1px solid rgba(255, 255, 255, 0.15);\n        }\n      }\n    }\n  }\n`;\n\nexport const DetailCommentWrapper = styled.div``;\n\nexport const SelectOptionWithImageWrapper = styled.div`\n  ${FlexRowStart};\n  color: inherit;\n  img {\n    width: 48px;\n    height: auto;\n    flex: 0 0 auto;\n    border-radius: 4px;\n    margin-right: 0.5rem;\n  }\n`;\n","import { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport { createGlobalState } from 'react-hooks-global-state';\nimport { I_CommentScene, I_PayloadCommentScene } from '../types';\n\nconst { useGlobalState: useVLookatKrpano } = createGlobalState<{\n  vlookat?: number;\n}>({ vlookat: undefined });\n\nconst { useGlobalState: useHLookatKrpano } = createGlobalState<{\n  hlookat?: number;\n}>({ hlookat: undefined });\n\nconst { useGlobalState: useZoomKrpano } = createGlobalState<{ zoom?: number }>({\n  zoom: undefined,\n});\n\nconst { useGlobalState: useCollaborationMode } = createGlobalState<{\n  loading: boolean;\n  krpanoRef?: Type_RefFuncKrpano;\n  commentSceneSelected?: I_CommentScene | null;\n  isShowDialogCreateCommentScene?: boolean;\n  commentSceneTemporary?: I_PayloadCommentScene | null;\n}>({\n  loading: false,\n  krpanoRef: undefined,\n  commentSceneSelected: null,\n  isShowDialogCreateCommentScene: false,\n  commentSceneTemporary: null,\n});\n\nconst { useGlobalState: useTourStats } = createGlobalState<{\n  stats: {\n    isShowControlbar?: boolean;\n    btnDirectionActive?: string;\n  };\n}>({\n  stats: {\n    isShowControlbar: true, // for theme\n    btnDirectionActive: '',\n  },\n});\n\nconst { useGlobalState: useTourEventState } = createGlobalState<{\n  state: {\n    isLoaded?: boolean;\n    idPostProjectSelected?: string;\n    visibleDialogPostProject?: boolean;\n    idPostSceneSelected?: string;\n    visibleDialogPostScene?: boolean;\n    isSoundOnScene?: boolean;\n    isVisibleMap?: boolean;\n    isVisibleFloorplan?: boolean;\n    isVisiblePopupIntro?: boolean;\n    isActiveModeMultipleStaging?: boolean;\n  };\n}>({\n  state: {\n    isLoaded: false,\n    //\n    idPostProjectSelected: '',\n    visibleDialogPostProject: false,\n    //\n    idPostSceneSelected: '',\n    visibleDialogPostScene: false,\n    isSoundOnScene: false,\n    //\n    isVisibleMap: true,\n    isVisibleFloorplan: true,\n    isVisiblePopupIntro: undefined,\n    isActiveModeMultipleStaging: false,\n  },\n});\n\nexport {\n  useTourStats,\n  useZoomKrpano,\n  useHLookatKrpano,\n  useVLookatKrpano,\n  useTourEventState,\n  useCollaborationMode,\n};\n","import{useReducer as t,useEffect as e,useRef as r,useState as o,useCallback as n}from\"react\";function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(this,arguments)}const c=(t,e)=>{if(!t.includes(e))throw new Error(`'${e}' not found. It must be provided in initialState as a property key.`)},a=\"production\"!==process.env.NODE_ENV?Symbol(\"UPDATE_STATE\"):Symbol(),l=(l,u)=>{const i=Object.keys(u);let p=u,d=null;const f={};i.forEach(t=>{f[t]=new Set});const E=(t,e)=>e.type===a?e.r?e.r(t):e.e:l(t,e),S=(t,e)=>{\"production\"!==process.env.NODE_ENV&&c(i,t);const r=r=>{return s({},r,{[t]:(o=r[t],n=e,\"function\"==typeof n?n(o):n)});var o,n};if(d)d({type:a,r});else{p=r(p);const e=p[t];f[t].forEach(t=>t(e))}},b=(t,e)=>{i.forEach(r=>{const o=e[r];t[r]!==o&&f[r].forEach(t=>t(o))})};return{useGlobalStateProvider:()=>{const[o,n]=t(E,p);e(()=>{if(d)throw new Error(\"Only one global state provider is allowed\");return d=n,n({type:a,e:p}),()=>{d=null}},[]);const s=r(o);b(s.current,o),s.current=o,e(()=>{p=o},[o])},useGlobalState:t=>{\"production\"!==process.env.NODE_ENV&&c(i,t);const[r,s]=o(p[t]);return e(()=>(f[t].add(s),s(p[t]),()=>{f[t].delete(s)}),[t]),[r,n(e=>S(t,e),[t])]},getGlobalState:t=>(\"production\"!==process.env.NODE_ENV&&c(i,t),p[t]),setGlobalState:S,getState:()=>p,setState:t=>{if(d)d({type:a,e:t});else{const e=p;p=t,b(e,p)}},dispatch:t=>{if(d)d(t);else{const e=p;p=l(p,t),b(e,p)}return t}}},u=t=>l((t,e)=>t,t),i=(t,e=t(void 0,{type:void 0}),r)=>r?r(i)(t,e):l(t,e),p=()=>{if(!window.__REDUX_DEVTOOLS_EXTENSION__)return t=>t;const{before:t,after:e}=(()=>{let t,e;return{before:r=>(o,n,c)=>{if(t=o,e=n,c)return c(r)(o,n);const a=r(o,n);return s({},a,{useGlobalState:t=>{const[e]=a.useGlobalState(t);return[e,()=>{throw new Error(\"Update is not allowed when using DevTools\")}]}})},after:r=>(o,n,c)=>{if(c)return c(r)(o,n);const a=r(t,e);let l=s({},o(n,{type:\"@@redux/INIT\"}),e);const u=[];return s({},a,{getState:()=>l,dispatch:t=>(l=o(l,t),a.setState(l.computedStates[l.currentStateIndex].state),u.forEach(t=>t()),t),subscribe:t=>(u.push(t),()=>{const e=u.indexOf(t);u.splice(e,1)})})}}})();return((...t)=>t.reduce((t,e)=>(...r)=>t(e(...r))))(t,window.__REDUX_DEVTOOLS_EXTENSION__(),e)};export{u as createGlobalState,i as createStore,p as reduxDevToolsExt};\n//# sourceMappingURL=index.modern.mjs.map\n"],"names":["ListScene","dynamic","Promise","all","__webpack_require__","e","then","bind","ListComment","DialogCreateCommentScene","LoadingContainer","Collaboration","memo","dispatch","useDispatch","useState","activeScreen","setActiveScreen","onNextScene","useGeneralFunction","listScene","useSelector","selectListScene","titleProject","selectTitleProject","sceneSelected","selectSceneSelected","useCommentScene","onCreateCommentScene","onUpdateCommentScene","onDeleteCommentScene","listCommentSceneGroupByParent","listCommentSceneGroupByParentActive","listCommentSceneGroupByParentResolved","useCollaborationMode","isShowDialogCreateCommentScene","setIsShowDialogCreateCommentScene","commentSceneTemporary","krpanoInstance","setCommentSceneSelected","loading","useEffect","forEach","item","onAddCommentScene","call","set","concat","process","id","actions","commentScenes","onBackToMainScreen","useCallback","onNavigateToDetailScreen","scene","onCloseDialogCreateCommentScene","_onMoveToCommentScene","commentScene","focusOnCommentScene","_onSelectCommentScene","_onUpdateCommentScene","data","_onDeleteCommentScene","_onCreateCommentScene","_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_11__","Z","_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_12__","message","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","CollaborationWrapper","jsx","onBack","onMoveToCommentScene","onSelectCommentScene","div","className","i","aria-hidden","small","visible","onCancel","__webpack_exports__","styled","ListSceneWrapper","ListCommentWrapper","CommentSceneItemWrapper","SelectOptionWithImageWrapper","FlexRowStart","useGlobalState","createGlobalState","vlookat","undefined","hlookat","zoom","krpanoRef","commentSceneSelected","stats","isShowControlbar","btnDirectionActive","state","isLoaded","idPostProjectSelected","visibleDialogPostProject","idPostSceneSelected","visibleDialogPostScene","isSoundOnScene","isVisibleMap","isVisibleFloorplan","isVisiblePopupIntro","isActiveModeMultipleStaging","s","Object","assign","t","arguments","length","r","o","prototype","hasOwnProperty","apply","a","Symbol","l","u","keys","p","d","f","Set","E","type","S","n","b","useGlobalStateProvider","react__WEBPACK_IMPORTED_MODULE_0__","useReducer","useRef","current","add","delete","getGlobalState","setGlobalState","getState","setState"],"sourceRoot":""}