{"version":3,"file":"static/chunks/6592.926396a98fd6f810.js","mappings":"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","sources":["webpack://_N_E/./node_modules/antd/es/space/Compact.js","webpack://_N_E/./containers/Home/components/Collaboration/CommentScene/CommentScenePopover.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nexport var SpaceCompactItemContext = /*#__PURE__*/React.createContext(null);\nexport var useCompactItemContext = function useCompactItemContext(prefixCls, direction) {\n  var compactItemContext = React.useContext(SpaceCompactItemContext);\n  var compactItemClassnames = React.useMemo(function () {\n    var _classNames;\n    if (!compactItemContext) return '';\n    var compactDirection = compactItemContext.compactDirection,\n      isFirstItem = compactItemContext.isFirstItem,\n      isLastItem = compactItemContext.isLastItem;\n    var separator = compactDirection === 'vertical' ? '-vertical-' : '-';\n    return classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-compact\").concat(separator, \"item\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-compact\").concat(separator, \"first-item\"), isFirstItem), _defineProperty(_classNames, \"\".concat(prefixCls, \"-compact\").concat(separator, \"last-item\"), isLastItem), _defineProperty(_classNames, \"\".concat(prefixCls, \"-compact\").concat(separator, \"item-rtl\"), direction === 'rtl'), _classNames));\n  }, [prefixCls, direction, compactItemContext]);\n  return {\n    compactSize: compactItemContext === null || compactItemContext === void 0 ? void 0 : compactItemContext.compactSize,\n    compactDirection: compactItemContext === null || compactItemContext === void 0 ? void 0 : compactItemContext.compactDirection,\n    compactItemClassnames: compactItemClassnames\n  };\n};\nexport var NoCompactStyle = function NoCompactStyle(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(SpaceCompactItemContext.Provider, {\n    value: null\n  }, children);\n};\nvar CompactItem = function CompactItem(_a) {\n  var children = _a.children,\n    otherProps = __rest(_a, [\"children\"]);\n  return /*#__PURE__*/React.createElement(SpaceCompactItemContext.Provider, {\n    value: otherProps\n  }, children);\n};\nvar Compact = function Compact(props) {\n  var _classNames2;\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    directionConfig = _React$useContext.direction;\n  var _props$size = props.size,\n    size = _props$size === void 0 ? 'middle' : _props$size,\n    direction = props.direction,\n    block = props.block,\n    customizePrefixCls = props.prefixCls,\n    className = props.className,\n    children = props.children,\n    restProps = __rest(props, [\"size\", \"direction\", \"block\", \"prefixCls\", \"className\", \"children\"]);\n  var prefixCls = getPrefixCls('space-compact', customizePrefixCls);\n  var clx = classNames(prefixCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), directionConfig === 'rtl'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-block\"), block), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-vertical\"), direction === 'vertical'), _classNames2), className);\n  var compactItemContext = React.useContext(SpaceCompactItemContext);\n  var childNodes = toArray(children);\n  var nodes = React.useMemo(function () {\n    return childNodes.map(function (child, i) {\n      var key = child && child.key || \"\".concat(prefixCls, \"-item-\").concat(i);\n      return /*#__PURE__*/React.createElement(CompactItem, {\n        key: key,\n        compactSize: size,\n        compactDirection: direction,\n        isFirstItem: i === 0 && (!compactItemContext || (compactItemContext === null || compactItemContext === void 0 ? void 0 : compactItemContext.isFirstItem)),\n        isLastItem: i === childNodes.length - 1 && (!compactItemContext || (compactItemContext === null || compactItemContext === void 0 ? void 0 : compactItemContext.isLastItem))\n      }, child);\n    });\n  }, [size, childNodes, compactItemContext]);\n  // =========================== Render ===========================\n  if (childNodes.length === 0) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clx\n  }, restProps), nodes);\n};\nexport default Compact;","import { I_CommentScene } from '@containers/Home/types';\nimport { Button } from 'antd';\nimport dynamic from 'next/dynamic';\nimport { memo, useCallback } from 'react';\nimport { CommentScenePopoverWrapper } from './styled';\n\nconst CommentBox = dynamic(() => import('./CommentBox'));\nconst CommentSceneItem = dynamic(() => import('./CommentSceneItem'));\n\ninterface Props {\n  onClose: () => void;\n  commentSceneSelected: I_CommentScene;\n  onCreateCommentScene: (data) => void;\n  onUpdateCommentScene: (data) => void;\n  onDeleteCommentScene: (data, isClosePopover?: boolean) => void;\n}\n\nconst Popover = memo(\n  ({\n    onClose,\n    commentSceneSelected,\n    onCreateCommentScene,\n    onUpdateCommentScene,\n    onDeleteCommentScene,\n  }: Props) => {\n    const _onCreateCommentScene = useCallback(\n      message => {\n        onCreateCommentScene({\n          message,\n          parent: commentSceneSelected.id,\n          scene_id: commentSceneSelected.scene,\n          ath: 0,\n          atv: 0,\n        });\n      },\n      [commentSceneSelected, onCreateCommentScene],\n    );\n\n    const _onDeleteParentCommentScene = useCallback(\n      data => {\n        onDeleteCommentScene(data, true);\n      },\n      [onDeleteCommentScene],\n    );\n\n    return (\n      <CommentScenePopoverWrapper>\n        <div className=\"--close\" onClick={onClose}>\n          <i aria-hidden className=\"fas fa-times\" />\n        </div>\n        <div className=\"--parent\">\n          <CommentSceneItem\n            onUpdate={onUpdateCommentScene}\n            commentScene={commentSceneSelected}\n            onDelete={_onDeleteParentCommentScene}\n          >\n            {!!commentSceneSelected.isOwnerTour && (\n              <div className=\"--action\">\n                <Button\n                  disabled={!!commentSceneSelected.isResolved}\n                  size=\"small\"\n                  onClick={onUpdateCommentScene.bind(this, {\n                    ...commentSceneSelected,\n                    ath: undefined,\n                    atv: undefined,\n                    message: undefined,\n                    scene_id: commentSceneSelected.scene,\n                    isResolved: true,\n                  })}\n                >\n                  <i aria-hidden className=\"fal fa-check\" />\n                  <span>\n                    {commentSceneSelected.isResolved\n                      ? 'Resolved'\n                      : 'Mark as Resolved'}\n                  </span>\n                </Button>\n              </div>\n            )}\n          </CommentSceneItem>\n        </div>\n        {!!commentSceneSelected.children.length && (\n          <div className=\"--children hide-scrollbar\">\n            {commentSceneSelected.children.map(item => (\n              <CommentSceneItem\n                key={item.id}\n                layout=\"children\"\n                commentScene={item}\n                onUpdate={onUpdateCommentScene}\n                onDelete={onDeleteCommentScene}\n              />\n            ))}\n          </div>\n        )}\n        <div className=\"--add-new\">\n          <CommentBox\n            initValue=\"\"\n            isShowBtnReset\n            onCancel={() => {}}\n            isShowBtnCancel={false}\n            onSubmit={_onCreateCommentScene}\n          />\n        </div>\n      </CommentScenePopoverWrapper>\n    );\n  },\n);\n\nexport default Popover;\n"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","SpaceCompactItemContext","react__WEBPACK_IMPORTED_MODULE_2__","createContext","useCompactItemContext","prefixCls","direction","compactItemContext","useContext","compactItemClassnames","useMemo","_classNames","compactDirection","isFirstItem","isLastItem","separator","classnames__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__","Z","concat","compactSize","NoCompactStyle","_ref","children","createElement","Provider","value","CompactItem","_a","otherProps","__webpack_exports__","props","_classNames2","_React$useContext","_config_provider__WEBPACK_IMPORTED_MODULE_4__","E_","getPrefixCls","directionConfig","_props$size","size","block","customizePrefixCls","className","restProps","clx","childNodes","rc_util_es_Children_toArray__WEBPACK_IMPORTED_MODULE_1__","nodes","map","child","key","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__","CommentBox","dynamic","Promise","all","__webpack_require__","then","bind","CommentSceneItem","Popover","memo","param","onClose","commentSceneSelected","onCreateCommentScene","onUpdateCommentScene","onDeleteCommentScene","_onCreateCommentScene","useCallback","message","parent","id","scene_id","scene","ath","atv","_onDeleteParentCommentScene","data","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","CommentScenePopoverWrapper","jsx","div","onClick","aria-hidden","onUpdate","commentScene","onDelete","isOwnerTour","Button","disabled","isResolved","_this","_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_5__","_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_6__","undefined","span","item","layout","initValue","isShowBtnReset","onCancel","isShowBtnCancel","onSubmit"],"sourceRoot":""}