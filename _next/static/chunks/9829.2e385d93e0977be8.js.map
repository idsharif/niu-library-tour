{"version":3,"file":"static/chunks/9829.2e385d93e0977be8.js","mappings":"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","sources":["webpack://_N_E/./containers/Home/global/TourStats.tsx","webpack://_N_E/./containers/ThemeBaseKrpano/PostScene.tsx","webpack://_N_E/./node_modules/react-hooks-global-state/dist/index.modern.js","webpack://_N_E/<anon>"],"sourcesContent":["import { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport { createGlobalState } from 'react-hooks-global-state';\nimport { I_CommentScene, I_PayloadCommentScene } from '../types';\n\nconst { useGlobalState: useVLookatKrpano } = createGlobalState<{\n  vlookat?: number;\n}>({ vlookat: undefined });\n\nconst { useGlobalState: useHLookatKrpano } = createGlobalState<{\n  hlookat?: number;\n}>({ hlookat: undefined });\n\nconst { useGlobalState: useZoomKrpano } = createGlobalState<{ zoom?: number }>({\n  zoom: undefined,\n});\n\nconst { useGlobalState: useCollaborationMode } = createGlobalState<{\n  loading: boolean;\n  krpanoRef?: Type_RefFuncKrpano;\n  commentSceneSelected?: I_CommentScene | null;\n  isShowDialogCreateCommentScene?: boolean;\n  commentSceneTemporary?: I_PayloadCommentScene | null;\n}>({\n  loading: false,\n  krpanoRef: undefined,\n  commentSceneSelected: null,\n  isShowDialogCreateCommentScene: false,\n  commentSceneTemporary: null,\n});\n\nconst { useGlobalState: useTourStats } = createGlobalState<{\n  stats: {\n    isShowControlbar?: boolean;\n    btnDirectionActive?: string;\n  };\n}>({\n  stats: {\n    isShowControlbar: true, // for theme\n    btnDirectionActive: '',\n  },\n});\n\nconst { useGlobalState: useTourEventState } = createGlobalState<{\n  state: {\n    isLoaded?: boolean;\n    idPostProjectSelected?: string;\n    visibleDialogPostProject?: boolean;\n    idPostSceneSelected?: string;\n    visibleDialogPostScene?: boolean;\n    isSoundOnScene?: boolean;\n    isVisibleMap?: boolean;\n    isVisibleFloorplan?: boolean;\n    isVisiblePopupIntro?: boolean;\n    isActiveModeMultipleStaging?: boolean;\n  };\n}>({\n  state: {\n    isLoaded: false,\n    //\n    idPostProjectSelected: '',\n    visibleDialogPostProject: false,\n    //\n    idPostSceneSelected: '',\n    visibleDialogPostScene: false,\n    isSoundOnScene: false,\n    //\n    isVisibleMap: true,\n    isVisibleFloorplan: true,\n    isVisiblePopupIntro: undefined,\n    isActiveModeMultipleStaging: false,\n  },\n});\n\nexport {\n  useTourStats,\n  useZoomKrpano,\n  useHLookatKrpano,\n  useVLookatKrpano,\n  useTourEventState,\n  useCollaborationMode,\n};\n","import { useTourEventState } from '@containers/Home/global/TourStats';\nimport dynamic from 'next/dynamic';\nimport React, { memo, useCallback } from 'react';\n\nconst DialogPost = dynamic(() => import('@components/DialogPost'));\n\nconst PostScene = memo(() => {\n  const [tourEventState, setTourEventState] = useTourEventState('state');\n\n  const onCloseDialogPostScene = useCallback(() => {\n    setTourEventState(prev => ({\n      ...prev,\n      idPostSceneSelected: '',\n      visibleDialogPostScene: false,\n    }));\n  }, [setTourEventState]);\n\n  return (\n    <DialogPost\n      onCancel={onCloseDialogPostScene}\n      isUseDefaultStyle={false}\n      idPost={tourEventState.idPostSceneSelected}\n      visible={tourEventState.visibleDialogPostScene}\n    />\n  );\n});\n\nexport default PostScene;\n","import{useReducer as t,useEffect as e,useRef as r,useState as o,useCallback as n}from\"react\";function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(this,arguments)}const c=(t,e)=>{if(!t.includes(e))throw new Error(`'${e}' not found. It must be provided in initialState as a property key.`)},a=\"production\"!==process.env.NODE_ENV?Symbol(\"UPDATE_STATE\"):Symbol(),l=(l,u)=>{const i=Object.keys(u);let p=u,d=null;const f={};i.forEach(t=>{f[t]=new Set});const E=(t,e)=>e.type===a?e.r?e.r(t):e.e:l(t,e),S=(t,e)=>{\"production\"!==process.env.NODE_ENV&&c(i,t);const r=r=>{return s({},r,{[t]:(o=r[t],n=e,\"function\"==typeof n?n(o):n)});var o,n};if(d)d({type:a,r});else{p=r(p);const e=p[t];f[t].forEach(t=>t(e))}},b=(t,e)=>{i.forEach(r=>{const o=e[r];t[r]!==o&&f[r].forEach(t=>t(o))})};return{useGlobalStateProvider:()=>{const[o,n]=t(E,p);e(()=>{if(d)throw new Error(\"Only one global state provider is allowed\");return d=n,n({type:a,e:p}),()=>{d=null}},[]);const s=r(o);b(s.current,o),s.current=o,e(()=>{p=o},[o])},useGlobalState:t=>{\"production\"!==process.env.NODE_ENV&&c(i,t);const[r,s]=o(p[t]);return e(()=>(f[t].add(s),s(p[t]),()=>{f[t].delete(s)}),[t]),[r,n(e=>S(t,e),[t])]},getGlobalState:t=>(\"production\"!==process.env.NODE_ENV&&c(i,t),p[t]),setGlobalState:S,getState:()=>p,setState:t=>{if(d)d({type:a,e:t});else{const e=p;p=t,b(e,p)}},dispatch:t=>{if(d)d(t);else{const e=p;p=l(p,t),b(e,p)}return t}}},u=t=>l((t,e)=>t,t),i=(t,e=t(void 0,{type:void 0}),r)=>r?r(i)(t,e):l(t,e),p=()=>{if(!window.__REDUX_DEVTOOLS_EXTENSION__)return t=>t;const{before:t,after:e}=(()=>{let t,e;return{before:r=>(o,n,c)=>{if(t=o,e=n,c)return c(r)(o,n);const a=r(o,n);return s({},a,{useGlobalState:t=>{const[e]=a.useGlobalState(t);return[e,()=>{throw new Error(\"Update is not allowed when using DevTools\")}]}})},after:r=>(o,n,c)=>{if(c)return c(r)(o,n);const a=r(t,e);let l=s({},o(n,{type:\"@@redux/INIT\"}),e);const u=[];return s({},a,{getState:()=>l,dispatch:t=>(l=o(l,t),a.setState(l.computedStates[l.currentStateIndex].state),u.forEach(t=>t()),t),subscribe:t=>(u.push(t),()=>{const e=u.indexOf(t);u.splice(e,1)})})}}})();return((...t)=>t.reduce((t,e)=>(...r)=>t(e(...r))))(t,window.__REDUX_DEVTOOLS_EXTENSION__(),e)};export{u as createGlobalState,i as createStore,p as reduxDevToolsExt};\n//# sourceMappingURL=index.modern.mjs.map\n"],"names":["useGlobalState","createGlobalState","vlookat","undefined","hlookat","zoom","loading","krpanoRef","commentSceneSelected","isShowDialogCreateCommentScene","commentSceneTemporary","stats","isShowControlbar","btnDirectionActive","state","isLoaded","idPostProjectSelected","visibleDialogPostProject","idPostSceneSelected","visibleDialogPostScene","isSoundOnScene","isVisibleMap","isVisibleFloorplan","isVisiblePopupIntro","isActiveModeMultipleStaging","DialogPost","dynamic","__webpack_require__","e","then","bind","PostScene","memo","useTourEventState","tourEventState","setTourEventState","onCloseDialogPostScene","useCallback","prev","_swc_helpers_src_object_spread_props_mjs__WEBPACK_IMPORTED_MODULE_5__","Z","_swc_helpers_src_object_spread_mjs__WEBPACK_IMPORTED_MODULE_6__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","onCancel","isUseDefaultStyle","idPost","visible","__webpack_exports__","s","Object","assign","t","arguments","length","r","o","prototype","hasOwnProperty","call","apply","a","Symbol","l","u","i","keys","p","d","f","forEach","Set","E","type","S","n","b","useGlobalStateProvider","react__WEBPACK_IMPORTED_MODULE_0__","useReducer","useEffect","useRef","current","useState","add","delete","getGlobalState","setGlobalState","getState","setState","dispatch"],"sourceRoot":""}