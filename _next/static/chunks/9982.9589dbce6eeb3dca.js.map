{"version":3,"file":"static/chunks/9982.9589dbce6eeb3dca.js","mappings":"0QAIQA,EAAqCC,CAAAA,EAAAA,EAAAA,EAAAA,EAE1C,CAAEC,QAASC,KAAAA,CAAU,GAFhBH,cAAAA,CAIAA,EAAqCC,CAAAA,EAAAA,EAAAA,EAAAA,EAE1C,CAAEG,QAASD,KAAAA,CAAU,GAFhBH,cAAAA,CAIAA,EAAkCC,CAAAA,EAAAA,EAAAA,EAAAA,EAAqC,CAC7EI,KAAMF,KAAAA,CACR,GAFQH,cAAAA,CAIAA,EAAyCC,CAAAA,EAAAA,EAAAA,EAAAA,EAM9C,CACDK,QAAS,GACTC,UAAWJ,KAAAA,EACXK,qBAAsB,IAAI,CAC1BC,+BAAgC,GAChCC,sBAAuB,IAAI,GAXrBV,cAAAA,CAcAA,EAAiCC,CAAAA,EAAAA,EAAAA,EAAAA,EAKtC,CACDU,MAAO,CACLC,iBAAkB,GAClBC,mBAAoB,EACtB,CACF,GAVQb,cAAAA,CAYAA,EAAsCC,CAAAA,EAAAA,EAAAA,EAAAA,EAa3C,CACDa,MAAO,CACLC,SAAU,GAEVC,sBAAuB,GACvBC,yBAA0B,GAE1BC,oBAAqB,GACrBC,uBAAwB,GACxBC,eAAgB,GAEhBC,aAAc,GACdC,mBAAoB,GACpBC,oBAAqBpB,KAAAA,EACrBqB,4BAA6B,EAC/B,CACF,GA7BQxB,cAAAA,uKC/BFyB,EAAsBC,IAAQ,kBAAMC,EAAAC,CAAA,OAAAC,IAAA,CAAAF,EAAAG,IAAA,CAAAH,EAAA,kEACpCI,EAAgBL,IAAQ,kBAAMM,QAAAC,GAAA,EAAAN,EAAAC,CAAA,OAAAD,EAAAC,CAAA,OAAAD,EAAAC,CAAA,OAAAD,EAAAC,CAAA,OAAAD,EAAAC,CAAA,SAAAC,IAAA,CAAAF,EAAAG,IAAA,CAAAH,EAAA,kEAC9BO,EAAkBR,IAAQ,kBAAMM,QAAAC,GAAA,EAAAN,EAAAC,CAAA,OAAAD,EAAAC,CAAA,OAAAD,EAAAC,CAAA,OAAAD,EAAAC,CAAA,OAAAD,EAAAC,CAAA,SAAAC,IAAA,CAAAF,EAAAG,IAAA,CAAAH,EAAA,kEAChCQ,EAAmBT,IAAQ,kBAAMM,QAAAC,GAAA,EAAAN,EAAAC,CAAA,OAAAD,EAAAC,CAAA,OAAAD,EAAAC,CAAA,OAAAD,EAAAC,CAAA,OAAAD,EAAAC,CAAA,SAAAC,IAAA,CAAAF,EAAAG,IAAA,CAAAH,EAAA,kEAM1BS,EAAaC,CAAAA,EAAAA,EAAAA,IAAAA,EAAK,SAAAC,CAAA,CAA0B,KAAvB/B,EAAAA,EAAAA,SAAAA,CAC1BgC,EAAgBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAYC,EAAAA,EAAmBA,EAC/CC,EAAgBF,CAAAA,EAAAA,EAAAA,EAAAA,EAAYG,EAAAA,EAAmBA,EAE9CC,EAAaC,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAa,WAAbA,CAAAA,EAAAA,CAEpB,MACE,GAAAC,EAAAC,IAAA,EAACC,EAAAA,EAAiBA,CAAAA,CAACpC,iBAAkBgC,EAAUhC,gBAAgB,WAC7D,GAAAkC,EAAAG,GAAA,EAACxB,EAAAA,CAAAA,GAED,GAAAqB,EAAAC,IAAA,EAACG,MAAAA,CAAIC,UAAU,mBACb,GAAAL,EAAAG,GAAA,EAACG,KAAAA,CAAGD,UAAU,0BAAkBT,EAAcW,KAAK,EAAI,QACvD,GAAAP,EAAAG,GAAA,EAACK,IAAAA,UAAGf,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAec,KAAK,GAAI,WAG9B,GAAAP,EAAAG,GAAA,EAAClB,EAAAA,CAAcxB,UAAWA,IAE1B,GAAAuC,EAAAG,GAAA,EAACd,EAAAA,CAAiB5B,UAAWA,IAC7B,GAAAuC,EAAAG,GAAA,EAACf,EAAAA,CAAgB3B,UAAWA,MAGlC,EAEAgD,CAAAA,EAAA,QAAenB,yEC3C8E,SAAAoB,GAAA,CAAa,OAAAA,EAAAC,OAAAC,MAAA,WAAAC,CAAA,EAAoC,QAAA/B,EAAA,EAAYA,EAAAgC,UAAAC,MAAA,CAAmBjC,IAAA,CAAK,IAAAkC,EAAAF,SAAA,CAAAhC,EAAA,CAAmB,QAAAmC,KAAAD,EAAAL,OAAAO,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAJ,EAAAC,IAAAJ,CAAAA,CAAA,CAAAI,EAAA,CAAAD,CAAA,CAAAC,EAAA,EAAsE,OAAAJ,CAAA,GAASQ,KAAA,MAAAP,UAAA,CAAwB,IAA8HQ,EAA6DC,SAAAC,EAAA,CAAAA,EAAAC,IAAA,CAAoB,IAAAC,EAAAf,OAAAgB,IAAA,CAAAF,GAAuBjB,EAAAiB,EAAAG,EAAA,KAAeC,EAAA,GAAWH,EAAAI,OAAA,CAAAjB,GAAA,CAAcgB,CAAA,CAAAhB,EAAA,KAAAkB,GAAA,GAAe,IAAAC,EAAA,CAAAnB,EAAA/B,IAAAA,EAAAmD,IAAA,GAAAX,EAAAxC,EAAAkC,CAAA,CAAAlC,EAAAkC,CAAA,CAAAH,GAAA/B,EAAAA,CAAA,CAAA0C,EAAAX,EAAA/B,EAAA,CAAAoD,EAAA,CAAArB,EAAA/B,IAAA,CAAsG,IAAAkC,EAAAA,GAAA,KAA0EC,EAA9D,OAAAP,EAAA,GAAWM,EAAA,CAAI,CAAAH,EAAA,CAAAI,CAAAA,EAAAD,CAAA,CAAAH,EAAA,oBAAA/B,EAAAqD,EAAAlB,GAAAnC,CAAA,GAA+C,EAAS,GAAA8C,EAAAA,EAAA,CAAQK,KAAAX,EAAAN,EAAAA,CAAA,OAAW,CAAKR,EAAAQ,EAAAR,GAAO,IAAA1B,EAAA0B,CAAA,CAAAK,EAAA,CAAagB,CAAA,CAAAhB,EAAA,CAAAiB,OAAA,CAAAjB,GAAAA,EAAA/B,GAAA,GAAuBsD,EAAA,CAAAvB,EAAA/B,IAAA,CAAW4C,EAAAI,OAAA,CAAAd,GAAA,CAAc,IAAAC,EAAAnC,CAAA,CAAAkC,EAAA,CAAaH,CAAA,CAAAG,EAAA,GAAAC,GAAAY,CAAA,CAAAb,EAAA,CAAAc,OAAA,CAAAjB,GAAAA,EAAAI,GAAA,EAAgC,EAAG,OAAOoB,uBAAA,KAA4B,IAAApB,EAAAkB,EAAA,CAAW,GAAAG,EAAAC,UAAA,EAACP,EAAAxB,GAAM,GAAA8B,EAAAE,SAAA,EAAC,KAAM,GAAAZ,EAAA,wDAAkE,QAAAA,EAAAO,EAAAA,EAAA,CAAcF,KAAAX,EAAAxC,EAAA0B,CAAA,GAAW,KAAOoB,EAAA,OAAQ,IAAK,IAAAlB,EAAQ,GAAA4B,EAAAG,MAAA,EAACxB,EAAImB,CAAAA,EAAA1B,EAAAgC,OAAA,CAAAzB,GAAAP,EAAAgC,OAAA,CAAAzB,EAA2B,GAAAqB,EAAAE,SAAA,EAAC,KAAMhC,EAAAS,CAAA,EAAI,CAAAA,EAAA,GAAM/D,eAAA2D,GAAA,CAAgE,IAAAG,EAAAN,EAAA,CAAW,GAAA4B,EAAAK,QAAA,EAACnC,CAAA,CAAAK,EAAA,EAAO,MAAO,GAAAyB,EAAAE,SAAA,EAAC,IAAAX,CAAAA,CAAA,CAAAhB,EAAA,CAAA+B,GAAA,CAAAlC,GAAAA,EAAAF,CAAA,CAAAK,EAAA,OAA+BgB,CAAA,CAAAhB,EAAA,CAAAgC,MAAA,CAAAnC,EAAA,CAAe,GAAAG,EAAA,GAAAG,EAAU,GAAAsB,EAAAQ,WAAA,EAAChE,GAAAoD,EAAArB,EAAA/B,GAAA,CAAA+B,EAAA,IAAiBkC,eAAAlC,GAA+DL,CAAA,CAAAK,EAAA,CAAAmC,eAAAd,EAAAe,SAAA,IAAAzC,EAAA0C,SAAArC,GAAA,CAAoD,GAAAe,EAAAA,EAAA,CAAQK,KAAAX,EAAAxC,EAAA+B,CAAA,OAAa,CAAK,IAAA/B,EAAA0B,EAAU4B,EAAAtD,EAAA0B,EAAAK,EAAA,GAAYsC,SAAAtC,GAAA,CAAc,GAAAe,EAAAA,EAAAf,OAAU,CAAK,IAAA/B,EAAA0B,EAAU4B,EAAAtD,EAAA0B,EAAAgB,EAAAhB,EAAAK,GAAA,CAAgB,OAAAA,CAAA,IAAWY,EAAAZ,GAAAW,EAAA,CAAAX,EAAA/B,IAAA+B,EAAAA,GAAAa,EAAA,CAAAb,EAAA/B,EAAA+B,EAAA,QAAqCoB,KAAA,QAAY,CAAAjB,IAAAA,EAAAA,EAAAU,GAAAb,EAAA/B,GAAA0C,EAAAX,EAAA/B,EAAA","sources":["webpack://_N_E/./containers/Home/global/TourStats.tsx","webpack://_N_E/./containers/ThemeSolid/Controlbar.tsx","webpack://_N_E/./node_modules/react-hooks-global-state/dist/index.modern.js","webpack://_N_E/<anon>"],"sourcesContent":["import { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport { createGlobalState } from 'react-hooks-global-state';\nimport { I_CommentScene, I_PayloadCommentScene } from '../types';\n\nconst { useGlobalState: useVLookatKrpano } = createGlobalState<{\n  vlookat?: number;\n}>({ vlookat: undefined });\n\nconst { useGlobalState: useHLookatKrpano } = createGlobalState<{\n  hlookat?: number;\n}>({ hlookat: undefined });\n\nconst { useGlobalState: useZoomKrpano } = createGlobalState<{ zoom?: number }>({\n  zoom: undefined,\n});\n\nconst { useGlobalState: useCollaborationMode } = createGlobalState<{\n  loading: boolean;\n  krpanoRef?: Type_RefFuncKrpano;\n  commentSceneSelected?: I_CommentScene | null;\n  isShowDialogCreateCommentScene?: boolean;\n  commentSceneTemporary?: I_PayloadCommentScene | null;\n}>({\n  loading: false,\n  krpanoRef: undefined,\n  commentSceneSelected: null,\n  isShowDialogCreateCommentScene: false,\n  commentSceneTemporary: null,\n});\n\nconst { useGlobalState: useTourStats } = createGlobalState<{\n  stats: {\n    isShowControlbar?: boolean;\n    btnDirectionActive?: string;\n  };\n}>({\n  stats: {\n    isShowControlbar: true, // for theme\n    btnDirectionActive: '',\n  },\n});\n\nconst { useGlobalState: useTourEventState } = createGlobalState<{\n  state: {\n    isLoaded?: boolean;\n    idPostProjectSelected?: string;\n    visibleDialogPostProject?: boolean;\n    idPostSceneSelected?: string;\n    visibleDialogPostScene?: boolean;\n    isSoundOnScene?: boolean;\n    isVisibleMap?: boolean;\n    isVisibleFloorplan?: boolean;\n    isVisiblePopupIntro?: boolean;\n    isActiveModeMultipleStaging?: boolean;\n  };\n}>({\n  state: {\n    isLoaded: false,\n    //\n    idPostProjectSelected: '',\n    visibleDialogPostProject: false,\n    //\n    idPostSceneSelected: '',\n    visibleDialogPostScene: false,\n    isSoundOnScene: false,\n    //\n    isVisibleMap: true,\n    isVisibleFloorplan: true,\n    isVisiblePopupIntro: undefined,\n    isActiveModeMultipleStaging: false,\n  },\n});\n\nexport {\n  useTourStats,\n  useZoomKrpano,\n  useHLookatKrpano,\n  useVLookatKrpano,\n  useTourEventState,\n  useCollaborationMode,\n};\n","import dynamic from 'next/dynamic';\nimport { memo } from 'react';\nimport { Type_RefFuncKrpano } from '@components/Krpano/types';\nimport { useSelector } from 'react-redux';\nimport {\n  selectDetailProject,\n  selectSceneSelected,\n} from '@containers/Home/selectors';\nimport { useTourStats } from '@containers/Home/global/TourStats';\nimport { ControlbarWrapper } from './styled';\n\nconst ControlbarCopyright = dynamic(() => import('./Controlbar.Copyright'));\nconst ControlbarTop = dynamic(() => import('./Controlbar.Top'));\nconst ControlbarRight = dynamic(() => import('./Controlbar.Right'));\nconst ControlbarCenter = dynamic(() => import('./Controlbar.Center'));\n\ninterface Props {\n  krpanoRef?: Type_RefFuncKrpano;\n}\n\nexport const Controlbar = memo(({ krpanoRef }: Props) => {\n  const sceneSelected = useSelector(selectSceneSelected);\n  const detailProject = useSelector(selectDetailProject);\n\n  const [tourStats] = useTourStats('stats');\n\n  return (\n    <ControlbarWrapper isShowControlbar={tourStats.isShowControlbar}>\n      <ControlbarCopyright />\n\n      <div className=\"txtBox\">\n        <h1 className=\"--projectTitle\">{detailProject.title || 'N/A'}</h1>\n        <p>{sceneSelected?.title || 'N/A'}</p>\n      </div>\n\n      <ControlbarTop krpanoRef={krpanoRef} />\n\n      <ControlbarCenter krpanoRef={krpanoRef} />\n      <ControlbarRight krpanoRef={krpanoRef} />\n    </ControlbarWrapper>\n  );\n});\n\nexport default Controlbar;\n","import{useReducer as t,useEffect as e,useRef as r,useState as o,useCallback as n}from\"react\";function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(this,arguments)}const c=(t,e)=>{if(!t.includes(e))throw new Error(`'${e}' not found. It must be provided in initialState as a property key.`)},a=\"production\"!==process.env.NODE_ENV?Symbol(\"UPDATE_STATE\"):Symbol(),l=(l,u)=>{const i=Object.keys(u);let p=u,d=null;const f={};i.forEach(t=>{f[t]=new Set});const E=(t,e)=>e.type===a?e.r?e.r(t):e.e:l(t,e),S=(t,e)=>{\"production\"!==process.env.NODE_ENV&&c(i,t);const r=r=>{return s({},r,{[t]:(o=r[t],n=e,\"function\"==typeof n?n(o):n)});var o,n};if(d)d({type:a,r});else{p=r(p);const e=p[t];f[t].forEach(t=>t(e))}},b=(t,e)=>{i.forEach(r=>{const o=e[r];t[r]!==o&&f[r].forEach(t=>t(o))})};return{useGlobalStateProvider:()=>{const[o,n]=t(E,p);e(()=>{if(d)throw new Error(\"Only one global state provider is allowed\");return d=n,n({type:a,e:p}),()=>{d=null}},[]);const s=r(o);b(s.current,o),s.current=o,e(()=>{p=o},[o])},useGlobalState:t=>{\"production\"!==process.env.NODE_ENV&&c(i,t);const[r,s]=o(p[t]);return e(()=>(f[t].add(s),s(p[t]),()=>{f[t].delete(s)}),[t]),[r,n(e=>S(t,e),[t])]},getGlobalState:t=>(\"production\"!==process.env.NODE_ENV&&c(i,t),p[t]),setGlobalState:S,getState:()=>p,setState:t=>{if(d)d({type:a,e:t});else{const e=p;p=t,b(e,p)}},dispatch:t=>{if(d)d(t);else{const e=p;p=l(p,t),b(e,p)}return t}}},u=t=>l((t,e)=>t,t),i=(t,e=t(void 0,{type:void 0}),r)=>r?r(i)(t,e):l(t,e),p=()=>{if(!window.__REDUX_DEVTOOLS_EXTENSION__)return t=>t;const{before:t,after:e}=(()=>{let t,e;return{before:r=>(o,n,c)=>{if(t=o,e=n,c)return c(r)(o,n);const a=r(o,n);return s({},a,{useGlobalState:t=>{const[e]=a.useGlobalState(t);return[e,()=>{throw new Error(\"Update is not allowed when using DevTools\")}]}})},after:r=>(o,n,c)=>{if(c)return c(r)(o,n);const a=r(t,e);let l=s({},o(n,{type:\"@@redux/INIT\"}),e);const u=[];return s({},a,{getState:()=>l,dispatch:t=>(l=o(l,t),a.setState(l.computedStates[l.currentStateIndex].state),u.forEach(t=>t()),t),subscribe:t=>(u.push(t),()=>{const e=u.indexOf(t);u.splice(e,1)})})}}})();return((...t)=>t.reduce((t,e)=>(...r)=>t(e(...r))))(t,window.__REDUX_DEVTOOLS_EXTENSION__(),e)};export{u as createGlobalState,i as createStore,p as reduxDevToolsExt};\n//# sourceMappingURL=index.modern.mjs.map\n"],"names":["useGlobalState","createGlobalState","vlookat","undefined","hlookat","zoom","loading","krpanoRef","commentSceneSelected","isShowDialogCreateCommentScene","commentSceneTemporary","stats","isShowControlbar","btnDirectionActive","state","isLoaded","idPostProjectSelected","visibleDialogPostProject","idPostSceneSelected","visibleDialogPostScene","isSoundOnScene","isVisibleMap","isVisibleFloorplan","isVisiblePopupIntro","isActiveModeMultipleStaging","ControlbarCopyright","dynamic","__webpack_require__","e","then","bind","ControlbarTop","Promise","all","ControlbarRight","ControlbarCenter","Controlbar","memo","param","sceneSelected","useSelector","selectSceneSelected","detailProject","selectDetailProject","tourStats","useTourStats","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","ControlbarWrapper","jsx","div","className","h1","title","p","__webpack_exports__","s","Object","assign","t","arguments","length","r","o","prototype","hasOwnProperty","call","apply","a","Symbol","l","u","i","keys","d","f","forEach","Set","E","type","S","n","b","useGlobalStateProvider","react__WEBPACK_IMPORTED_MODULE_0__","useReducer","useEffect","useRef","current","useState","add","delete","useCallback","getGlobalState","setGlobalState","getState","setState","dispatch"],"sourceRoot":""}