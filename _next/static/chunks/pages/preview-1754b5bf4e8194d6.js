(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9175],{93594:function(n,o,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/preview",function(){return i(89649)}])},7400:function(n,o,i){"use strict";i.d(o,{AA:function(){return m},Ai:function(){return X},Aq:function(){return nf},B3:function(){return H},B9:function(){return g},CE:function(){return L},CO:function(){return j},Cx:function(){return y},EC:function(){return S},F7:function(){return Y},FT:function(){return P},Fr:function(){return M},IX:function(){return no},Iy:function(){return ng},J6:function(){return q},JB:function(){return N},M5:function(){return Q},M9:function(){return d},N5:function(){return nr},Nf:function(){return x},Pl:function(){return $},QR:function(){return h},R8:function(){return ni},S5:function(){return k},U9:function(){return G},WA:function(){return w},Y2:function(){return J},Yc:function(){return nn},Yd:function(){return R},ZN:function(){return a},_8:function(){return C},aS:function(){return W},bn:function(){return na},cC:function(){return nc},ci:function(){return nu},d5:function(){return nl},dm:function(){return F},ej:function(){return ns},eu:function(){return nv},f5:function(){return B},g5:function(){return E},hd:function(){return I},iD:function(){return b},iV:function(){return T},j1:function(){return z},ji:function(){return O},kN:function(){return nt},kh:function(){return _},nS:function(){return v},oo:function(){return ne},p8:function(){return p},pG:function(){return nd},pJ:function(){return V},qC:function(){return A},rK:function(){return f},tI:function(){return s},u$:function(){return U},us:function(){return Z}});var t=i(41799),u=i(68697),r=i(29750),e=i(33207),c=i(72853),l=function(n){return n.app||e.E3};(0,u.P1)([l],function(n){return n}),(0,u.P1)([l],function(n){return n.loading}),(0,u.P1)([l],function(n){return n.error}),(0,u.P1)([l],function(n){return n.success});var f=(0,u.P1)([l],function(n){return n.token}),d=(0,u.P1)([l],function(n){return n.project}),v=(0,u.P1)([d],function(n){return(null==n?void 0:n.title)||void 0}),a=(0,u.P1)([d],function(n){var o;return(null==n?void 0:null===(o=n.first_scene)||void 0===o?void 0:o.media)||void 0}),s=(0,u.P1)([d],function(n){return(null==n?void 0:n.thumbnail)||void 0}),g=(0,u.P1)([d],function(n){return(null==n?void 0:n.featured_image)||void 0}),P=(0,u.P1)([d],function(n){var o,i;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.design)||void 0===i?void 0:i.hotspotConfig)||void 0}),p=(0,u.P1)([d],function(n){var o,i;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.design)||void 0===i?void 0:i.polygonConfig)||void 0}),m=(0,u.P1)([d],function(n){var o,i;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.design)||void 0===i?void 0:i.themeConfig)||void 0}),C=(0,u.P1)([d],function(n){var o,i;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.design)||void 0===i?void 0:i.popupConfig)||void 0}),_=(0,u.P1)([d],function(n){var o,i;return(0,t.Z)({},r.TR,null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.design)||void 0===i?void 0:i.formCaptureConfig)}),y=(0,u.P1)([d],function(n){var o,i;return(0,t.Z)({},r.AN,null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.design)||void 0===i?void 0:i.callToActionConfig)}),h=(0,u.P1)([d],function(n){var o,i;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.marketing)||void 0===i?void 0:i.meta_data)||void 0}),q=(0,u.P1)([d],function(n){var o,i,t;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.marketing)||void 0===i?void 0:null===(t=i.analytic)||void 0===t?void 0:t.uid)||void 0}),S=(0,u.P1)([d],function(n){var o,i,t;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.marketing)||void 0===i?void 0:null===(t=i.analytic)||void 0===t?void 0:t.ggTag)||"G-WWEDNMW7YE"}),k=(0,u.P1)([d],function(n){var o,i;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.marketing)||void 0===i?void 0:i.script_chats)||void 0}),w=(0,u.P1)([d],function(n){var o,i;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.setting)||void 0===i?void 0:i.intro_little_planet)||void 0}),b=(0,u.P1)([d],function(n){var o,i;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.setting)||void 0===i?void 0:i.control_mode)||{mode:"drag"}}),N=(0,u.P1)([d],function(n){var o,i;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.setting)||void 0===i?void 0:i.follow_mode)||{enable:!0}}),A=(0,u.P1)([d],function(n){var o,i,t;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.setting)||void 0===i?void 0:null===(t=i.general)||void 0===t?void 0:t.first_scene)||void 0}),E=(0,u.P1)([d],function(n){var o,i,t;return(null==n?void 0:null===(o=n.config)||void 0===o?void 0:null===(i=o.setting)||void 0===i?void 0:null===(t=i.general)||void 0===t?void 0:t.language)||"en"}),F=(0,u.P1)([l],function(n){return n.configAutoRotate||void 0}),T=(0,u.P1)([l],function(n){return n.configAutoChangeScene||void 0}),Z=(0,u.P1)([l],function(n){return n.configSoundProject||void 0}),j=(0,u.P1)([l],function(n){return n.isFirstScene}),G=(0,u.P1)([l],function(n){return n.listScene||[]}),M=(0,u.P1)([l],function(n){return 1===n.listGroup.length&&"uncategory"===n.listGroup[0].id?n.listGroup:n.listGroup.filter(function(n){return"uncategory"!==n.id})}),O=(0,u.P1)([M],function(n){return n.reduce(function(n,o){return n.push(o.scenes),n},[]).flat()}),R=(0,u.P1)([l],function(n){return n.listPost||[]}),J=(0,u.P1)([l],function(n){return n.sceneSelected||void 0}),I=(0,u.P1)([l],function(n){return n.prevSceneSelected||void 0}),W=(0,u.P1)([l],function(n){return n.hotspotSelected||void 0}),x=(0,u.P1)([d,G,M],function(n,o,i){var t,u,r;return(null==n?void 0:null===(t=n.config)||void 0===t?void 0:null===(u=t.setting)||void 0===u?void 0:null===(r=u.general)||void 0===r?void 0:r.first_scene)?o.filter(function(o){var i,t,u;return o.id===(null==n?void 0:null===(i=n.config)||void 0===i?void 0:null===(t=i.setting)||void 0===t?void 0:null===(u=t.general)||void 0===u?void 0:u.first_scene)})[0]||i[0].scenes[0]:i.length?i[0].scenes[0]:void 0}),L=(0,u.P1)([l],function(n){return n.dataMap||void 0}),Y=(0,u.P1)([l],function(n){return n.configMap||void 0}),B=(0,u.P1)([l],function(n){return n.listFloorplan||[]}),U=(0,u.P1)([l],function(n){return n.configFloorplan||void 0});(0,u.P1)([l],function(n){return n.configCollaboration||void 0});var X=(0,u.P1)([l],function(n){return n.configControlbar||void 0}),D=(0,u.P1)([l],function(n){return n.listFormCapture||[]}),K=(0,u.P1)([l],function(n){return n.configFormCapture||[]}),V=(0,u.P1)([l],function(n){return n.hotspotSelectedTemporary||null}),$=(0,u.P1)([l],function(n){return n.isVisibleFormCapture}),Q=(0,u.P1)([l],function(n){return n.formCaptureConfigSelected||void 0}),z=(0,u.P1)([D,Q],function(n,o){return o&&o.form&&n.filter(function(n){return n.id===(null==o?void 0:o.form)})[0]||void 0}),H=(0,u.P1)([K],function(n){return(0,c.cq)(n)}),nn=(0,u.P1)([K],function(n){return(0,c.FR)(n)}),no=(0,u.P1)([K],function(n){return(0,c.J8)(n)}),ni=(0,u.P1)([K],function(n){return(0,c.O_)(n)}),nt=(0,u.P1)([G,K],function(n,o){return(0,c.fq)(n,o)}),nu=(0,u.P1)([G,K],function(n,o){return(0,c.$y)(n,o)}),nr=(0,u.P1)([l],function(n){return n.configLogo||void 0}),ne=(0,u.P1)([l],function(n){return n.configNadir||void 0}),nc=(0,u.P1)([l],function(n){return n.configProtectPassword||void 0}),nl=(0,u.P1)([l],function(n){return n.configCopyRight||void 0}),nf=(0,u.P1)([l],function(n){return n.configPopupIntro||void 0}),nd=(0,u.P1)([l],function(n){return n.listCallToAction||[]}),nv=(0,u.P1)([l],function(n){return n.infoUser||void 0}),na=(0,u.P1)([l],function(n){return n.listCommentSceneSelected||[]}),ns=(0,u.P1)([d,nv],function(n,o){return(null==n?void 0:n.user)===(null==o?void 0:o.id)}),ng=(0,u.P1)([l],function(n){return n.isAllowToAccessOnCollaborationMode})},89649:function(n,o,i){"use strict";i.r(o);var t=i(41799),u=i(69396),r=i(85893),e=i(5152),c=i.n(e),l=i(67294),f=i(33207),d=i(11163),v=i(25617),a=i(7400),s=c()(function(){return Promise.all([i.e(4974),i.e(608)]).then(i.bind(i,44974))},{loadableGenerated:{webpack:function(){return[44974]}},loading:function(){return(0,r.jsx)("span",{children:"Loading"})}});o.default=function(){var n=(0,d.useRouter)(),o=(0,v.I0)(),i=(0,v.v9)(a.rK),e=(0,v.v9)(a.U9),c=(0,v.v9)(a.qC),g=(0,v.v9)(a.WA),P=(0,l.useMemo)(function(){return e.filter(function(n){return n.id===c})[0]||void 0},[e,c]);return(0,l.useEffect)(function(){!i&&n.query.token&&n.query.tour?(o(f.Nw.setToken(JSON.parse(JSON.stringify(n.query.token)))),n.push("".concat("/preview","?tour=").concat(n.query.tour,"&scene=").concat(n.query.scene||""),void 0,{shallow:!0})):!i&&!n.query.token&&(n.query.scene||n.query.tour)&&window.open("".concat("https://studio.panoee.com","/redirect").concat("/preview","/").concat(n.query.tour,"/").concat(n.query.scene||""),"_self")},[o,n,n.query.scene,n.query.token,n.query.tour,i]),(0,l.useEffect)(function(){i&&o((0,f.b6)({id:n.query.tour,isPublic:!1,token:i}))},[i]),(0,l.useEffect)(function(){if(e&&e.length){var i=P?(0,t.Z)({},P):(0,t.Z)({},e[0]);n.query.scene&&(i=(0,t.Z)({},e.filter(function(o){return o.id===n.query.scene})[0])||(0,t.Z)({},e[0])),i.config=(0,t.Z)({},null==i?void 0:i.config)||{},i.config=(0,u.Z)((0,t.Z)({},i.config),{isLittlePlanet:(null==g?void 0:g.enable)||!1,timeTransitionLittlePlanet:(null==g?void 0:g.transition_time)||2}),o(f.Nw.setSceneSelected(i))}},[e.length]),(0,r.jsx)(r.Fragment,{children:i&&(0,r.jsx)(s,{isPublic:!1})})}}},function(n){n.O(0,[3354,9774,2888,179],function(){return n(n.s=93594)}),_N_E=n.O()}]);
//# sourceMappingURL=preview-1754b5bf4e8194d6.js.map